<script id="syncify-hot-injection">
(()=>{var lr=Object.create;var lt=Object.defineProperty;var fr=Object.getOwnPropertyDescriptor;var ur=Object.getOwnPropertyNames;var sr=Object.getPrototypeOf,cr=Object.prototype.hasOwnProperty;var B=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var or=(r,i,a,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let s of ur(i))!cr.call(r,s)&&s!==a&&lt(r,s,{get:()=>i[s],enumerable:!(l=fr(i,s))||l.enumerable});return r};var mr=(r,i,a)=>(a=r!=null?lr(sr(r)):{},or(i||!r||!r.__esModule?lt(a,"default",{value:r,enumerable:!0}):a,r));var ue=B((en,ft)=>{"use strict";function me(r,i,a,l,s,o){return{tag:r,key:i,attrs:a,children:l,text:s,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}me.normalize=function(r){return Array.isArray(r)?me("[",void 0,void 0,me.normalizeChildren(r),void 0,void 0):r==null||typeof r=="boolean"?null:typeof r=="object"?r:me("#",void 0,void 0,String(r),void 0,void 0)};me.normalizeChildren=function(r){var i=[];if(r.length){for(var a=r[0]!=null&&r[0].key!=null,l=1;l<r.length;l++)if((r[l]!=null&&r[l].key!=null)!==a)throw new TypeError(a&&(r[l]!=null||typeof r[l]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var l=0;l<r.length;l++)i[l]=me.normalize(r[l])}return i};ft.exports=me});var Ve=B((tn,ut)=>{"use strict";var hr=ue();ut.exports=function(){var r=arguments[this],i=this+1,a;if(r==null?r={}:(typeof r!="object"||r.tag!=null||Array.isArray(r))&&(r={},i=this),arguments.length===i+1)a=arguments[i],Array.isArray(a)||(a=[a]);else for(a=[];i<arguments.length;)a.push(arguments[i++]);return hr("",r.key,r,a)}});var ve=B((rn,st)=>{"use strict";st.exports={}.hasOwnProperty});var We=B((nn,mt)=>{"use strict";var pr=ue(),yr=Ve(),ye=ve(),dr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,ot={};function ct(r){for(var i in r)if(ye.call(r,i))return!1;return!0}function gr(r){for(var i,a="div",l=[],s={};i=dr.exec(r);){var o=i[1],u=i[2];if(o===""&&u!=="")a=u;else if(o==="#")s.id=u;else if(o===".")l.push(u);else if(i[3][0]==="["){var y=i[6];y&&(y=y.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[4]==="class"?l.push(y):s[i[4]]=y===""?y:y||!0}}return l.length>0&&(s.className=l.join(" ")),ot[r]={tag:a,attrs:s}}function wr(r,i){var a=i.attrs,l=ye.call(a,"class"),s=l?a.class:a.className;if(i.tag=r.tag,i.attrs={},!ct(r.attrs)&&!ct(a)){var o={};for(var u in a)ye.call(a,u)&&(o[u]=a[u]);a=o}for(var u in r.attrs)ye.call(r.attrs,u)&&u!=="className"&&!ye.call(a,u)&&(a[u]=r.attrs[u]);(s!=null||r.attrs.className!=null)&&(a.className=s!=null?r.attrs.className!=null?String(r.attrs.className)+" "+String(s):s:r.attrs.className!=null?r.attrs.className:null),l&&(a.class=null);for(var u in a)if(ye.call(a,u)&&u!=="key"){i.attrs=a;break}return i}function br(r){if(r==null||typeof r!="string"&&typeof r!="function"&&typeof r.view!="function")throw Error("The selector must be either a string or a component.");var i=yr.apply(1,arguments);return typeof r=="string"&&(i.children=pr.normalizeChildren(i.children),r!=="[")?wr(ot[r]||gr(r),i):(i.tag=r,i)}mt.exports=br});var pt=B((an,ht)=>{"use strict";var vr=ue();ht.exports=function(r){return r==null&&(r=""),vr("<",void 0,void 0,r,void 0,void 0)}});var dt=B((ln,yt)=>{"use strict";var xr=ue(),Tr=Ve();yt.exports=function(){var r=Tr.apply(0,arguments);return r.tag="[",r.children=xr.normalizeChildren(r.children),r}});var wt=B((fn,gt)=>{"use strict";var Ke=We();Ke.trust=pt();Ke.fragment=dt();gt.exports=Ke});var Ge=B((un,bt)=>{"use strict";var J=function(r){if(!(this instanceof J))throw new Error("Promise must be called with 'new'.");if(typeof r!="function")throw new TypeError("executor must be a function.");var i=this,a=[],l=[],s=m(a,!0),o=m(l,!1),u=i._instance={resolvers:a,rejectors:l},y=typeof setImmediate=="function"?setImmediate:setTimeout;function m(x,C){return function E(L){var D;try{if(C&&L!=null&&(typeof L=="object"||typeof L=="function")&&typeof(D=L.then)=="function"){if(L===i)throw new TypeError("Promise can't be resolved with itself.");d(D.bind(L))}else y(function(){!C&&x.length===0&&console.error("Possible unhandled promise rejection:",L);for(var S=0;S<x.length;S++)x[S](L);a.length=0,l.length=0,u.state=C,u.retry=function(){E(L)}})}catch(S){o(S)}}}function d(x){var C=0;function E(D){return function(S){C++>0||D(S)}}var L=E(o);try{x(E(s),L)}catch(D){L(D)}}d(r)};J.prototype.then=function(r,i){var a=this,l=a._instance;function s(m,d,x,C){d.push(function(E){if(typeof m!="function")x(E);else try{o(m(E))}catch(L){u&&u(L)}}),typeof l.retry=="function"&&C===l.state&&l.retry()}var o,u,y=new J(function(m,d){o=m,u=d});return s(r,l.resolvers,o,!0),s(i,l.rejectors,u,!1),y};J.prototype.catch=function(r){return this.then(null,r)};J.prototype.finally=function(r){return this.then(function(i){return J.resolve(r()).then(function(){return i})},function(i){return J.resolve(r()).then(function(){return J.reject(i)})})};J.resolve=function(r){return r instanceof J?r:new J(function(i){i(r)})};J.reject=function(r){return new J(function(i,a){a(r)})};J.all=function(r){return new J(function(i,a){var l=r.length,s=0,o=[];if(r.length===0)i([]);else for(var u=0;u<r.length;u++)(function(y){function m(d){s++,o[y]=d,s===l&&i(o)}r[y]!=null&&(typeof r[y]=="object"||typeof r[y]=="function")&&typeof r[y].then=="function"?r[y].then(m,a):m(r[y])})(u)})};J.race=function(r){return new J(function(i,a){for(var l=0;l<r.length;l++)r[l].then(i,a)})};bt.exports=J});var Xe=B((sn,qe)=>{"use strict";var xe=Ge();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=xe:window.Promise.prototype.finally||(window.Promise.prototype.finally=xe.prototype.finally),qe.exports=window.Promise):typeof global<"u"?(typeof global.Promise>"u"?global.Promise=xe:global.Promise.prototype.finally||(global.Promise.prototype.finally=xe.prototype.finally),qe.exports=global.Promise):qe.exports=xe});var xt=B((cn,vt)=>{"use strict";var Je=ue();vt.exports=function(r){var i=r&&r.document,a,l={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(t){return t.attrs&&t.attrs.xmlns||l[t.tag]}function o(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function u(t){var e=t.state;try{return this.apply(e,arguments)}finally{o(t,e)}}function y(){try{return i.activeElement}catch{return null}}function m(t,e,n,f,c,b,P){for(var H=n;H<f;H++){var T=e[H];T!=null&&d(t,T,c,P,b)}}function d(t,e,n,f,c){var b=e.tag;if(typeof b=="string")switch(e.state={},e.attrs!=null&&ze(e.attrs,e,n),b){case"#":x(t,e,c);break;case"<":E(t,e,f,c);break;case"[":L(t,e,n,f,c);break;default:D(t,e,n,f,c)}else z(t,e,n,f,c)}function x(t,e,n){e.dom=i.createTextNode(e.children),k(t,e.dom,n)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function E(t,e,n,f){var c=e.children.match(/^\s*?<(\w+)/im)||[],b=i.createElement(C[c[1]]||"div");n==="http://www.w3.org/2000/svg"?(b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",b=b.firstChild):b.innerHTML=e.children,e.dom=b.firstChild,e.domSize=b.childNodes.length,e.instance=[];for(var P=i.createDocumentFragment(),H;H=b.firstChild;)e.instance.push(H),P.appendChild(H);k(t,P,f)}function L(t,e,n,f,c){var b=i.createDocumentFragment();if(e.children!=null){var P=e.children;m(b,P,0,P.length,n,null,f)}e.dom=b.firstChild,e.domSize=b.childNodes.length,k(t,b,c)}function D(t,e,n,f,c){var b=e.tag,P=e.attrs,H=P&&P.is;f=s(e)||f;var T=f?H?i.createElementNS(f,b,{is:H}):i.createElementNS(f,b):H?i.createElement(b,{is:H}):i.createElement(b);if(e.dom=T,P!=null&&U(e,P,f),k(t,T,c),!Se(e)&&e.children!=null){var I=e.children;m(T,I,0,I.length,n,null,f),e.tag==="select"&&P!=null&&se(e,P)}}function S(t,e){var n;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),n=t.state.view,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,n=t.tag,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(ze(t.state,t,e),t.attrs!=null&&ze(t.attrs,t,e),t.instance=Je.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function z(t,e,n,f,c){S(e,n),e.instance!=null?(d(t,e.instance,n,f,c),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function _(t,e,n,f,c,b){if(!(e===n||e==null&&n==null))if(e==null||e.length===0)m(t,n,0,n.length,f,c,b);else if(n==null||n.length===0)fe(t,e,0,e.length);else{var P=e[0]!=null&&e[0].key!=null,H=n[0]!=null&&n[0].key!=null,T=0,I=0;if(!P)for(;I<e.length&&e[I]==null;)I++;if(!H)for(;T<n.length&&n[T]==null;)T++;if(P!==H)fe(t,e,I,e.length),m(t,n,T,n.length,f,c,b);else if(H){for(var Z=e.length-1,X=n.length-1,Ee,ee,K,Y,V,Ie;Z>=I&&X>=T&&(Y=e[Z],V=n[X],Y.key===V.key);)Y!==V&&g(t,Y,V,f,c,b),V.dom!=null&&(c=V.dom),Z--,X--;for(;Z>=I&&X>=T&&(ee=e[I],K=n[T],ee.key===K.key);)I++,T++,ee!==K&&g(t,ee,K,f,j(e,I,c),b);for(;Z>=I&&X>=T&&!(T===X||ee.key!==V.key||Y.key!==K.key);)Ie=j(e,I,c),G(t,Y,Ie),Y!==K&&g(t,Y,K,f,Ie,b),++T<=--X&&G(t,ee,c),ee!==V&&g(t,ee,V,f,c,b),V.dom!=null&&(c=V.dom),I++,Z--,Y=e[Z],V=n[X],ee=e[I],K=n[T];for(;Z>=I&&X>=T&&Y.key===V.key;)Y!==V&&g(t,Y,V,f,c,b),V.dom!=null&&(c=V.dom),Z--,X--,Y=e[Z],V=n[X];if(T>X)fe(t,e,I,Z+1);else if(I>Z)m(t,n,T,X+1,f,c,b);else{var ar=c,at=X-T+1,be=new Array(at),_e=0,W=0,$e=2147483647,Fe=0,Ee,Be;for(W=0;W<at;W++)be[W]=-1;for(W=X;W>=T;W--){Ee==null&&(Ee=N(e,I,Z+1)),V=n[W];var pe=Ee[V.key];pe!=null&&($e=pe<$e?pe:-1,be[W-T]=pe,Y=e[pe],e[pe]=null,Y!==V&&g(t,Y,V,f,c,b),V.dom!=null&&(c=V.dom),Fe++)}if(c=ar,Fe!==Z-I+1&&fe(t,e,I,Z+1),Fe===0)m(t,n,T,X+1,f,c,b);else if($e===-1)for(Be=$(be),_e=Be.length-1,W=X;W>=T;W--)K=n[W],be[W-T]===-1?d(t,K,f,b,c):Be[_e]===W-T?_e--:G(t,K,c),K.dom!=null&&(c=n[W].dom);else for(W=X;W>=T;W--)K=n[W],be[W-T]===-1&&d(t,K,f,b,c),K.dom!=null&&(c=n[W].dom)}}else{var Ue=e.length<n.length?e.length:n.length;for(T=T<I?T:I;T<Ue;T++)ee=e[T],K=n[T],!(ee===K||ee==null&&K==null)&&(ee==null?d(t,K,f,b,j(e,T+1,c)):K==null?q(t,ee):g(t,ee,K,f,j(e,T+1,c),b));e.length>Ue&&fe(t,e,T,e.length),n.length>Ue&&m(t,n,T,n.length,f,c,b)}}}function g(t,e,n,f,c,b){var P=e.tag,H=n.tag;if(P===H){if(n.state=e.state,n.events=e.events,ir(n,e))return;if(typeof P=="string")switch(n.attrs!=null&&He(n.attrs,n,f),P){case"#":v(e,n);break;case"<":w(t,e,n,b,c);break;case"[":h(t,e,n,f,c,b);break;default:p(e,n,f,b)}else A(t,e,n,f,c,b)}else q(t,e),d(t,n,f,b,c)}function v(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function w(t,e,n,f,c){e.children!==n.children?(R(t,e),E(t,n,f,c)):(n.dom=e.dom,n.domSize=e.domSize,n.instance=e.instance)}function h(t,e,n,f,c,b){_(t,e.children,n.children,f,c,b);var P=0,H=n.children;if(n.dom=null,H!=null){for(var T=0;T<H.length;T++){var I=H[T];I!=null&&I.dom!=null&&(n.dom==null&&(n.dom=I.dom),P+=I.domSize||1)}P!==1&&(n.domSize=P)}}function p(t,e,n,f){var c=e.dom=t.dom;f=s(e)||f,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),he(e,t.attrs,e.attrs,f),Se(e)||_(c,t.children,e.children,n,null,f)}function A(t,e,n,f,c,b){if(n.instance=Je.normalize(u.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");He(n.state,n,f),n.attrs!=null&&He(n.attrs,n,f),n.instance!=null?(e.instance==null?d(t,n.instance,f,b,c):g(t,e.instance,n.instance,f,c,b),n.dom=n.instance.dom,n.domSize=n.instance.domSize):e.instance!=null?(q(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function N(t,e,n){for(var f=Object.create(null);e<n;e++){var c=t[e];if(c!=null){var b=c.key;b!=null&&(f[b]=e)}}return f}var O=[];function $(t){for(var e=[0],n=0,f=0,c=0,b=O.length=t.length,c=0;c<b;c++)O[c]=t[c];for(var c=0;c<b;++c)if(t[c]!==-1){var P=e[e.length-1];if(t[P]<t[c]){O[c]=P,e.push(c);continue}for(n=0,f=e.length-1;n<f;){var H=(n>>>1)+(f>>>1)+(n&f&1);t[e[H]]<t[c]?n=H+1:f=H}t[c]<t[e[n]]&&(n>0&&(O[c]=e[n-1]),e[n]=c)}for(n=e.length,f=e[n-1];n-- >0;)e[n]=f,f=O[f];return O.length=0,e}function j(t,e,n){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return n}function G(t,e,n){var f=i.createDocumentFragment();re(t,f,e),k(t,f,n)}function re(t,e,n){for(;n.dom!=null&&n.dom.parentNode===t;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")for(var f=0;f<n.instance.length;f++)e.appendChild(n.instance[f]);else if(n.tag!=="[")e.appendChild(n.dom);else if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var f=0;f<n.children.length;f++){var c=n.children[f];c!=null&&re(t,e,c)}break}}function k(t,e,n){n!=null?t.insertBefore(e,n):t.appendChild(e)}function Se(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function fe(t,e,n,f){for(var c=n;c<f;c++){var b=e[c];b!=null&&q(t,b)}}function q(t,e){var n=0,f=e.state,c,b;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var P=u.call(e.state.onbeforeremove,e);P!=null&&typeof P.then=="function"&&(n=1,c=P)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var P=u.call(e.attrs.onbeforeremove,e);P!=null&&typeof P.then=="function"&&(n|=2,b=P)}if(o(e,f),!n)M(e),F(t,e);else{if(c!=null){var H=function(){n&1&&(n&=2,n||T())};c.then(H,H)}if(b!=null){var H=function(){n&2&&(n&=1,n||T())};b.then(H,H)}}function T(){o(e,f),M(e),F(t,e)}}function R(t,e){for(var n=0;n<e.instance.length;n++)t.removeChild(e.instance[n])}function F(t,e){for(;e.dom!=null&&e.dom.parentNode===t;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")R(t,e);else{if(e.tag!=="["&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var n=0;n<e.children.length;n++){var f=e.children[n];f!=null&&F(t,f)}}break}}function M(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&u.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&u.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&M(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var f=e[n];f!=null&&M(f)}}}function U(t,e,n){t.tag==="input"&&e.type!=null&&t.dom.setAttribute("type",e.type);var f=e!=null&&t.tag==="input"&&e.type==="file";for(var c in e)ae(t,c,null,e[c],n,f)}function ae(t,e,n,f,c,b){if(!(e==="key"||e==="is"||f==null||oe(e)||n===f&&!le(t,e)&&typeof f!="object"||e==="type"&&t.tag==="input")){if(e[0]==="o"&&e[1]==="n")return it(t,e,f);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),f);else if(e==="style")nt(t.dom,n,f);else if(ie(t,e,c)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+f&&(b||t.dom===y())||t.tag==="select"&&n!==null&&t.dom.value===""+f||t.tag==="option"&&n!==null&&t.dom.value===""+f)return;if(b&&""+f!=""){console.error("`value` is read-only on file inputs!");return}}t.dom[e]=f}else typeof f=="boolean"?f?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,f)}}function ne(t,e,n,f){if(!(e==="key"||e==="is"||n==null||oe(e)))if(e[0]==="o"&&e[1]==="n")it(t,e,void 0);else if(e==="style")nt(t.dom,n,null);else if(ie(t,e,f)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===y()))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var c=e.indexOf(":");c!==-1&&(e=e.slice(c+1)),n!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function se(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var n=""+e.value;(t.dom.value!==n||t.dom.selectedIndex===-1)&&(t.dom.value=n)}"selectedIndex"in e&&ae(t,"selectedIndex",null,e.selectedIndex,void 0)}function he(t,e,n,f){if(e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),n!=null){t.tag==="input"&&n.type!=null&&t.dom.setAttribute("type",n.type);var c=t.tag==="input"&&n.type==="file";for(var b in n)ae(t,b,e&&e[b],n[b],f,c)}var P;if(e!=null)for(var b in e)(P=e[b])!=null&&(n==null||n[b]==null)&&ne(t,b,P,f)}function le(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===y()||t.tag==="option"&&t.dom.parentNode===i.activeElement}function oe(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function ie(t,e,n){return n===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}var ge=/[A-Z]/g;function Ne(t){return"-"+t.toLowerCase()}function Me(t){return t[0]==="-"&&t[1]==="-"?t:t==="cssFloat"?"float":t.replace(ge,Ne)}function nt(t,e,n){if(e!==n)if(n==null)t.style.cssText="";else if(typeof n!="object")t.style.cssText=n;else if(e==null||typeof e!="object"){t.style.cssText="";for(var f in n){var c=n[f];c!=null&&t.style.setProperty(Me(f),String(c))}}else{for(var f in n){var c=n[f];c!=null&&(c=String(c))!==String(e[f])&&t.style.setProperty(Me(f),c)}for(var f in e)e[f]!=null&&n[f]==null&&t.style.removeProperty(Me(f))}}function je(){this._=a}je.prototype=Object.create(null),je.prototype.handleEvent=function(t){var e=this["on"+t.type],n;typeof e=="function"?n=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),n===!1&&(t.preventDefault(),t.stopPropagation())};function it(t,e,n){if(t.events!=null){if(t.events._=a,t.events[e]===n)return;n!=null&&(typeof n=="function"||typeof n=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else n!=null&&(typeof n=="function"||typeof n=="object")&&(t.events=new je,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}function ze(t,e,n){typeof t.oninit=="function"&&u.call(t.oninit,e),typeof t.oncreate=="function"&&n.push(u.bind(t.oncreate,e))}function He(t,e,n){typeof t.onupdate=="function"&&n.push(u.bind(t.onupdate,e))}function ir(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var n=u.call(t.attrs.onbeforeupdate,t,e);if(n!==void 0&&!n)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var n=u.call(t.state.onbeforeupdate,t,e);if(n!==void 0&&!n)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var we;return function(t,e,n){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(we!=null&&t.contains(we))throw new TypeError("Node is currently being rendered to and thus is locked.");var f=a,c=we,b=[],P=y(),H=t.namespaceURI;we=t,a=typeof n=="function"?n:void 0;try{t.vnodes==null&&(t.textContent=""),e=Je.normalizeChildren(Array.isArray(e)?e:[e]),_(t,t.vnodes,e,b,null,H==="http://www.w3.org/1999/xhtml"?void 0:H),t.vnodes=e,P!=null&&y()!==P&&typeof P.focus=="function"&&P.focus();for(var T=0;T<b.length;T++)b[T]()}finally{a=f,we=c}}}});var Qe=B((on,Tt)=>{"use strict";Tt.exports=xt()(typeof window<"u"?window:null)});var Nt=B((mn,St)=>{"use strict";var At=ue();St.exports=function(r,i,a){var l=[],s=!1,o=-1;function u(){for(o=0;o<l.length;o+=2)try{r(l[o],At(l[o+1]),y)}catch(d){a.error(d)}o=-1}function y(){s||(s=!0,i(function(){s=!1,u()}))}y.sync=u;function m(d,x){if(x!=null&&x.view==null&&typeof x!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=l.indexOf(d);C>=0&&(l.splice(C,2),C<=o&&(o-=2),r(d,[])),x!=null&&(l.push(d,x),r(d,At(x),y))}return{mount:m,redraw:y}}});var Ce=B((hn,Et)=>{"use strict";var Ar=Qe();Et.exports=Nt()(Ar,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var Ye=B((pn,qt)=>{"use strict";qt.exports=function(r){if(Object.prototype.toString.call(r)!=="[object Object]")return"";var i=[];for(var a in r)l(a,r[a]);return i.join("&");function l(s,o){if(Array.isArray(o))for(var u=0;u<o.length;u++)l(s+"["+u+"]",o[u]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var u in o)l(s+"["+u+"]",o[u]);else i.push(encodeURIComponent(s)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}});var ke=B((yn,Ct)=>{"use strict";var Sr=ve();Ct.exports=Object.assign||function(r,i){for(var a in i)Sr.call(i,a)&&(r[a]=i[a])}});var Oe=B((dn,Ot)=>{"use strict";var Nr=Ye(),Er=ke();Ot.exports=function(r,i){if(/:([^\/\.-]+)(\.{3})?:/.test(r))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(i==null)return r;var a=r.indexOf("?"),l=r.indexOf("#"),s=l<0?r.length:l,o=a<0?s:a,u=r.slice(0,o),y={};Er(y,i);var m=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(S,z,_){return delete y[z],i[z]==null?S:_?i[z]:encodeURIComponent(String(i[z]))}),d=m.indexOf("?"),x=m.indexOf("#"),C=x<0?m.length:x,E=d<0?C:d,L=m.slice(0,E);a>=0&&(L+=r.slice(a,s)),d>=0&&(L+=(a<0?"?":"&")+m.slice(d,C));var D=Nr(y);return D&&(L+=(a<0&&d<0?"?":"&")+D),l>=0&&(L+=r.slice(l)),x>=0&&(L+=(l<0?"":"&")+m.slice(x)),L}});var Lt=B((gn,Pt)=>{"use strict";var qr=Oe(),Rt=ve();Pt.exports=function(r,i,a){var l=0;function s(y){return new i(y)}s.prototype=i.prototype,s.__proto__=i;function o(y){return function(m,d){typeof m!="string"?(d=m,m=m.url):d==null&&(d={});var x=new i(function(D,S){y(qr(m,d.params),d,function(z){if(typeof d.type=="function")if(Array.isArray(z))for(var _=0;_<z.length;_++)z[_]=new d.type(z[_]);else z=new d.type(z);D(z)},S)});if(d.background===!0)return x;var C=0;function E(){--C===0&&typeof a=="function"&&a()}return L(x);function L(D){var S=D.then;return D.constructor=s,D.then=function(){C++;var z=S.apply(D,arguments);return z.then(E,function(_){if(E(),C===0)throw _}),L(z)},D}}}function u(y,m){for(var d in y.headers)if(Rt.call(y.headers,d)&&d.toLowerCase()===m)return!0;return!1}return{request:o(function(y,m,d,x){var C=m.method!=null?m.method.toUpperCase():"GET",E=m.body,L=(m.serialize==null||m.serialize===JSON.serialize)&&!(E instanceof r.FormData||E instanceof r.URLSearchParams),D=m.responseType||(typeof m.extract=="function"?"":"json"),S=new r.XMLHttpRequest,z=!1,_=!1,g=S,v,w=S.abort;S.abort=function(){z=!0,w.call(this)},S.open(C,y,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),L&&E!=null&&!u(m,"content-type")&&S.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!u(m,"accept")&&S.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(S.withCredentials=m.withCredentials),m.timeout&&(S.timeout=m.timeout),S.responseType=D;for(var h in m.headers)Rt.call(m.headers,h)&&S.setRequestHeader(h,m.headers[h]);S.onreadystatechange=function(p){if(!z&&p.target.readyState===4)try{var A=p.target.status>=200&&p.target.status<300||p.target.status===304||/^file:\/\//i.test(y),N=p.target.response,O;if(D==="json"){if(!p.target.responseType&&typeof m.extract!="function")try{N=JSON.parse(p.target.responseText)}catch{N=null}}else(!D||D==="text")&&N==null&&(N=p.target.responseText);if(typeof m.extract=="function"?(N=m.extract(p.target,m),A=!0):typeof m.deserialize=="function"&&(N=m.deserialize(N)),A)d(N);else{var $=function(){try{O=p.target.responseText}catch{O=N}var j=new Error(O);j.code=p.target.status,j.response=N,x(j)};S.status===0?setTimeout(function(){_||$()}):$()}}catch(j){x(j)}},S.ontimeout=function(p){_=!0;var A=new Error("Request timed out");A.code=p.target.status,x(A)},typeof m.config=="function"&&(S=m.config(S,m,y)||S,S!==g&&(v=S.abort,S.abort=function(){z=!0,v.call(this)})),E==null?S.send():typeof m.serialize=="function"?S.send(m.serialize(E)):E instanceof r.FormData||E instanceof r.URLSearchParams?S.send(E):S.send(JSON.stringify(E))}),jsonp:o(function(y,m,d,x){var C=m.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+l++,E=r.document.createElement("script");r[C]=function(L){delete r[C],E.parentNode.removeChild(E),d(L)},E.onerror=function(){delete r[C],E.parentNode.removeChild(E),x(new Error("JSONP request failed"))},E.src=y+(y.indexOf("?")<0?"?":"&")+encodeURIComponent(m.callbackKey||"callback")+"="+encodeURIComponent(C),r.document.documentElement.appendChild(E)})}}});var Mt=B((wn,Dt)=>{"use strict";var Cr=Xe(),Or=Ce();Dt.exports=Lt()(typeof window<"u"?window:null,Cr,Or.redraw)});var Ze=B((bn,zt)=>{"use strict";function jt(r){try{return decodeURIComponent(r)}catch{return r}}zt.exports=function(r){if(r===""||r==null)return{};r.charAt(0)==="?"&&(r=r.slice(1));for(var i=r.split("&"),a={},l={},s=0;s<i.length;s++){var o=i[s].split("="),u=jt(o[0]),y=o.length===2?jt(o[1]):"";y==="true"?y=!0:y==="false"&&(y=!1);var m=u.split(/\]\[?|\[/),d=l;u.indexOf("[")>-1&&m.pop();for(var x=0;x<m.length;x++){var C=m[x],E=m[x+1],L=E==""||!isNaN(parseInt(E,10));if(C===""){var u=m.slice(0,x).join();a[u]==null&&(a[u]=Array.isArray(d)?d.length:0),C=a[u]++}else if(C==="__proto__")break;if(x===m.length-1)d[C]=y;else{var D=Object.getOwnPropertyDescriptor(d,C);D!=null&&(D=D.value),D==null&&(d[C]=D=L?[]:{}),d=D}}}return l}});var Re=B((vn,Ht)=>{"use strict";var Rr=Ze();Ht.exports=function(r){var i=r.indexOf("?"),a=r.indexOf("#"),l=a<0?r.length:a,s=i<0?l:i,o=r.slice(0,s).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:i<0?{}:Rr(r.slice(i+1,l))}}});var It=B((xn,Ut)=>{"use strict";var Pr=Re();Ut.exports=function(r){var i=Pr(r),a=Object.keys(i.params),l=[],s=new RegExp("^"+i.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,u,y){return u==null?"\\"+o:(l.push({k:u,r:y==="..."}),y==="..."?"(.*)":y==="."?"([^/]+)\\.":"([^/]+)"+(y||""))})+"$");return function(o){for(var u=0;u<a.length;u++)if(i.params[a[u]]!==o.params[a[u]])return!1;if(!l.length)return s.test(o.path);var y=s.exec(o.path);if(y==null)return!1;for(var u=0;u<l.length;u++)o.params[l[u].k]=l[u].r?y[u+1]:decodeURIComponent(y[u+1]);return!0}}});var et=B((Tn,Ft)=>{"use strict";var _t=ve(),$t=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");Ft.exports=function(r,i){var a={};if(i!=null)for(var l in r)_t.call(r,l)&&!$t.test(l)&&i.indexOf(l)<0&&(a[l]=r[l]);else for(var l in r)_t.call(r,l)&&!$t.test(l)&&(a[l]=r[l]);return a}});var Kt=B((An,Wt)=>{"use strict";var Lr=ue(),Dr=We(),Mr=Xe(),Bt=Oe(),Vt=Re(),jr=It(),zr=ke(),Hr=et(),tt={};function Ur(r){try{return decodeURIComponent(r)}catch{return r}}Wt.exports=function(r,i){var a=r==null?null:typeof r.setImmediate=="function"?r.setImmediate:r.setTimeout,l=Mr.resolve(),s=!1,o=!1,u=0,y,m,d=tt,x,C,E,L,D={onbeforeupdate:function(){return u=u?2:1,!(!u||tt===d)},onremove:function(){r.removeEventListener("popstate",_,!1),r.removeEventListener("hashchange",z,!1)},view:function(){if(!(!u||tt===d)){var w=[Lr(x,C.key,C)];return d&&(w=d.render(w[0])),w}}},S=v.SKIP={};function z(){s=!1;var w=r.location.hash;v.prefix[0]!=="#"&&(w=r.location.search+w,v.prefix[0]!=="?"&&(w=r.location.pathname+w,w[0]!=="/"&&(w="/"+w)));var h=w.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Ur).slice(v.prefix.length),p=Vt(h);zr(p.params,r.history.state);function A(O){console.error(O),g(m,null,{replace:!0})}N(0);function N(O){for(;O<y.length;O++)if(y[O].check(p)){var $=y[O].component,j=y[O].route,G=$,re=L=function(k){if(re===L){if(k===S)return N(O+1);x=k!=null&&(typeof k.view=="function"||typeof k=="function")?k:"div",C=p.params,E=h,L=null,d=$.render?$:null,u===2?i.redraw():(u=2,i.redraw.sync())}};$.view||typeof $=="function"?($={},re(G)):$.onmatch?l.then(function(){return $.onmatch(p.params,h,j)}).then(re,h===m?null:A):re("div");return}if(h===m)throw new Error("Could not resolve default route "+m+".");g(m,null,{replace:!0})}}function _(){s||(s=!0,a(z))}function g(w,h,p){if(w=Bt(w,h),o){_();var A=p?p.state:null,N=p?p.title:null;p&&p.replace?r.history.replaceState(A,N,v.prefix+w):r.history.pushState(A,N,v.prefix+w)}else r.location.href=v.prefix+w}function v(w,h,p){if(!w)throw new TypeError("DOM element being rendered to does not exist.");if(y=Object.keys(p).map(function(N){if(N[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(N))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:N,component:p[N],check:jr(N)}}),m=h,h!=null){var A=Vt(h);if(!y.some(function(N){return N.check(A)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof r.history.pushState=="function"?r.addEventListener("popstate",_,!1):v.prefix[0]==="#"&&r.addEventListener("hashchange",z,!1),o=!0,i.mount(w,D),z()}return v.set=function(w,h,p){L!=null&&(p=p||{},p.replace=!0),L=null,g(w,h,p)},v.get=function(){return E},v.prefix="#!",v.Link={view:function(w){var h=Dr(w.attrs.selector||"a",Hr(w.attrs,["options","params","selector","onclick"]),w.children),p,A,N;return(h.attrs.disabled=!!h.attrs.disabled)?(h.attrs.href=null,h.attrs["aria-disabled"]="true"):(p=w.attrs.options,A=w.attrs.onclick,N=Bt(h.attrs.href,w.attrs.params),h.attrs.href=v.prefix+N,h.attrs.onclick=function(O){var $;typeof A=="function"?$=A.call(O.currentTarget,O):A==null||typeof A!="object"||typeof A.handleEvent=="function"&&A.handleEvent(O),$!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,v.set(N,null,p))}),h}},v.param=function(w){return C&&w!=null?C[w]:C},v}});var Xt=B((Sn,Gt)=>{"use strict";var Ir=Ce();Gt.exports=Kt()(typeof window<"u"?window:null,Ir)});var kt=B((Nn,Yt)=>{"use strict";var Pe=wt(),Jt=Mt(),Qt=Ce(),Q=function(){return Pe.apply(this,arguments)};Q.m=Pe;Q.trust=Pe.trust;Q.fragment=Pe.fragment;Q.Fragment="[";Q.mount=Qt.mount;Q.route=Xt();Q.render=Qe();Q.redraw=Qt.redraw;Q.request=Jt.request;Q.jsonp=Jt.jsonp;Q.parseQueryString=Ze();Q.buildQueryString=Ye();Q.parsePathname=Re();Q.buildPathname=Oe();Q.vnode=ue();Q.PromisePolyfill=Ge();Q.censor=et();Yt.exports=Q});var de=mr(kt());var Zt=11;function _r(r,i){var a=i.attributes,l,s,o,u,y;if(!(i.nodeType===Zt||r.nodeType===Zt)){for(var m=a.length-1;m>=0;m--)l=a[m],s=l.name,o=l.namespaceURI,u=l.value,o?(s=l.localName||s,y=r.getAttributeNS(o,s),y!==u&&(l.prefix==="xmlns"&&(s=l.name),r.setAttributeNS(o,s,u))):(y=r.getAttribute(s),y!==u&&r.setAttribute(s,u));for(var d=r.attributes,x=d.length-1;x>=0;x--)l=d[x],s=l.name,o=l.namespaceURI,o?(s=l.localName||s,i.hasAttributeNS(o,s)||r.removeAttributeNS(o,s)):i.hasAttribute(s)||r.removeAttribute(s)}}var Le,$r="http://www.w3.org/1999/xhtml",te=typeof document>"u"?void 0:document,Fr=!!te&&"content"in te.createElement("template"),Br=!!te&&te.createRange&&"createContextualFragment"in te.createRange();function Vr(r){var i=te.createElement("template");return i.innerHTML=r,i.content.childNodes[0]}function Wr(r){Le||(Le=te.createRange(),Le.selectNode(te.body));var i=Le.createContextualFragment(r);return i.childNodes[0]}function Kr(r){var i=te.createElement("body");return i.innerHTML=r,i.childNodes[0]}function Gr(r){return r=r.trim(),Fr?Vr(r):Br?Wr(r):Kr(r)}function De(r,i){var a=r.nodeName,l=i.nodeName,s,o;return a===l?!0:(s=a.charCodeAt(0),o=l.charCodeAt(0),s<=90&&o>=97?a===l.toUpperCase():o<=90&&s>=97?l===a.toUpperCase():!1)}function Xr(r,i){return!i||i===$r?te.createElement(r):te.createElementNS(i,r)}function Jr(r,i){for(var a=r.firstChild;a;){var l=a.nextSibling;i.appendChild(a),a=l}return i}function rt(r,i,a){r[a]!==i[a]&&(r[a]=i[a],r[a]?r.setAttribute(a,""):r.removeAttribute(a))}var er={OPTION:function(r,i){var a=r.parentNode;if(a){var l=a.nodeName.toUpperCase();l==="OPTGROUP"&&(a=a.parentNode,l=a&&a.nodeName.toUpperCase()),l==="SELECT"&&!a.hasAttribute("multiple")&&(r.hasAttribute("selected")&&!i.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),a.selectedIndex=-1)}rt(r,i,"selected")},INPUT:function(r,i){rt(r,i,"checked"),rt(r,i,"disabled"),r.value!==i.value&&(r.value=i.value),i.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,i){var a=i.value;r.value!==a&&(r.value=a);var l=r.firstChild;if(l){var s=l.nodeValue;if(s==a||!a&&s==r.placeholder)return;l.nodeValue=a}},SELECT:function(r,i){if(!i.hasAttribute("multiple")){for(var a=-1,l=0,s=r.firstChild,o,u;s;)if(u=s.nodeName&&s.nodeName.toUpperCase(),u==="OPTGROUP")o=s,s=o.firstChild;else{if(u==="OPTION"){if(s.hasAttribute("selected")){a=l;break}l++}s=s.nextSibling,!s&&o&&(s=o.nextSibling,o=null)}r.selectedIndex=a}}},Te=1,tr=11,rr=3,nr=8;function ce(){}function Qr(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}function Yr(r){return function(a,l,s){if(s||(s={}),typeof l=="string")if(a.nodeName==="#document"||a.nodeName==="HTML"||a.nodeName==="BODY"){var o=l;l=te.createElement("html"),l.innerHTML=o}else l=Gr(l);else l.nodeType===tr&&(l=l.firstElementChild);var u=s.getNodeKey||Qr,y=s.onBeforeNodeAdded||ce,m=s.onNodeAdded||ce,d=s.onBeforeElUpdated||ce,x=s.onElUpdated||ce,C=s.onBeforeNodeDiscarded||ce,E=s.onNodeDiscarded||ce,L=s.onBeforeElChildrenUpdated||ce,D=s.skipFromChildren||ce,S=s.addChild||function(q,R){return q.appendChild(R)},z=s.childrenOnly===!0,_=Object.create(null),g=[];function v(q){g.push(q)}function w(q,R){if(q.nodeType===Te)for(var F=q.firstChild;F;){var M=void 0;R&&(M=u(F))?v(M):(E(F),F.firstChild&&w(F,R)),F=F.nextSibling}}function h(q,R,F){C(q)!==!1&&(R&&R.removeChild(q),E(q),w(q,F))}function p(q){if(q.nodeType===Te||q.nodeType===tr)for(var R=q.firstChild;R;){var F=u(R);F&&(_[F]=R),p(R),R=R.nextSibling}}p(a);function A(q){m(q);for(var R=q.firstChild;R;){var F=R.nextSibling,M=u(R);if(M){var U=_[M];U&&De(R,U)?(R.parentNode.replaceChild(U,R),O(U,R)):A(R)}else A(R);R=F}}function N(q,R,F){for(;R;){var M=R.nextSibling;(F=u(R))?v(F):h(R,q,!0),R=M}}function O(q,R,F){var M=u(R);if(M&&delete _[M],!F){var U=d(q,R);if(U===!1||(U instanceof HTMLElement&&(q=U,p(q)),r(q,R),x(q),L(q,R)===!1))return}q.nodeName!=="TEXTAREA"?$(q,R):er.TEXTAREA(q,R)}function $(q,R){var F=D(q,R),M=R.firstChild,U=q.firstChild,ae,ne,se,he,le;e:for(;M;){for(he=M.nextSibling,ae=u(M);!F&&U;){if(se=U.nextSibling,M.isSameNode&&M.isSameNode(U)){M=he,U=se;continue e}ne=u(U);var oe=U.nodeType,ie=void 0;if(oe===M.nodeType&&(oe===Te?(ae?ae!==ne&&((le=_[ae])?se===le?ie=!1:(q.insertBefore(le,U),ne?v(ne):h(U,q,!0),U=le,ne=u(U)):ie=!1):ne&&(ie=!1),ie=ie!==!1&&De(U,M),ie&&O(U,M)):(oe===rr||oe==nr)&&(ie=!0,U.nodeValue!==M.nodeValue&&(U.nodeValue=M.nodeValue))),ie){M=he,U=se;continue e}ne?v(ne):h(U,q,!0),U=se}if(ae&&(le=_[ae])&&De(le,M))F||S(q,le),O(le,M);else{var ge=y(M);ge!==!1&&(ge&&(M=ge),M.actualize&&(M=M.actualize(q.ownerDocument||te)),S(q,M),A(M))}M=he,U=se}N(q,U,ne);var Ne=er[q.nodeName];Ne&&Ne(q,R)}var j=a,G=j.nodeType,re=l.nodeType;if(!z){if(G===Te)re===Te?De(a,l)||(E(a),j=Jr(a,Xr(l.nodeName,l.namespaceURI))):j=l;else if(G===rr||G===nr){if(re===G)return j.nodeValue!==l.nodeValue&&(j.nodeValue=l.nodeValue),j;j=l}}if(j===l)E(a);else{if(l.isSameNode&&l.isSameNode(j))return;if(O(j,l,z),g)for(var k=0,Se=g.length;k<Se;k++){var fe=_[g[k]];fe&&h(fe,fe.parentNode,!1)}}return!z&&j!==a&&a.parentNode&&(j.actualize&&(j=j.actualize(a.ownerDocument||te)),a.parentNode.replaceChild(j,a)),j}}var kr=Yr(_r),Ae=kr;(function(i){if(!document)return;window.syncify=window.syncify||{ready:!1,connected:!0,errors:[],webcomponents:new Map};let a=document.createElement("div");a.id="syncify-hot-label-status";function l(){let g=new WebSocket(`ws://localhost:${i.socket}/ws`);_(g)}l();let s=`http://localhost:${i.server}/`,o=new DOMParser,u={onBeforeElUpdated:function(g,v){return!(g.id==="syncify-hot-label-status"||g.tagName==="SCRIPT"&&g.hasAttribute("src")||g.isEqualNode(v))}},y=function(g){return{list:()=>Object.keys(g).length>0?g:null,get:v=>v in g?document.body.querySelectorAll(g[v].join(",")):null,load:(v=document.body)=>{g={};let w=v.querySelectorAll(".shopify-section");return w?(w.forEach(({id:h})=>{let p=/[0-9]+_{2}[\w-]+$/.exec(h),A;if(p!==null)A=p[0].slice(p[0].indexOf("__")+2);else if(h.startsWith("shopify-section-"))A=h.slice(16);else return window.syncify.errors.push({title:"Unknown Section",description:`Syncify encountered an issue mapping the section id: ${h}`,group:"section"}),null;let N=`#${h}`;A in g?g[A].indexOf(N)<0&&g[A].push(N):g[A]=[N]}),g):null}}}({}),m=function(){let g={customElementDefine:customElements.define,customElementsGet:customElements.get,querySelector:Document.prototype.querySelector,querySelectorAll:Document.prototype.querySelectorAll,getElementsByTagName:Document.prototype.getElementsByTagName,matches:Element.prototype.matches,closest:Element.prototype.closest},v=(h=10,p)=>(p=p||"",h?v(--h,"abcdefghiklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*60))+p):p);function w(h){return window.syncify.webcomponents.has(h)?window.syncify.webcomponents.get(h):h}Document.prototype.querySelector=function(h){return g.querySelector.call(this,w(h))},Document.prototype.querySelectorAll=function(h){return g.querySelectorAll.call(this,w(h))},Document.prototype.getElementsByName=function(h){return g.getElementsByTagName.call(this,w(h))},Element.prototype.matches=function(h){return g.matches.call(this,w(h))},Element.prototype.closest=function(h){return g.closest.call(this,w(h))},customElements.get=function(h){return g.customElementsGet.call(customElements,w(h))},customElements.define=function(h,p,A){if(window.syncify.webcomponents.has(h)){let N=`${h}-${v()}`,O=window.syncify.webcomponents.get(h);g.customElementDefine.call(customElements,N,p,A),document.body.querySelectorAll(O).forEach($=>{console.info(`Syncify: Web Component '${h}' was refined to ${N} (refresh to reset)`);let j=document.createElement(N);j.innerHTML=$.innerHTML,$.replaceWith(j)}),window.syncify.webcomponents.set(h,N)}else console.info(`Syncify: Web component '${h}' will be monkey patched during HOT Mode.`),g.customElementDefine.call(customElements,h,p,A),window.syncify.webcomponents.set(h,h)}},d=function(){let v="Syncify Connected",w={position:"fixed",left:"0",bottom:"0",right:"0",margin:"0 auto",display:"flex",color:"#fff",zIndex:"2147483647",fontFamily:"system-ui, sans-serif",fontWeight:"300",textAlign:"center",textTransform:"uppercase",justifyContent:"space-around",alignItems:"center",fontSize:"8px"},h={padding:"5px 12px",backgroundColor:"#232326",border:"0.8px solid transparent",borderRadius:"0",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",borderBottom:"0"},p={view:()=>(0,de.default)("div",{style:h},v)};return Object.assign(a.style,w),window.syncify.style={parent:A=>{Object.assign(a.style,w,A),de.default.redraw()},label:A=>{Object.assign(h,A),de.default.redraw()}},de.default.mount(a,p),{get node(){return a},event:A=>(A!==void 0&&(v=A),de.default.redraw(),v),render:A=>{A.append(a)}}}(),x=function(g){let v=null;return{start:()=>{let w=performance.now();g.push(w)},stop:()=>{v!==null&&(clearTimeout(v),v=null),v=setTimeout(()=>{d.event("HOT"),v=null},5e3);let w=performance.now()-g.pop();if(w<1e3)return`${w.toFixed(0)}ms`;let h=w/1e3;if(h<60)return`${h.toFixed(0)}s ${+w.toFixed(0).slice(1)}ms`;let p=(h/60).toFixed(0);return`${p}m ${h-60*Number(p)}s ${+w.toFixed(0).slice(1)}ms`}}}([]);function C(g){let v=g.lastIndexOf("/")+1,w=g.indexOf("?",v);return(w>-1?g.substring(v,w):g.substring(v))+"?v="+Date.now()}function E(g,v){return typeof v!="string"?!1:g.slice(g.lastIndexOf("/")+1).startsWith(v)}function L(g,v){return g.querySelectorAll("link[rel=stylesheet]").forEach(w=>{let h=w.getAttribute("href");E(h,v)&&w.setAttribute("href",s+C(h))}),g}function D(g,v){return g.querySelectorAll("script[src]").forEach(w=>{let h=w.getAttribute("src");if(!E(h,v))return;let p=document.createElement("script");p.setAttribute("src",s+C(h));for(let A of Array.from(w.attributes))A.nodeName!=="src"&&p.setAttribute(A.nodeName,A.nodeValue);w.replaceWith(p)}),g}function S(g){return D(g),L(g),g}function z(g,v){return new Promise(function(w,h){let p=new XMLHttpRequest;p.responseType=v,p.open("GET",g),p.setRequestHeader("X-Syncify-Hot-Request","true"),p.onload=()=>w(p.response),p.onerror=()=>h(p.statusText),p.send()})}function _(g){let v=NaN;g.addEventListener("close",()=>{g=null,setTimeout(l,5e3)}),g.addEventListener("message",function({data:w}){if(w==="connected"){if(!window.syncify.connected)return x.start(),d.event("Reconnecting"),z(location.href,"document").then(h=>{let p=S(h);i.strategy==="hydrate"?Ae(document.body,p.body,u):document.body.replaceWith(p.body),y.load(document.body),d.render(document.body),d.event(`Reconnected in ${x.stop()}`),window.syncify.connected=!0})}else if(w==="disconnect")window.syncify.connected=!1,d.event("Syncify Disconnected");else{if(w==="reload")return d.event("Refreshing"),top.location.reload();if(w==="replace")return x.start(),d.event("Reloading"),isNaN(v)||clearTimeout(v),z(location.href,"document").then(h=>{let p=S(h);i.strategy==="hydrate"?Ae(document.body,p.body,u):document.body.replaceWith(p.body),y.load(document.body),d.render(document.body),d.event(`Reloaded in ${x.stop()}`),v=NaN});{x.start();let[h,p,A]=w.split(",");if(h==="section"){let N=y.get(p);if(N===null){window.syncify.reload();return}let O=`${location.pathname}?sections=${p}`;return N.length>1?d.event(`Reloading ${N.length} Sections: ${p}`):d.event(`Reloading Section: ${p}`),z(O,"json").then($=>{if(N!==null){if(i.strategy==="hydrate"){let j={childrenOnly:!0,onBeforeElUpdated:function(G,re){return G.tagName==="SCRIPT"?!0:!G.isEqualNode(re)}};N.forEach(G=>Ae(G,$[p],j))}else N.forEach(j=>{let{firstElementChild:G}=o.parseFromString($[O],"text/html").body;j.replaceWith(G)});d.event(`Reloaded in ${x.stop()}`)}}).catch($=>{window.syncify.errors.push({title:"XHR Error fetching section",description:`Section with id: ${p} failed to return a response from Shopify`,group:"sections"}),console.error("SYNCIFY: ",$)})}else h==="script"?(d.event(`Reloading JavaScript: ${p}`),D(document,p),g.send(A),d.event(`Reloaded in ${x.stop()}`)):h==="stylesheet"&&(d.event(`Reloading Stylesheet: ${p}`),L(document,p),g.send(A),d.event(`Reloaded in ${x.stop()}`))}}})}window.syncify.sections=y,window.syncify.assets=()=>S(document),window.syncify.refresh=()=>top.location.reload(),window.syncify.reload=()=>z(location.href,"text").then(g=>{let v=o.parseFromString(g,"text/html");i.strategy==="hydrate"?Ae(document.body,S(v).body,u):document.body.replaceWith(v.body),y.load(document.body),d.render(document.body)}),document.addEventListener("readystatechange",g=>{document.readyState==="interactive"&&(m(),console.warn("Syncify: Web Component occurances will trigger monkey patches in HOT Mode."))}),document.addEventListener("DOMContentLoaded",()=>{y.load(document.body),d.render(document.body),window.syncify.ready=!0})})({server:"{{- server | default: 3000 -}}",socket:"{{- socket | default: 8089 -}}",label:'{{- label | default: "visible" -}}',history:!0,method:'{{- method | default: "hot" -}}',scroll:'{{- scroll | default: "preserved" -}}',strategy:'{{- strategy | default: "hydrate" -}}'});})();
</script>
