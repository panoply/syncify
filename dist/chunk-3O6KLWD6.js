'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var Ti = require('os');
var events = require('events');
var tc = require('zlib');
var js = require('glob');
var fsExtra = require('fs-extra');
var oc = require('axios');
var lc = require('node-notifier');
var stream = require('stream');
var console$1 = require('console');
var perf_hooks = require('perf_hooks');
var path = require('path');
var To = require('anymatch');
var htmlMinifierTerser = require('html-minifier-terser');
var pl = require('gray-matter');
var ml = require('markdown-it');
var sass = require('sass');
var Ul = require('chokidar');
var Hu = require('process');
var ws$1 = require('ws');
var ql = require('serve-static');
var Ml = require('finalhandler');
var Ll = require('http');
var af = require('dotenv');
var bundleRequire = require('bundle-require');
var Ql = require('cross-spawn');
var utils = require('markdown-it/lib/common/utils');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

var Ti__default = /*#__PURE__*/_interopDefaultLegacy(Ti);
var tc__default = /*#__PURE__*/_interopDefaultLegacy(tc);
var js__default = /*#__PURE__*/_interopDefaultLegacy(js);
var oc__default = /*#__PURE__*/_interopDefaultLegacy(oc);
var lc__default = /*#__PURE__*/_interopDefaultLegacy(lc);
var To__default = /*#__PURE__*/_interopDefaultLegacy(To);
var pl__default = /*#__PURE__*/_interopDefaultLegacy(pl);
var ml__default = /*#__PURE__*/_interopDefaultLegacy(ml);
var Ul__default = /*#__PURE__*/_interopDefaultLegacy(Ul);
var Hu__default = /*#__PURE__*/_interopDefaultLegacy(Hu);
var ql__default = /*#__PURE__*/_interopDefaultLegacy(ql);
var Ml__default = /*#__PURE__*/_interopDefaultLegacy(Ml);
var Ll__default = /*#__PURE__*/_interopDefaultLegacy(Ll);
var af__default = /*#__PURE__*/_interopDefaultLegacy(af);
var Ql__default = /*#__PURE__*/_interopDefaultLegacy(Ql);

var ko=Object.create;var dn=Object.defineProperty;var Io=Object.getOwnPropertyDescriptor;var jo=Object.getOwnPropertyNames;var No=Object.getPrototypeOf,qo=Object.prototype.hasOwnProperty;var Us=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Se=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ar=(e,t)=>{for(var n in t)dn(e,n,{get:t[n],enumerable:!0});},Mo=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jo(t))!qo.call(e,s)&&s!==n&&dn(e,s,{get:()=>t[s],enumerable:!(r=Io(t,s))||r.enumerable});return e};var ot=(e,t,n)=>(n=e!=null?ko(No(e)):{},Mo(t||!e||!e.__esModule?dn(n,"default",{value:e,enumerable:!0}):n,e));var Di=Se(xr=>{Object.defineProperty(xr,"__esModule",{value:!0});var ci=function(e){let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],n=t?t.length:0;if(n===3)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(n!==6)return [0,0,0];let r=parseInt(t,16);return [r>>16&255,r>>8&255,255&r]},je=(e,t,n)=>t>e?t:e>n?n:e,Ta=function(e,t,n){let r=e.indexOf(t);if(r<0)return e;let s=t.length,i=0,o="";for(;~r;)o+=e.substr(i,r-i)+n,i=r+s,r=e.indexOf(t,i);return o+e.substr(i)},vt=(e=>{let t=e||process||{},n=t.env||{},r=t.argv||[],s=t.stdout&&t.stdout.isTTY,i="NO_COLOR"in n||r.includes("--no-color")||r.includes("--color=false"),o="FORCE_COLOR"in n||r.includes("--color"),u=n.TERM!=="dumb"&&/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM),a=s&&u||t.platform==="win32";return !i&&(o||a||"CI"in n)})(),Tt={open:"",close:""},C=vt?([e,t])=>({open:`\x1B[${e}m`,close:`\x1B[${t}m`}):()=>Tt,li={reset:C([0,0]),inverse:C([7,27]),hidden:C([8,28]),bold:C([1,22]),dim:C([2,22]),faint:C([2,22]),italic:C([3,23]),underline:C([4,24]),doubleUnderline:C([21,24]),strikethrough:C([9,29]),strike:C([9,29]),frame:C([51,54]),encircle:C([52,54]),overline:C([53,55]),black:C([30,39]),red:C([31,39]),green:C([32,39]),yellow:C([33,39]),blue:C([34,39]),magenta:C([35,39]),cyan:C([36,39]),white:C([37,39]),gray:C([90,39]),grey:C([90,39]),blackBright:C([90,39]),redBright:C([91,39]),greenBright:C([92,39]),yellowBright:C([93,39]),blueBright:C([94,39]),magentaBright:C([95,39]),cyanBright:C([96,39]),whiteBright:C([97,39]),bgBlack:C([40,49]),bgRed:C([41,49]),bgGreen:C([42,49]),bgYellow:C([43,49]),bgBlue:C([44,49]),bgMagenta:C([45,49]),bgCyan:C([46,49]),bgWhite:C([47,49]),bgBlackBright:C([100,49]),bgRedBright:C([101,49]),bgGreenBright:C([102,49]),bgYellowBright:C([103,49]),bgBlueBright:C([104,49]),bgMagentaBright:C([105,49]),bgCyanBright:C([106,49]),bgWhiteBright:C([107,49])},at={ansi256:vt?e=>({open:`\x1B[38;5;${e}m`,close:"\x1B[39m"}):()=>Tt,bgAnsi256:vt?e=>({open:`\x1B[48;5;${e}m`,close:"\x1B[49m"}):()=>Tt,rgb:vt?(e,t,n)=>({open:`\x1B[38;2;${e};${t};${n}m`,close:"\x1B[39m"}):()=>Tt,bgRgb:vt?(e,t,n)=>({open:`\x1B[48;2;${e};${t};${n}m`,close:"\x1B[49m"}):()=>Tt},_a=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,wr=class{constructor(){let t=n=>n;return t.strip=n=>n.replace(_a,""),Object.setPrototypeOf(t,fi),t}},Q={},Pa=/(\r*\n)/g,Ne=(e,t,n)=>{let r=e,s=t;n!==void 0&&(r=n.openStack+e,s=t+n.closeStack);let i=o=>((u,a)=>{if(!u)return "";let{openStack:l,closeStack:D}=a;if(~u.indexOf("\x1B"))for(;a!==void 0;)u=Ta(u,a.close,a.open),a=a.parent;return ~u.indexOf(`
`)&&(u=u.replace(Pa,D+"$1"+l)),l+u+D})(o,i.props);return Object.setPrototypeOf(i,fi),i.props={open:e,close:t,openStack:r,closeStack:s,parent:n},i.open=r,i.close=s,i};for(let e in li){let{open:t,close:n}=li[e];Q[e]={get(){let r=Ne(t,n,this.props);return Object.defineProperty(this,e,{value:r}),r}};}Q.visible={get(){return Ne("","",this.props)}},Q.ansi256={get(){return e=>{e=je(e,0,255);let{open:t,close:n}=at.ansi256(e);return Ne(t,n,this.props)}}},Q.bgAnsi256={get(){return e=>{e=je(e,0,255);let{open:t,close:n}=at.bgAnsi256(e);return Ne(t,n,this.props)}}},Q.rgb={get(){return (e,t,n)=>{e=je(e,0,255),t=je(t,0,255),n=je(n,0,255);let{open:r,close:s}=at.rgb(e,t,n);return Ne(r,s,this.props)}}},Q.hex={get(){return e=>{let{open:t,close:n}=at.rgb(...ci(e));return Ne(t,n,this.props)}}},Q.bgRgb={get(){return (e,t,n)=>{e=je(e,0,255),t=je(t,0,255),n=je(n,0,255);let{open:r,close:s}=at.bgRgb(e,t,n);return Ne(r,s,this.props)}}},Q.bgHex={get(){return e=>{let{open:t,close:n}=at.bgRgb(...ci(e));return Ne(t,n,this.props)}}},Q.ansi=Q.ansi256,Q.fg=Q.ansi256,Q.bgAnsi=Q.bgAnsi256,Q.bg=Q.bgAnsi256;var fi=Object.defineProperties(()=>{},Q),Ra=new wr;xr.Ansis=wr,xr.default=Ra;});var mi=Se((tD,bn)=>{var pi=Di();bn.exports=pi.default;bn.exports.Ansis=pi.Ansis;});var yi=Se((uD,Pn)=>{var qe={};typeof Pn>"u"?window.eastasianwidth=qe:Pn.exports=qe;qe.eastAsianWidth=function(e){var t=e.charCodeAt(0),n=e.length==2?e.charCodeAt(1):0,r=t;return 55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t&=1023,n&=1023,r=t<<10|n,r+=65536),r==12288||65281<=r&&r<=65376||65504<=r&&r<=65510?"F":r==8361||65377<=r&&r<=65470||65474<=r&&r<=65479||65482<=r&&r<=65487||65490<=r&&r<=65495||65498<=r&&r<=65500||65512<=r&&r<=65518?"H":4352<=r&&r<=4447||4515<=r&&r<=4519||4602<=r&&r<=4607||9001<=r&&r<=9002||11904<=r&&r<=11929||11931<=r&&r<=12019||12032<=r&&r<=12245||12272<=r&&r<=12283||12289<=r&&r<=12350||12353<=r&&r<=12438||12441<=r&&r<=12543||12549<=r&&r<=12589||12593<=r&&r<=12686||12688<=r&&r<=12730||12736<=r&&r<=12771||12784<=r&&r<=12830||12832<=r&&r<=12871||12880<=r&&r<=13054||13056<=r&&r<=19903||19968<=r&&r<=42124||42128<=r&&r<=42182||43360<=r&&r<=43388||44032<=r&&r<=55203||55216<=r&&r<=55238||55243<=r&&r<=55291||63744<=r&&r<=64255||65040<=r&&r<=65049||65072<=r&&r<=65106||65108<=r&&r<=65126||65128<=r&&r<=65131||110592<=r&&r<=110593||127488<=r&&r<=127490||127504<=r&&r<=127546||127552<=r&&r<=127560||127568<=r&&r<=127569||131072<=r&&r<=194367||177984<=r&&r<=196605||196608<=r&&r<=262141?"W":32<=r&&r<=126||162<=r&&r<=163||165<=r&&r<=166||r==172||r==175||10214<=r&&r<=10221||10629<=r&&r<=10630?"Na":r==161||r==164||167<=r&&r<=168||r==170||173<=r&&r<=174||176<=r&&r<=180||182<=r&&r<=186||188<=r&&r<=191||r==198||r==208||215<=r&&r<=216||222<=r&&r<=225||r==230||232<=r&&r<=234||236<=r&&r<=237||r==240||242<=r&&r<=243||247<=r&&r<=250||r==252||r==254||r==257||r==273||r==275||r==283||294<=r&&r<=295||r==299||305<=r&&r<=307||r==312||319<=r&&r<=322||r==324||328<=r&&r<=331||r==333||338<=r&&r<=339||358<=r&&r<=359||r==363||r==462||r==464||r==466||r==468||r==470||r==472||r==474||r==476||r==593||r==609||r==708||r==711||713<=r&&r<=715||r==717||r==720||728<=r&&r<=731||r==733||r==735||768<=r&&r<=879||913<=r&&r<=929||931<=r&&r<=937||945<=r&&r<=961||963<=r&&r<=969||r==1025||1040<=r&&r<=1103||r==1105||r==8208||8211<=r&&r<=8214||8216<=r&&r<=8217||8220<=r&&r<=8221||8224<=r&&r<=8226||8228<=r&&r<=8231||r==8240||8242<=r&&r<=8243||r==8245||r==8251||r==8254||r==8308||r==8319||8321<=r&&r<=8324||r==8364||r==8451||r==8453||r==8457||r==8467||r==8470||8481<=r&&r<=8482||r==8486||r==8491||8531<=r&&r<=8532||8539<=r&&r<=8542||8544<=r&&r<=8555||8560<=r&&r<=8569||r==8585||8592<=r&&r<=8601||8632<=r&&r<=8633||r==8658||r==8660||r==8679||r==8704||8706<=r&&r<=8707||8711<=r&&r<=8712||r==8715||r==8719||r==8721||r==8725||r==8730||8733<=r&&r<=8736||r==8739||r==8741||8743<=r&&r<=8748||r==8750||8756<=r&&r<=8759||8764<=r&&r<=8765||r==8776||r==8780||r==8786||8800<=r&&r<=8801||8804<=r&&r<=8807||8810<=r&&r<=8811||8814<=r&&r<=8815||8834<=r&&r<=8835||8838<=r&&r<=8839||r==8853||r==8857||r==8869||r==8895||r==8978||9312<=r&&r<=9449||9451<=r&&r<=9547||9552<=r&&r<=9587||9600<=r&&r<=9615||9618<=r&&r<=9621||9632<=r&&r<=9633||9635<=r&&r<=9641||9650<=r&&r<=9651||9654<=r&&r<=9655||9660<=r&&r<=9661||9664<=r&&r<=9665||9670<=r&&r<=9672||r==9675||9678<=r&&r<=9681||9698<=r&&r<=9701||r==9711||9733<=r&&r<=9734||r==9737||9742<=r&&r<=9743||9748<=r&&r<=9749||r==9756||r==9758||r==9792||r==9794||9824<=r&&r<=9825||9827<=r&&r<=9829||9831<=r&&r<=9834||9836<=r&&r<=9837||r==9839||9886<=r&&r<=9887||9918<=r&&r<=9919||9924<=r&&r<=9933||9935<=r&&r<=9953||r==9955||9960<=r&&r<=9983||r==10045||r==10071||10102<=r&&r<=10111||11093<=r&&r<=11097||12872<=r&&r<=12879||57344<=r&&r<=63743||65024<=r&&r<=65039||r==65533||127232<=r&&r<=127242||127248<=r&&r<=127277||127280<=r&&r<=127337||127344<=r&&r<=127386||917760<=r&&r<=917999||983040<=r&&r<=1048573||1048576<=r&&r<=1114109?"A":"N"};qe.characterLength=function(e){var t=this.eastAsianWidth(e);return t=="F"||t=="W"||t=="A"?2:1};function gi(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}qe.length=function(e){for(var t=gi(e),n=0,r=0;r<t.length;r++)n=n+this.characterLength(t[r]);return n};qe.slice=function(e,t,n){textLen=qe.length(e),t=t||0,n=n||1,t<0&&(t=textLen+t),n<0&&(n=textLen+n);for(var r="",s=0,i=gi(e),o=0;o<i.length;o++){var u=i[o],a=qe.length(u);if(s>=t-(a==2?1:0))if(s+a<=n)r+=u;else break;s+=a;}return r};});var Ci=Se((oD,Fi)=>{Fi.exports=function(){return /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};});var Gi=Se((ID,es)=>{var sc=Object.prototype.hasOwnProperty,re="~";function Wt(){}Object.create&&(Wt.prototype=Object.create(null),new Wt().__proto__||(re=!1));function ic(e,t,n){this.fn=e,this.context=t,this.once=n||!1;}function Ui(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new ic(n,r||e,s),o=re?re+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],i]:e._events[o].push(i):(e._events[o]=i,e._eventsCount++),e}function Tr(e,t){--e._eventsCount===0?e._events=new Wt:delete e._events[t];}function ee(){this._events=new Wt,this._eventsCount=0;}ee.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)sc.call(n,r)&&t.push(re?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};ee.prototype.listeners=function(t){var n=re?re+t:t,r=this._events[n];if(!r)return [];if(r.fn)return [r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};ee.prototype.listenerCount=function(t){var n=re?re+t:t,r=this._events[n];return r?r.fn?1:r.length:0};ee.prototype.emit=function(t,n,r,s,i,o){var u=re?re+t:t;if(!this._events[u])return !1;var a=this._events[u],l=arguments.length,D,p;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,s),!0;case 5:return a.fn.call(a.context,n,r,s,i),!0;case 6:return a.fn.call(a.context,n,r,s,i,o),!0}for(p=1,D=new Array(l-1);p<l;p++)D[p-1]=arguments[p];a.fn.apply(a.context,D);}else {var h=a.length,F;for(p=0;p<h;p++)switch(a[p].once&&this.removeListener(t,a[p].fn,void 0,!0),l){case 1:a[p].fn.call(a[p].context);break;case 2:a[p].fn.call(a[p].context,n);break;case 3:a[p].fn.call(a[p].context,n,r);break;case 4:a[p].fn.call(a[p].context,n,r,s);break;default:if(!D)for(F=1,D=new Array(l-1);F<l;F++)D[F-1]=arguments[F];a[p].fn.apply(a[p].context,D);}}return !0};ee.prototype.on=function(t,n,r){return Ui(this,t,n,r,!1)};ee.prototype.once=function(t,n,r){return Ui(this,t,n,r,!0)};ee.prototype.removeListener=function(t,n,r,s){var i=re?re+t:t;if(!this._events[i])return this;if(!n)return Tr(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&Tr(this,i);else {for(var u=0,a=[],l=o.length;u<l;u++)(o[u].fn!==n||s&&!o[u].once||r&&o[u].context!==r)&&a.push(o[u]);a.length?this._events[i]=a.length===1?a[0]:a:Tr(this,i);}return this};ee.prototype.removeAllListeners=function(t){var n;return t?(n=re?re+t:t,this._events[n]&&Tr(this,n)):(this._events=new Wt,this._eventsCount=0),this};ee.prototype.off=ee.prototype.removeListener;ee.prototype.addListener=ee.prototype.on;ee.prefixed=re;ee.EventEmitter=ee;typeof es<"u"&&(es.exports=ee);});var Ou=Se((Od,Ts)=>{var Ru=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};Ts.exports=Ru;Ts.exports.default=Ru;});var Iu=Se((kd,tn)=>{var El=Ou(),en=new WeakMap,ku=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,s=e.displayName||e.name||"<anonymous>",i=function(...o){if(en.set(i,++r),r===1)n=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return n};return El(i,e),en.set(i,r),i};tn.exports=ku;tn.exports.default=ku;tn.exports.callCount=e=>{if(!en.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return en.get(e)};});var ju=Se((Id,rn)=>{rn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&rn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&rn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");});var Wu=Se((jd,xt)=>{var N=global.process,st=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};st(N)?(Nu=Us("assert"),Ct=ju(),qu=/^win/i.test(N.platform),rr=Us("events"),typeof rr!="function"&&(rr=rr.EventEmitter),N.__signal_exit_emitter__?V=N.__signal_exit_emitter__:(V=N.__signal_exit_emitter__=new rr,V.count=0,V.emitted={}),V.infinite||(V.setMaxListeners(1/0),V.infinite=!0),xt.exports=function(e,t){if(!st(global.process))return function(){};Nu.equal(typeof e,"function","a callback must be provided for exit handler"),wt===!1&&_s();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){V.removeListener(n,e),V.listeners("exit").length===0&&V.listeners("afterexit").length===0&&nn();};return V.on(n,e),r},nn=function(){!wt||!st(global.process)||(wt=!1,Ct.forEach(function(t){try{N.removeListener(t,sn[t]);}catch{}}),N.emit=un,N.reallyExit=Ps,V.count-=1);},xt.exports.unload=nn,it=function(t,n,r){V.emitted[t]||(V.emitted[t]=!0,V.emit(t,n,r));},sn={},Ct.forEach(function(e){sn[e]=function(){if(!!st(global.process)){var n=N.listeners(e);n.length===V.count&&(nn(),it("exit",null,e),it("afterexit",null,e),qu&&e==="SIGHUP"&&(e="SIGINT"),N.kill(N.pid,e));}};}),xt.exports.signals=function(){return Ct},wt=!1,_s=function(){wt||!st(global.process)||(wt=!0,V.count+=1,Ct=Ct.filter(function(t){try{return N.on(t,sn[t]),!0}catch{return !1}}),N.emit=Lu,N.reallyExit=Mu);},xt.exports.load=_s,Ps=N.reallyExit,Mu=function(t){!st(global.process)||(N.exitCode=t||0,it("exit",N.exitCode,null),it("afterexit",N.exitCode,null),Ps.call(N,N.exitCode));},un=N.emit,Lu=function(t,n){if(t==="exit"&&st(global.process)){n!==void 0&&(N.exitCode=n);var r=un.apply(this,arguments);return it("exit",N.exitCode,null),it("afterexit",N.exitCode,null),r}else return un.apply(this,arguments)}):xt.exports=function(){return function(){}};var Nu,Ct,qu,rr,V,nn,it,sn,wt,_s,Ps,Mu,un,Lu;});function H(e){if(e===null)return "Null";if(e===void 0)return "Undefined";if(Number.isNaN(e))return "NaN";let t=Object.prototype.toString.call(e).slice(8,-1);return t==="AsyncFunction"?"Async":t}var He=Array.isArray;function lr(e){return He(e)?e.length>0:H(e)==="Object"?Object.keys(e).length>0:Boolean(e)}function fr(...e){let t=0;for(;t<e.length;){let n=e[t];if(H(n)==="Function"){if(lr(n()))return !1}else if(lr(n))return !1;t++;}return !0}function Fe(...e){let t=0;for(;t<e.length;){let n=e[t];if(H(n)==="Function"){if(lr(n()))return !0}else if(lr(n))return !0;t++;}return !1}function O(e,t=[]){return (...n)=>(r=>r.length>=e.length?e(...r):O(e,r))([...t,...n])}function pr(e,t){if(arguments.length===1)return i=>pr(e,i);if(t==null)return;let n=t,r=0,s=typeof e=="string"?e.split("."):e;for(;r<s.length;){if(n==null||n[s[r]]===null)return;n=n[s[r]],r++;}return n}function wn(e,t){if(!He(t))throw new Error(`Cannot read property 'indexOf' of ${t}`);let n=H(e);if(!["Object","Array","NaN","RegExp"].includes(n))return t.indexOf(e);let r=-1,s=-1,{length:i}=t;for(;++r<i&&s===-1;)ze(t[r],e)&&(s=r);return s}function Gs(e){let t=[],n;for(;!(n=e.next()).done;)t.push(n.value);return t}function Uo(e,t){if(e.size!==t.size)return !1;let n=Gs(e.values()),r=Gs(t.values());return n.filter(i=>wn(i,r)===-1).length===0}function zs(e){let t=e.__proto__.toString();return ["Error","TypeError"].includes(t)?[t,e.message]:[]}function Hs(e){return e.toDateString?[!0,e.getTime()]:[!1]}function Js(e){return e.constructor!==RegExp?[!1]:[!0,e.toString()]}function ze(e,t){if(arguments.length===1)return l=>ze(e,l);let n=H(e);if(n!==H(t))return !1;if(n==="Function")return e.name===void 0?!1:e.name===t.name;if(["NaN","Undefined","Null"].includes(n))return !0;if(n==="Number")return Object.is(-0,e)!==Object.is(-0,t)?!1:e.toString()===t.toString();if(["String","Boolean"].includes(n))return e.toString()===t.toString();if(n==="Array"){let l=Array.from(e),D=Array.from(t);if(l.toString()!==D.toString())return !1;let p=!0;return l.forEach((h,F)=>{p&&h!==D[F]&&!ze(h,D[F])&&(p=!1);}),p}let r=Js(e),s=Js(t);if(r[0])return s[0]?r[1]===s[1]:!1;if(s[0])return !1;let i=Hs(e),o=Hs(t);if(i[0])return o[0]?i[1]===o[1]:!1;if(o[0])return !1;let u=zs(e),a=zs(t);if(u[0])return a[0]?u[0]===a[0]&&u[1]===a[1]:!1;if(n==="Set")return Uo(e,t);if(n==="Object"){let l=Object.keys(e);if(l.length!==Object.keys(t).length)return !1;let D=!0;return l.forEach(p=>{if(D){let h=e[p],F=t[p];h!==F&&!ze(h,F)&&(D=!1);}}),D}return !1}function mr(e,t){if(arguments.length===1)return n=>mr(e,n);if(typeof t=="string")return t.includes(e);if(!t)throw new TypeError(`Cannot read property 'indexOf' of ${t}`);return He(t)?wn(e,t)>-1:!1}function J(e,t){return arguments.length===1?n=>J(e,n):H(t)===e}async function Vs(e,t){let n=t.map((r,s)=>e(r,s));return Promise.all(n)}function Re(e,t){return arguments.length===1?async n=>Vs(e,n):new Promise((n,r)=>{Vs(e,t).then(n).catch(r);})}function En(e,t){if(arguments.length===1)return s=>En(e,s);if(t==null)return;let n=typeof e=="string"?e.split(","):e,r={};for(let s in t)n.includes(s)||(r[s]=t[s]);return r}function fa(e,t,n){if(!He(n))throw new TypeError("reduce: list must be array or iterable");let r=0,s=n.length;for(;r<s;)t=e(t,n[r],r,n),r++;return t}var Da=O(fa);var Fn=class{constructor(){this.set=new Set,this.items={};}checkUniqueness(t){let n=H(t);if(["Null","Undefined","NaN"].includes(n))return n in this.items?!1:(this.items[n]=!0,!0);if(!["Object","Array"].includes(n)){let r=this.set.size;return this.set.add(t),this.set.size!==r}return n in this.items?wn(t,this.items[n])===-1?(this.items[n].push(t),!0):!1:(this.items[n]=[t],!0)}};function gr(e){let t=new Fn,n=[];return e.forEach(r=>{t.checkUniqueness(r)&&n.push(r);}),n}function d(e,t){return arguments.length===1?n=>d(e,n):t?t.hasOwnProperty(e):!1}function Je(e,t){return arguments.length===1?n=>Je(e,n):pr(e,t)!==void 0}function yr(e){let t=H(e);return ["Undefined","NaN","Number","Null"].includes(t)?!1:e?t==="Object"?Object.keys(e).length===0:t==="Array"?e.length===0:!1:!0}function Y(e){return e==null}function si(e){return typeof e=="string"?e[e.length-1]||"":e[e.length-1]}function ui(e,t){return arguments.length===1?n=>ui(e,n):e*t}Da(ui,1);var T=console.log,k="",Oe=" ",v=`
`;var j=Object.assign,pe=Object.defineProperty,ke=Object.keys,Bn=Object.values,E=Object.is,Fr=Array.from,B=Array.isArray,fe=Buffer.isBuffer,P=J("Undefined"),L=J("Object"),Ce=J("Boolean"),Cr=J("RegExp"),oi=J("Number"),R=J("String"),Ie=J("Function");J("Async");var f={};ar(f,{blackBright:()=>ja,blue:()=>di,bold:()=>$,clear:()=>Sn,close:()=>Tn,cyan:()=>K,cyanBright:()=>Oa,gray:()=>g,green:()=>ka,greenBright:()=>Ia,italic:()=>Na,item:()=>$e,lightGray:()=>ct,line:()=>x,lpr:()=>Ma,magenta:()=>Pt,magentaBright:()=>Er,neonCyan:()=>Br,neonGreen:()=>kt,newline:()=>ft,open:()=>lt,orange:()=>Ye,pink:()=>Ae,purge:()=>An,red:()=>hi,redBright:()=>_t,reset:()=>Ot,rpr:()=>La,strike:()=>qa,underline:()=>vn,white:()=>Rt,whiteBright:()=>me,yellow:()=>$n,yellowBright:()=>De});var Ve=ot(mi());var Sn="\x1B[H\x1B[2J",An="\x1B[2J\x1B[3J\x1B[H\x1Bc",{cyan:K,cyanBright:Oa,red:hi,redBright:_t,green:ka,greenBright:Ia,yellow:$n,yellowBright:De,magenta:Pt,magentaBright:Er,blue:di,blackBright:ja,white:Rt,whiteBright:me,gray:g,underline:vn,bold:$,reset:Ot,italic:Na,strike:qa}=Ve.default,ct=Ve.default.hex("#2a2a2e"),Ae=Ve.default.hex("#ff75d1"),Ye=Ve.default.hex("#FFAB40"),kt=Ve.default.hex("#56ef83"),Br=Ve.default.hex("#69d5fd"),lt=ct("\u250C\u2500 "),x=ct("\u2502  "),ft=ct(`${v}\u2502${v}`),$e=ct("\u251C  "),Tn=ct("\u2514\u2500 "),Ma=g("("),La=g(")");var pt={};ar(pt,{changed:()=>Gn,clear:()=>et,closed:()=>Ar,compile:()=>rc,deleted:()=>Qn,ignored:()=>nc,item:()=>vr,message:()=>Yn,nwl:()=>se,opened:()=>Un,processor:()=>zn,queued:()=>Jn,reloaded:()=>Vn,spawn:()=>Zn,syncing:()=>Hn,title:()=>qt,transform:()=>Mt,updated:()=>Kn,uploaded:()=>Lt,warning:()=>Xn,write:()=>we});function _n({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Qe(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(_n(),"")}var wi=ot(yi(),1),xi=ot(Ci(),1);function Ke(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=Qe(e),e.length===0))return 0;e=e.replace((0, xi.default)(),"  ");let n=t.ambiguousIsNarrow?1:2,r=0;for(let s of e){let i=s.codePointAt(0);if(i<=31||i>=127&&i<=159||i>=768&&i<=879)continue;switch(wi.default.eastAsianWidth(s)){case"F":case"W":r+=2;break;case"A":r+=n;break;default:r+=1;}}return r}var Ei=(e=0)=>t=>`\x1B[${t+e}m`,Bi=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,bi=(e=0)=>(t,n,r)=>`\x1B[${38+e};2;${t};${n};${r}m`;function Wa(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[n,r]of Object.entries(t)){for(let[s,i]of Object.entries(r))t[s]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[s]=t[s],e.set(i[0],i[1]);Object.defineProperty(t,n,{value:r,enumerable:!1});}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi=Ei(),t.color.ansi256=Bi(),t.color.ansi16m=bi(),t.bgColor.ansi=Ei(10),t.bgColor.ansi256=Bi(10),t.bgColor.ansi16m=bi(10),Object.defineProperties(t,{rgbToAnsi256:{value:(n,r,s)=>n===r&&r===s?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5),enumerable:!1},hexToRgb:{value:n=>{let r=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(n.toString(16));if(!r)return [0,0,0];let{colorString:s}=r.groups;s.length===3&&(s=s.split("").map(o=>o+o).join(""));let i=Number.parseInt(s,16);return [i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:n=>t.rgbToAnsi256(...t.hexToRgb(n)),enumerable:!1},ansi256ToAnsi:{value:n=>{if(n<8)return 30+n;if(n<16)return 90+(n-8);let r,s,i;if(n>=232)r=((n-232)*10+8)/255,s=r,i=r;else {n-=16;let a=n%36;r=Math.floor(n/36)/5,s=Math.floor(a/6)/5,i=a%6/5;}let o=Math.max(r,s,i)*2;if(o===0)return 30;let u=30+(Math.round(i)<<2|Math.round(s)<<1|Math.round(r));return o===2&&(u+=60),u},enumerable:!1},rgbToAnsi:{value:(n,r,s)=>t.ansi256ToAnsi(t.rgbToAnsi256(n,r,s)),enumerable:!1},hexToAnsi:{value:n=>t.ansi256ToAnsi(t.hexToAnsi256(n)),enumerable:!1}}),t}var Ua=Wa(),It=Ua;var br=new Set(["\x1B","\x9B"]),Ga=39,On="\x07",$i="[",za="]",vi="m",kn=`${za}8;;`,Si=e=>`${br.values().next().value}${$i}${e}${vi}`,Ai=e=>`${br.values().next().value}${kn}${e}${On}`,Ha=e=>e.split(" ").map(t=>Ke(t)),Rn=(e,t,n)=>{let r=[...t],s=!1,i=!1,o=Ke(Qe(e[e.length-1]));for(let[u,a]of r.entries()){let l=Ke(a);if(o+l<=n?e[e.length-1]+=a:(e.push(a),o=0),br.has(a)&&(s=!0,i=r.slice(u+1).join("").startsWith(kn)),s){i?a===On&&(s=!1,i=!1):a===vi&&(s=!1);continue}o+=l,o===n&&u<r.length-1&&(e.push(""),o=0);}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop());},Ja=e=>{let t=e.split(" "),n=t.length;for(;n>0&&!(Ke(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},Va=(e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return "";let r="",s,i,o=Ha(e),u=[""];for(let[l,D]of e.split(" ").entries()){n.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let p=Ke(u[u.length-1]);if(l!==0&&(p>=t&&(n.wordWrap===!1||n.trim===!1)&&(u.push(""),p=0),(p>0||n.trim===!1)&&(u[u.length-1]+=" ",p++)),n.hard&&o[l]>t){let h=t-p,F=1+Math.floor((o[l]-h-1)/t);Math.floor((o[l]-1)/t)<F&&u.push(""),Rn(u,D,t);continue}if(p+o[l]>t&&p>0&&o[l]>0){if(n.wordWrap===!1&&p<t){Rn(u,D,t);continue}u.push("");}if(p+o[l]>t&&n.wordWrap===!1){Rn(u,D,t);continue}u[u.length-1]+=D;}n.trim!==!1&&(u=u.map(l=>Ja(l)));let a=[...u.join(`
`)];for(let[l,D]of a.entries()){if(r+=D,br.has(D)){let{groups:h}=new RegExp(`(?:\\${$i}(?<code>\\d+)m|\\${kn}(?<uri>.*)${On})`).exec(a.slice(l).join(""))||{groups:{}};if(h.code!==void 0){let F=Number.parseFloat(h.code);s=F===Ga?void 0:F;}else h.uri!==void 0&&(i=h.uri.length===0?void 0:h.uri);}let p=It.codes.get(Number(s));a[l+1]===`
`?(i&&(r+=Ai("")),s&&p&&(r+=Si(p))):D===`
`&&(s&&p&&(r+=Si(s)),i&&(r+=Ai(i)));}return r};function jt(e,t,n){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>Va(r,t,n)).join(`
`)}function In(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var _i=/\s+at.*[(\s](.*)\)?/,Ya=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/,Qa=typeof Ti__default["default"].homedir>"u"?"":Ti__default["default"].homedir().replace(/\\/g,"/");function jn(e,{pretty:t=!1,basePath:n}={}){let r=n&&new RegExp(`(at | \\()${In(n.replace(/\\/g,"/"))}`,"g");if(typeof e=="string")return e.replace(/\\/g,"/").split(`
`).filter(s=>{let i=s.match(_i);if(i===null||!i[1])return !0;let o=i[1];return o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")||o.includes("node_modules/electron/dist/resources/electron.asar")||o.includes("node_modules/electron/dist/resources/default_app.asar")?!1:!Ya.test(o)}).filter(s=>s.trim()!=="").map(s=>(r&&(s=s.replace(r,"$1")),t&&(s=s.replace(_i,(i,o)=>i.replace(o,o.replace(Qa,"~")))),s)).join(`
`)}var Nn=Symbol("singleComment"),Pi=Symbol("multiComment"),Ka=()=>"",Xa=(e,t,n)=>e.slice(t,n).replace(/\S/g," "),Za=(e,t)=>{let n=t-1,r=0;for(;e[n]==="\\";)n-=1,r+=1;return Boolean(r%2)};function Nt(e,{whitespace:t=!0,trailingCommas:n=!1}={}){if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);let r=t?Xa:Ka,s=!1,i=!1,o=0,u="",a="",l=-1;for(let D=0;D<e.length;D++){let p=e[D],h=e[D+1];if(!i&&p==='"'&&(Za(e,D)||(s=!s)),!s)if(!i&&p+h==="//")u+=e.slice(o,D),o=D,i=Nn,D++;else if(i===Nn&&p+h===`\r
`){D++,i=!1,u+=r(e,o,D),o=D;continue}else if(i===Nn&&p===`
`)i=!1,u+=r(e,o,D),o=D;else if(!i&&p+h==="/*"){u+=e.slice(o,D),o=D,i=Pi,D++;continue}else if(i===Pi&&p+h==="*/"){D++,i=!1,u+=r(e,o,D+1),o=D+1;continue}else n&&!i&&(l!==-1?p==="}"||p==="]"?(u+=e.slice(o,D),a+=r(u,0,1)+u.slice(1),u="",o=D,l=-1):p!==" "&&p!=="	"&&p!=="\r"&&p!==`
`&&(u+=e.slice(o,D),o=D,l=-1):p===","&&(a+=u+e.slice(o,D),u="",o=D,l=D));}return a+u+(i?r(e.slice(o)):e.slice(o))}var qn="hot.js.liquid";var Ri=["style","script","svg","metafields","pages","sections","redirects","vscode"],Oi=[["input","source"],["output","theme"],["export","export"],["import","import"],["config","."]],ki=["assets","styles","config","layout","customers","locales","sections","snippets","templates","metafields","pages","redirects"],Ii=["templates","templates/customers","assets","config","layout","locales","sections","snippets"],Mn=["b","kb","mb","gb","tb"],Ln=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var Dt=new events.EventEmitter;function ji(e){try{return JSON.parse(Nt(e).trim())}catch(t){throw new Error(t)}}var Wn=e=>fe(e)?e.toString():L(e)||B(e)?JSON.stringify(e):String(e),Ni=e=>e.charAt(0).toUpperCase()+e.slice(1),te=e=>R(e)?Buffer.from(e).toString().length:e.toString().length,X=e=>{if(e===0)return "0b";let t=parseInt(`${Math.floor(Math.log(e)/Math.log(1024))}`,10);return t===0?`${$(String(e))}${Mn[t]}`:`${$((e/1024**t).toFixed(1))}${Mn[t]}`},Sr=(e,t)=>{let n=te(e),r=X(tc__default["default"].gzipSync(e).length),s=X(t),i=X(n),o=X(t-n);return {isSmaller:n>t||n===t,gzip:r,before:s,after:i,saved:o}};function Xe(){let e=new Date;return g((e.getHours()<10?"0"+e.getHours():e.getHours())+g(":")+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+g(":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()))}function qi(e){let t=e%10,n=e%100;return t===1&&n!==11?e+"st":t===2&&n!==12?e+"nd":t===3&&n!==13?e+"rd":e+"th"}var Un=e=>T(`${v}${lt}${g(`${e} ~ ${Xe()}`)}`),Ar=e=>T(`${x}${v}${Tn}${g(`${e} ~ ${Xe()}`)}`),qt=(e,t="gray")=>{T(`${v}${lt}${f[t](`${e} ~ ${Xe()}`)}`);},$r=e=>e?g(` ~ ${e}`):k,Ze=g(" \u2192  "),Gn=e=>T(x+Br("changed  ")+Ze+Br(e)+$r(Xe())),zn=(e,t)=>T(x+me("processor")+Ze+me(e)+$r(t)),Mt=e=>T(x+me("transform")+Ze+me(e)),Hn=e=>T(x+Er("syncing  ")+Ze+Er(e)),Jn=(e,t)=>T(x+De("waiting  ")+Ze+De(`${e} ~ ${$(qi(t))} in queue`)),Lt=(e,t,n)=>T(x+kt("uploaded ")+Ze+kt($(e)+" \u2192 "+t)+$r(n)),Vn=(e,t)=>T(x+Ye("reloaded ")+Ze+Ye(e)+$r(t)),Yn=e=>T(x+me(`${e}`)),rc=e=>T($e+me(`${e}`)),Qn=e=>T($e+Ye(`deleted ${e}`)),Kn=e=>T($e+kt(`updated ${e}`)),nc=e=>T($e+g(`ignored ${e}`)),Xn=e=>T($e+De(`${e}`)),et=e=>process.stdout.write(e?An:Sn),se=e=>Y(e)?T(x):T(v),we=e=>T(x+e),vr=e=>T($e+e),Zn=e=>{let t=process.stdout.columns-5,n=[],r=[Ot(x)],s=e.search(/(?:\n {4}at .*)/),i=[];if(/\berror\b:?/i.test(e)&&s>0){i=e.slice(0,s).split(v);let o=jn(e.slice(s),{pretty:!0,basePath:process.cwd()}),u=jt(o,t).split(v);for(r.push(v);u.length!==0;){let a=u.shift();a.trim().length>0&&r.push(Ot($e+a));}}for(i.length===0&&(i=e.split(v));i.length!==0;){let o=i.shift();o.trim().length>0&&n.push(Ot(x)+o);}T(`${n.join(v)}${r.length>1?r.join(v):k}`);};function Mi(){se(k),T(g("SIGINT")),process.exit();}function Li(e,t){se(),we(_t(`Unhandled Promise Rejection at: ${t}`)),se(),we(g(`${e}`));}function Wi(e){we(`Uncaught Exception: ${e.message}`),se(),we(`${e.stack}`);}var Zi=ot(Gi(),1);var Ut=class extends Error{constructor(t){super(t),this.name="TimeoutError";}},ts=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t;}},zi=e=>globalThis.DOMException===void 0?new ts(e):new DOMException(e),Hi=e=>{let t=e.reason===void 0?zi("This operation was aborted."):e.reason;return t instanceof Error?t:zi(t)};function rs(e,t,n,r){let s,i=new Promise((o,u)=>{if(typeof t!="number"||Math.sign(t)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t===Number.POSITIVE_INFINITY){o(e);return}if(r={customTimers:{setTimeout,clearTimeout},...r},r.signal){let{signal:a}=r;a.aborted&&u(Hi(a)),a.addEventListener("abort",()=>{u(Hi(a));});}s=r.customTimers.setTimeout.call(void 0,()=>{if(typeof n=="function"){try{o(n());}catch(D){u(D);}return}let a=typeof n=="string"?n:`Promise timed out after ${t} milliseconds`,l=n instanceof Error?n:new Ut(a);typeof e.cancel=="function"&&e.cancel(),u(l);},t),(async()=>{try{o(await e);}catch(a){u(a);}finally{r.customTimers.clearTimeout.call(void 0,s);}})();});return i.clear=()=>{clearTimeout(s),s=void 0;},i}function ns(e,t,n){let r=0,s=e.length;for(;s>0;){let i=Math.trunc(s/2),o=r+i;n(e[o],t)<=0?(r=++o,s-=i+1):s=i;}return r}var tt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ve,Gt=class{constructor(){ve.set(this,[]);}enqueue(t,n){n={priority:0,...n};let r={priority:n.priority,run:t};if(this.size&&tt(this,ve,"f")[this.size-1].priority>=n.priority){tt(this,ve,"f").push(r);return}let s=ns(tt(this,ve,"f"),r,(i,o)=>o.priority-i.priority);tt(this,ve,"f").splice(s,0,r);}dequeue(){let t=tt(this,ve,"f").shift();return t==null?void 0:t.run}filter(t){return tt(this,ve,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return tt(this,ve,"f").length}};ve=new WeakMap;var q=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},y=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},U,Ht,Jt,Le,Ir,Vt,_r,he,zt,oe,Pr,ae,Yt,Me,Rr,Ji,Vi,Xi,Yi,Qi,Ki,Or,ss,is,jr,kr,uc=new Ut,us=class extends Error{},Qt=class extends Zi.default{constructor(t){var n,r,s,i;if(super(),U.add(this),Ht.set(this,void 0),Jt.set(this,void 0),Le.set(this,0),Ir.set(this,void 0),Vt.set(this,void 0),_r.set(this,0),he.set(this,void 0),zt.set(this,void 0),oe.set(this,void 0),Pr.set(this,void 0),ae.set(this,0),Yt.set(this,void 0),Me.set(this,void 0),Rr.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Gt,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=t.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(i=(s=t.interval)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""}\` (${typeof t.interval})`);q(this,Ht,t.carryoverConcurrencyCount,"f"),q(this,Jt,t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,"f"),q(this,Ir,t.intervalCap,"f"),q(this,Vt,t.interval,"f"),q(this,oe,new t.queueClass,"f"),q(this,Pr,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,q(this,Rr,t.throwOnTimeout===!0,"f"),q(this,Me,t.autoStart===!1,"f");}get concurrency(){return y(this,Yt,"f")}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);q(this,Yt,t,"f"),y(this,U,"m",jr).call(this);}async add(t,n={}){return new Promise((r,s)=>{let i=async()=>{var o,u,a;q(this,ae,(u=y(this,ae,"f"),u++,u),"f"),q(this,Le,(a=y(this,Le,"f"),a++,a),"f");try{if(!((o=n.signal)===null||o===void 0)&&o.aborted){s(new us("The task was aborted."));return}let D=await(this.timeout===void 0&&n.timeout===void 0?t({signal:n.signal}):rs(Promise.resolve(t({signal:n.signal})),n.timeout===void 0?this.timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?y(this,Rr,"f"):n.throwOnTimeout)&&s(uc);}));r(D),this.emit("completed",D);}catch(l){s(l),this.emit("error",l);}y(this,U,"m",Xi).call(this);};y(this,oe,"f").enqueue(i,n),y(this,U,"m",Or).call(this),this.emit("add");})}async addAll(t,n){return Promise.all(t.map(async r=>this.add(r,n)))}start(){return y(this,Me,"f")?(q(this,Me,!1,"f"),y(this,U,"m",jr).call(this),this):this}pause(){q(this,Me,!0,"f");}clear(){q(this,oe,new(y(this,Pr,"f")),"f");}async onEmpty(){y(this,oe,"f").size!==0&&await y(this,U,"m",kr).call(this,"empty");}async onSizeLessThan(t){y(this,oe,"f").size<t||await y(this,U,"m",kr).call(this,"next",()=>y(this,oe,"f").size<t);}async onIdle(){y(this,ae,"f")===0&&y(this,oe,"f").size===0||await y(this,U,"m",kr).call(this,"idle");}get size(){return y(this,oe,"f").size}sizeBy(t){return y(this,oe,"f").filter(t).length}get pending(){return y(this,ae,"f")}get isPaused(){return y(this,Me,"f")}};Ht=new WeakMap,Jt=new WeakMap,Le=new WeakMap,Ir=new WeakMap,Vt=new WeakMap,_r=new WeakMap,he=new WeakMap,zt=new WeakMap,oe=new WeakMap,Pr=new WeakMap,ae=new WeakMap,Yt=new WeakMap,Me=new WeakMap,Rr=new WeakMap,U=new WeakSet,Ji=function(){return y(this,Jt,"f")||y(this,Le,"f")<y(this,Ir,"f")},Vi=function(){return y(this,ae,"f")<y(this,Yt,"f")},Xi=function(){var t;q(this,ae,(t=y(this,ae,"f"),t--,t),"f"),y(this,U,"m",Or).call(this),this.emit("next");},Yi=function(){this.emit("empty"),y(this,ae,"f")===0&&this.emit("idle");},Qi=function(){y(this,U,"m",is).call(this),y(this,U,"m",ss).call(this),q(this,zt,void 0,"f");},Ki=function(){let t=Date.now();if(y(this,he,"f")===void 0){let n=y(this,_r,"f")-t;if(n<0)q(this,Le,y(this,Ht,"f")?y(this,ae,"f"):0,"f");else return y(this,zt,"f")===void 0&&q(this,zt,setTimeout(()=>{y(this,U,"m",Qi).call(this);},n),"f"),!0}return !1},Or=function(){if(y(this,oe,"f").size===0)return y(this,he,"f")&&clearInterval(y(this,he,"f")),q(this,he,void 0,"f"),y(this,U,"m",Yi).call(this),!1;if(!y(this,Me,"f")){let t=!y(this,U,"a",Ki);if(y(this,U,"a",Ji)&&y(this,U,"a",Vi)){let n=y(this,oe,"f").dequeue();return n?(this.emit("active"),n(),t&&y(this,U,"m",ss).call(this),!0):!1}}return !1},ss=function(){y(this,Jt,"f")||y(this,he,"f")!==void 0||(q(this,he,setInterval(()=>{y(this,U,"m",is).call(this);},y(this,Vt,"f")),"f"),q(this,_r,Date.now()+y(this,Vt,"f"),"f"));},is=function(){y(this,Le,"f")===0&&y(this,ae,"f")===0&&y(this,he,"f")&&(clearInterval(y(this,he,"f")),q(this,he,void 0,"f")),q(this,Le,y(this,Ht,"f")?y(this,ae,"f"):0,"f"),y(this,U,"m",jr).call(this);},jr=function(){for(;y(this,U,"m",Or).call(this););},kr=async function(t,n){return new Promise(r=>{let s=()=>{n&&!n()||(this.off(t,s),r());};this.on(t,s);})};var Te=oc__default["default"].create({responseType:"json",headers:{}}),S=new Qt({concurrency:5,interval:250,intervalCap:5}),Nr=e=>E(e,429)||E(e,500)?!0:(S.isPaused||S.pause(),!1);var m={};ar(m,{catcher:()=>Ec,changed:()=>gc,complete:()=>mc,deleted:()=>Qn,error:()=>ie,filesize:()=>Fc,hook:()=>pc,info:()=>Cc,process:()=>zn,spawn:()=>Lr,syncing:()=>dc,throws:()=>wc,transform:()=>Mt,unhook:()=>hc,updated:()=>Kn,upload:()=>yc,uploaded:()=>Lt,warn:()=>xc,warning:()=>G});var os=new Map,tu=e=>{let t=new stream.PassThrough,n=new stream.PassThrough;t.write=s=>e("stdout",s),n.write=s=>e("stderr",s);let r=new console$1.Console(t,n);for(let s of Ln)os.set(s,console[s]),console[s]=r[s];return ()=>{for(let s of Ln)console[s]=os.get(s);os.clear();}};var ce={},as={json:{assets:!0,config:!0,locales:!0,metafields:!0,templates:!0,exclude:[]},script:{minifySyntax:!0,minifyIdentifiers:!0,minifyWhitespace:!0,mangleProps:null,legalComments:"inline",mangleQuoted:!1,keepNames:!1},views:{minifyScript:!0,minifyStyle:!0,minifySchema:!0,removeComments:!0,stripDashes:!0,collapseWhitespace:!0,ignoreTags:[],ignoreObjects:[],exclude:[]}},ne={json:{indent:2,useTab:!1,crlf:!1,exclude:[]},postcss:{installed:!1,required:!1,loaded:!1,file:!1,config:[]},sass:{installed:!1,required:!1,loaded:!1,file:!1,config:{warnings:!0,style:"compressed",sourcemap:!0,includePaths:["node_modules"]}},esbuild:{installed:!1,required:!1,loaded:!1,file:!1,config:{bundle:!0,format:"esm",splitting:!1,sourcemap:!0,watch:!1,write:!1,incremental:!0,logLevel:"silent",plugins:[]}},sharp:{installed:!1,required:!1,loaded:!1,file:!1,config:{}},sprite:{installed:!1,required:!1,loaded:!1,file:!1,config:{svg:{dimensionAttributes:!1,namespaceClassnames:!1,namespaceIDs:!1}}},svgo:{installed:!1,required:!1,loaded:!1,file:!1,config:{multipass:!0,datauri:"enc",js2svg:{indent:2,pretty:!0},plugins:["preset-default","prefixIds"]}}},W={inject:!0,server:3e3,socket:8089,method:"hot",scroll:"preserved",layouts:["theme.liquid"],label:"visible",output:null,renderer:"{% render 'hot.js.liquid', server: 3000, socket: 8089 %}",snippet:null,alive:{},assets:{js:new Set,css:new Set,svg:new Set}},Z={input:"source",output:"theme",import:"import",export:"export",stores:null,config:".",hot:!1,spawn:{build:null,watch:null},paths:{assets:"assets/*",config:"config/*.json",layout:"layout/*.liquid",locales:"locales/*.json",sections:"sections/**/*.liquid",snippets:"snippets/*.liquid",metafields:"metafields/**/*.json",redirects:"redirects.yaml",pages:["pages/*.html","pages/*.md"],templates:["templates/customers/*.liquid","templates/customers/*.json"],customers:["templates/customers/*.liquid","templates/customers/*.json"]},views:{sections:{prefixDir:!1,separator:"-",global:[]},pages:{author:"",language:"html"}},transforms:{svg:null,image:null,style:null,script:null},minify:{json:!1,views:!1,script:!1}},mt={onBuild:[],onChange:[],onReload:[],onTransform:[],onWatch:[]},c={version:null,cli:!1,cwd:null,silent:!1,prod:!1,dev:!0,hot:!1,dirs:{},sync:{themes:[],stores:[]},mode:{build:!1,prompt:!1,watch:!1,clean:!1,upload:!1,download:!1,metafields:!1,pages:!1,pull:!1,push:!1,vsc:!1,script:!1,image:!1,style:!1,svg:!1,redirects:!1,export:!1},spawn:{paths:new Set,invoked:!1,commands:{}},watch:new Set,paths:{},section:{},cmd:{},json:{},page:{export:{quotes:"\u201C\u201D\u2018\u2019",html:!0,linkify:!1,typographer:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-"},import:{codeBlockStyle:"fenced",emDelimiter:"_",fence:"```",headingStyle:"atx",hr:"***",linkReferenceStyle:"full",linkStyle:"inlined",strongDelimiter:"**",bulletListMarker:"-"}},image:[],style:[],script:[],svg:{sprite:[],inline:[]},set config(e){j(Z,e);},get config(){return Z},get processor(){return ne},get minify(){return as}};var Kt=[];function z(){Kt.push(perf_hooks.performance.now());}var cc;function qr(){let e=perf_hooks.performance.now()-Kt[Kt.length-1];if(e<1e3)return `${e.toFixed(0)}ms`;let t=e/1e3;if(t<60)return `${t.toFixed(0)}s ${+e.toFixed(0).slice(1)}ms`;let n=(t/60).toFixed(0);return `${n}m ${t-60*Number(n)}s ${+e.toFixed(0).slice(1)}ms`}function le(e=cc){let t=perf_hooks.performance.now()-Kt.pop();if(delete Kt[e],t<1e3)return `${t.toFixed(0)}ms`;let n=t/1e3;if(n<60)return `${n.toFixed(0)}s ${+t.toFixed(0).slice(1)}ms`;let r=(n/60).toFixed(0);return `${r}m ${n-60*Number(r)}s ${+t.toFixed(0).slice(1)}ms`}var G={current:null,count:0,process:{}},ls=new Set,Ds=null,fs=!1,rt="Syncify",Mr=k;process.stdin.on("data",e=>{if(e.toString().trim().toLowerCase()==="w"){for(let n in G.process)if(G.process[n].size!==0){qt(n,"yellow");for(let r of G.process[n].values())typeof r=="string"&&r.length>0&&we(r);G.process[n].clear();}G.count=0;}});var pc=e=>{G.current!==e&&(G.current=e),d(e,G.process)||(G.current=e,G.process[e]=new Set),Ds=tu((t,n)=>{if(n.charCodeAt(0)===9474)process[t].write(n);else {G.count+=1;let r=n.split(`
`);for(;r.length!==0;)G.process[e].add(`${De(r.shift().trimStart())}`);}});},mc=()=>{},hc=()=>{Ds(),Ds=null;},dc=e=>{if(G.count>0){let t=$(`! ${G.count} ${G.count>1?"warnings":"warning"}`);Xn(`${t} ${De(`~ Type ${$("w")} and press ${$("enter")} to view`)}`);}c.hot&&Vn($("HOT REPLACEMENT"),qr()),Hn(e),S.pending>0&&Jn(e,S.pending);},gc=e=>{let t=Mr!==e.relative;z(),t&&Ar(rt),rt!=="Syncify"&&t&&et(),rt=e.namespace,t&&(et(),qt(e.kind),Mr=e.relative),e.relative in G||(G[e.relative]=new Set),c.mode.watch&&(se(),Gn(e.relative));},yc=e=>{ls.add([e.target,e.store,le()]),fs||(fs=!0,S.onIdle().then(()=>{ls.forEach(([t,n,r])=>Lt(t,n,r)),ls.clear(),fs=!1;}));},Fc=(e,t)=>{let n=te(t),r=X(e.size),s=X(n);if(n>e.size||n===e.size){let i=X(tc__default["default"].gzipSync(t).length);Mt(`filesize ${r} \u2192 gzip ${i}`);}else vr(`minified ${r} \u2192 ${s} ${g(`saved ${X(e.size-n)}`)}`);},Cc=e=>{Yn(e);},wc=e=>{se(),console.log(e);},ie=(e,t)=>{S.pending>0&&(vr(Ye.bold(`${S.pending} ${S.pending>1?"requests":"request"} in queue`)),S.pause()),lc__default["default"].notify({title:"Syncify Error",sound:"Pop",open:t.input,subtitle:e,message:t.relative}).notify(),we(_t.bold(e)),se();},xc=e=>{if(typeof e=="string"){let t=e.split(`
`);for(G.count+=1;t.length!==0;)G.process[G.current].add(t.shift());}},Lr=e=>(...t)=>{c.spawn.invoked||(c.spawn.invoked=!0),rt!=="SPAWNS"&&(Ar(rt),rt!=="SYNCIFY"&&et(),Un("SPAWNS"),rt="SPAWNS"),Mr!==e&&(qt(e),Mr=e),Zn(Wn(t.shift()));},Ec=e=>{for(se();e.length!==0;){let t=Wn(e.shift()).split(`
`);for(;t.length!==0;)we(t.shift());}};var Bc=/(['"][\w\s]+['"])/g,bc=/((?:www|http:|https:)+[^\s]+[\w])/g;var Sc=/(\/)(.*?)(\/)/g,Ac=/\((line\s[0-9]+)\)(:)/g,$c=/['"]({?[{%])(.*?)([%}]}?)['"]/g,vc=/({{2}-?)([a-zA-Z0-9_\-.'"[\]]+)(-?}{2})/g;var ps=e=>B(e)?e.map(ps).join(`
`):e.replace(Ac,Rt("$1")+g("$2")+`

`).replace(Bc,$n("$1")).replace($c,K("$1")+Pt("$2")+K("$3")).replace(bc,vn("$1")).replace(vc,Rt("$1")+g("$2")+Rt("$3")).replace(Sc,Pt("$1")+K("$2")+Pt("$3"));function xe(e){var t;switch(e.status){case 422:ie(e.statusText,ps(((t=e.data.errors)==null?void 0:t.asset)||e.data.error.asset));break;case 404:ie(e.statusText,"The requested resource was not found.");break;case 400:ie(e.statusText,"The request was not understood by the server, generally due to bad syntax or because the Content-Type header was not correctly set to application/json. This status is also returned when the request provides an invalid code parameter during the OAuth token exchange process.");break;case 303:ie(e.statusText,"The response to the request can be found under a different URL in the Location header and can be retrieved using a GET method on that resource.");break;case 401:return ie(e.statusText,`The necessary authentication credentials are not present in the request or are incorrect.
`),process.exit();case 402:ie(e.statusText,"The requested shop is currently frozen. The shop owner needs to log in to the shop's admin and pay the outstanding balance to unfreeze the shop.");break;case 406:ie(e.statusText,"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request.");break;case 423:ie(e.statusText,"The requested shop is currently locked. Shops are locked if they repeatedly exceed their API request limit. or if there is an issue with the account, such as a detected compromise or fraud risk.");break;case 403:ie(e.statusText,"The server is refusing to respond to the request. This is generally because you have not requested the appropriate scope for this action.");break;case 501:ie(e.statusText,"The requested endpoint is not available on that particular shop, e.g. requesting access to a Shopify Plus\u2013only API on a non-Plus shop. This response may also indicate that this endpoint is reserved for future use.");break;case 503:ie(e.statusText,"The server is currently unavailable. Check the Shopify status page for reported service outages. See https://www.shopifystatus.com");break;default:ie(e.statusText,"An unknown error has occured. Please submit stack trace to the Syncify Github repository for help or support. See https://github.com/panoply/syncify");}}async function nu(e,t){return Te({...c.sync.stores[t.sidx].client,method:"get",url:t.url,params:{"asset[key]":e}}).then(({data:n})=>n.asset).catch(()=>!1)}async function ms(e,t){let n=j({},c.sync.stores[t.theme.sidx].client,{method:"put",url:t.theme.url,data:{asset:{key:t.key,value:e}}});return Te(n).then(()=>!0).catch(()=>!1)}async function hs(e,t){return Te.get(e,t).then(({data:n})=>n).catch(n=>{m.throws(n.message);})}var Wr;async function ds(e,t,n){if(!S.isPaused)return S.concurrency>1?(Wr>=20&&S.concurrency--,Wr>=35&&S.concurrency--):S.concurrency<3&&Wr<30&&S.concurrency++,z(),Te(n).then(({headers:r,data:s})=>{if(n.method==="get")return s;n.method==="delete"?m.info(e.store):m.upload(e),Wr=parseInt(r["x-shopify-shop-api-call-limit"].slice(0,2),10);}).catch(r=>{E(r.response.status,429)||E(r.response.status,500)?(m.info(`${f.orange("\u21BB")} ${f.orange(t.key)}`),S.add(()=>ds(e,t,n))):(m.info(`${f.redBright("invalid")} ${f.redBright.bold(t.key)}`),xe(r.response));})}var uu,_c=((uu=globalThis.process)==null?void 0:uu.env)||{},ou,Pc=((ou=globalThis.process)==null?void 0:ou.argv)||[];!("NO_COLOR"in _c)&&!Pc.includes("--no-color");var cu=process.platform==="linux",lu=process.platform==="win32";var Fs=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];lu||Fs.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");cu&&Fs.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");var fu=Fs;var Cs=class{constructor(){this.callbacks=new Set,this.exited=!1,this.hooked=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(let n of this.callbacks)n();t&&process.kill(process.pid,t);}},this.hook=()=>{if(!this.hooked){this.hooked=!0,process.once("exit",()=>this.exit());for(let t of fu)process.once(t,()=>this.exit(t));}},this.register=t=>(this.hook(),this.callbacks.add(t),()=>{this.callbacks.delete(t);});}},Du=new Cs;var Rc=Du.register,pu=Rc;var ws=class{constructor(t=process.stdout){this.has=()=>this.visible,this.hide=()=>this.toggle(!1),this.show=()=>this.toggle(!0),this.toggle=(n=!this.visible)=>{if(!this.stream.isTTY)return;this.visible=n;let r=n?"\x1B[?25h":"\x1B[?25l";this.stream.write(r);},this.stream=t,this.visible=!0,pu(this.show);}},mu=ws;new mu;async function hu(e,t){if(E(arguments.length,1))return n=>hu(e,n);if(fr(d("namespace",t),d("key",t))){m.error("invalid fields");return}return Te.get("metafields.json",e.client).then(({data:n})=>n.metafields.find(r=>t.namespace===r.namespace&&t.key===r.key)).catch(n=>{console.log(n);})}async function xs(e,t){return E(arguments.length,1)?n=>xs(e,n):(t.type="json",t.namespace="email",t.value_type="json_string",t.key="eng",Te.post("metafields.json",{metafield:t},e.client).then(({data:n})=>(console.log("created",n),n.metafield)).catch(n=>{if(console.log(n),!e.queue)return xe(t.namespace);if(Nr(n.response.status)){S.add(()=>xs(e,t));return}else return xe(e.store)}))}async function Es(e,t,n){return E(arguments.length,1)?(r,s)=>Es(e,r,s):Te.put(`metafields/${t}.json`,{metafield:n},e.client).then(r=>(console.log("created"),r.data.metafield)).catch(r=>{if(!e.queue)return xe(n.namespace);if(Nr(r.response.status))S.add(()=>Es(e,t,n));else return xe(e.store)})}async function Ur(e,t){if(E(arguments.length,1))return r=>Ur(e,r);let n=await hu(e,t);return n?Es(e,n.id,j(t,{id:n.id,type:"json"})).catch(r=>{if(!e.queue)return xe(t.namespace);if(Nr(r.response.status))S.add(()=>Ur(e,t));else return xe(e.store)}):xs(e,t)}var Gr=({stores:e,themes:t})=>({assets:(n,r,s)=>{let i=P(s)?{method:n,params:{"asset[key]":r.key}}:{method:n,data:{asset:{key:r.key,value:s}}};return S.add(()=>Re(o=>ds(o,r,j({url:o.url},e[o.sidx].client,i)),t))},pages:n=>S.add(function(){return Re(async function(r){},e)}),metafields:n=>S.add(function(){return Re(async function(r){await Ur(r,n);},e)})});var de=e=>{if(B(e))return e.map(de);if(e.indexOf("/")===-1)return e;let t=path.dirname(e),n=t.lastIndexOf("/")+1;return t.slice(n)},ht=e=>{if(B(e))return e.map(ht);let t=e.lastIndexOf("/");if(E(t,-1))return e;let n=e.indexOf("*");return E(n,-1)?e.slice(0,t):e.slice(0,n)},nt=e=>{let t=new RegExp(`^\\.?\\/?${e}\\/`);return function n(r){if(B(r))return r.map(n);let s=E(r.charCodeAt(0),33);if(s&&(r=r.slice(1)),t.test(r))return s?"!"+r:r;if(E(r.charCodeAt(0),46)&&E(r.charCodeAt(1),46)&&E(r.charCodeAt(2),47))throw new Error("Invalid path at: "+r+" - Paths must be relative to source");return (s?"!":"")+path.join(e,r)}},gu=e=>t=>{if(E(t.indexOf("*"),-1)||(console.error(`Base directory path cannot contain glob, at "${t}"`),process.exit(1)),E(t.charCodeAt(0),46)){if(E(t.length,1))return e+"/";E(t.charCodeAt(1),47)?t=t.slice(1):(console.error('Directory path is invalid at: "'+t+'"'),process.exit(1));}if(E(t.charCodeAt(0),47)){if(E(t.length,1))return e+"/";t=t.slice(1);}if(/^[a-zA-Z0-9_-]+/.test(t))return t=path.join(e,t),E(si(t).charCodeAt(0),47)?t:t+"/";throw new Error('Directory path is invalid at: "'+t+'"')};function zr(e){let t=c.style.find(n=>n.watch(e.input));return P(t)||(pe(e,"config",{get(){return t}}),t.snippet?(e.namespace="snippets",e.key=path.join("snippets",t.rename)):e.key=path.join("assets",t.rename),e.config.rename!==path.basename(e.output)&&(t.snippet?e.output=path.join(c.dirs.output,e.key):e.output=path.join(ht(e.output),e.config.rename))),e}function Xt(e){let t=c.script.find(n=>n.watch(e.input));return P(t)||(pe(e,"config",{get(){return t}}),t.snippet?(e.namespace="snippets",e.key=path.join("snippets",t.rename)):e.key=path.join("assets",t.rename),t.rename!==path.basename(e.output)&&(t.snippet?e.output=path.join(c.dirs.output,e.key):e.output=path.join(ht(e.output),t.rename))),e}function Fu(e){if(c.section.prefixDir){if(Cr(c.section.global)&&c.section.global.test(e.input))return e;let t=de(e.input)+c.section.separator+e.base;e.name=t,e.key=path.join(e.namespace,t),e.output=path.join(path.dirname(e.output),t);}return e}function wu(e,t,n){return (r,s,i)=>{let o;return s===13||s===14?(o=path.join(de(e.dir),e.base),n=null):(o=path.join(r,e.base),n=path.join(n,o)),j({},e,{type:s,input:t,output:n,key:o,namespace:r,kind:i,relative:path.relative(c.cwd,t),config:void 0,size:NaN})}}var Hr=(e,t)=>n=>{let r=path.parse(n),s=wu(r,n,t);if(r.ext===".liquid"){if(e.sections(n))return Fu(s("sections",4,"Liquid"));if(e.snippets(n))return s("snippets",3,"Liquid");if(e.layout(n))return s("layout",2,"Liquid");if(e.templates(n))return s("templates",1,"Liquid");if(e.customers(n))return s("templates/customers",1,"Liquid")}else {if(r.ext===".md"||r.ext===".html")return s("pages",14,r.ext===".html"?"HTML":"Markdown");if(r.ext===".json"){if(e.metafields(n))return s("metafields",13,"JSON");if(e.templates(n))return s("templates",1,"JSON");if(e.config(n))return s("config",5,"JSON");if(e.locales(n))return s("locales",6,"JSON");if(e.customers(n))return s("templates/customers",1,"JSON")}else {if(r.ext===".css")return zr(s("assets",7,"CSS"));if(r.ext===".scss")return zr(s("assets",7,"SCSS"));if(r.ext===".sass")return zr(s("assets",7,"SASS"));if(r.ext===".js")return Xt(s("assets",8,"JavaScript"));if(r.ext===".ts")return Xt(s("assets",8,"TypeScript"));if(r.ext===".jsx")return Xt(s("assets",8,"JSX"));if(r.ext===".tsx")return Xt(s("assets",8,"TSK"));if(e.assets(n)){if(c.spawn.invoked)return s("assets",15);if(r.ext===".svg")return s("assets",11,"SVG");if(r.ext===".jpg"||r.ext===".png"||r.ext===".gif"||r.ext===".pjpg")return s("assets",12,"Image");if(r.ext===".mov"||r.ext===".mp4"||r.ext===".webm"||r.ext===".ogg")return s("assets",12,"Video");if(r.ext===".pdf")return s("assets",12,"PDF");if(r.ext===".eot"||r.ext===".ttf"||r.ext===".woff"||r.ext===".woff2")return s("assets",12,"Font")}}}};var xu=e=>t=>{let n=path.parse(t),r=wu(n,t,e);switch(de(n.dir)){case"sections":return r("sections",4);case"snippets":return r("snippets",3);case"layout":return r("layout",2);case"templates":return r("templates",1);case"customers":return r("templates/customers",1);case"config":return r("config",5);case"locales":return r("locales",6);case"assets":return r("assets",12)}};async function Eu(e){z();let t=xu(c.dirs.output),n=js__default["default"].sync(`${c.dirs.output}/**`,{nodir:!0,mark:!0}).sort(),r=Gr(c.sync),s=Ie(e);return await Re(async i=>{let o=t(i),u=await fsExtra.readFile(i);if(!s)return r.assets("put",o,u.toString());let a=e.apply({...o},u.toString());return P(a)||a===!1?r.assets("put",o,u.toString()):R(a)?r.assets("put",o,a):fe(a)?r.assets("put",o,a.toString()):r.assets("put",o,u.toString())},n),S.onIdle().then(()=>m.info("Completed Upload",3))}async function Bu(e){z();let t=Ie(e);for(let n of c.sync.stores){let r=c.sync.themes[n.domain],{assets:s}=await hs(r.url,n.client);for(let{key:i}of s)try{let o=j({},n.client,{params:{"asset[key]":i}}),{asset:u}=await hs(r.url,o),a=path.join(c.dirs.import,n.domain,r.target,i),l=d("attachment",u)?Buffer.from(u.attachment,"base64"):Buffer.from(u.value||null,"utf8");if(t){let D=e.apply({asset:u,output:a},l);P(D)||D===!1?await fsExtra.writeFile(a,l):R(D)||fe(D)?await fsExtra.writeFile(a,D):await fsExtra.writeFile(a,l);}else await fsExtra.writeFile(a,l);}catch(o){m.error(o);}}}async function bu(e,t={purge:!1}){if(c.dirs.cache=`${e}/`,!await fsExtra.pathExists(e))try{await fsExtra.mkdir(e);}catch(r){throw new Error(r)}for(let r of Ri)if(r==="sections")ce[r]=[];else if(r==="pages")ce[r]={};else {ce[r]={};let s=path.join(e,r,"/");if(await fsExtra.pathExists(s))t.purge&&await fsExtra.emptyDir(s);else {try{await fsExtra.mkdir(s);}catch(o){throw new Error(o)}j(ce[r],{uri:s,data:{}});}j(ce[r],{uri:s,data:{}});}fsExtra.writeJson(path.join(e,"store.map"),ce,{spaces:0},r=>{if(r)throw r});}async function er(e){if(await fsExtra.pathExists(e)){if(c.mode.clean)try{await fsExtra.emptyDir(e);}catch(n){console.error(n);}}else try{await fsExtra.mkdir(e);}catch(n){throw new Error(n)}for(let n of Ii){let r=path.join(e,n);if(!await fsExtra.pathExists(r))try{await fsExtra.mkdir(r);}catch(i){throw new Error(i)}}}function Su(e,t){let n=gu(e.cwd);for(let[r,s]of Oi){let i;if(e[r]===s)if(t[r]===s){c.dirs[r]=n(e[r]);return}else i=t[r];else i=e[r];if(B(i)){let o=gr(i.map(n));c.dirs[r]=o.length===1?o[0]:o;}else c.dirs[r]=n(i);}c.watch.add(c.file);}async function Au({dirs:e,sync:t,mode:n}){if(!n.download)return;if(!await fsExtra.pathExists(e.import))try{await fsExtra.mkdir(e.import);}catch(s){throw new Error(s)}for(let s in t.themes){let{store:i,target:o}=t.themes[s],u=path.join(e.import,i);if(await fsExtra.pathExists(u)){if(n.clean)try{await fsExtra.emptyDir(u);}catch(l){console.error(l);}}else try{await fsExtra.mkdir(u);}catch(l){throw new Error(l)}await er(path.join(u,o));}}async function Vr(){let e=js.glob.sync(`${c.dirs.output}/**`,{nodir:!0}),t=e.length;if(t===0)return m.info(f.yellowBright("\u2713 output directory is clean"));m.info(f.yellowBright(`${f.bold("+")} cleaning ${f.bold(String(t))} files from output`));let n=await Re(async r=>{try{return await fsExtra.unlink(r),!0}catch(s){return console.log(s),s}},e);return m.info(`\u2713 removed ${f.bold(String(n.length))} of ${f.bold(String(t))} files`),m.info(`\u2713 cleaned ${f.bold(path.dirname(c.dirs.output)+"/**")}`),await er(c.cwd),!0}var Yc=e=>async t=>(e.type!==15&&await fsExtra.writeFile(e.output,t),t);async function Qr(e,t){let n=Yc(e),s=(await fsExtra.readFile(e.input)).toString();if(!Ie(t))return n(s);let i=t.apply({...e},s);return P(i)||i===!1?n(s):J(i)?n(i):fe(i)?n(i.toString()):n(s)}var Xc=/{%-?\s*comment\s*-?%}[\s\S]*?{%-?\s*endcomment\s*-?%}/g,Zc=/(?<={%-?\s{0,}schema\s{0,}-?%})[\s\S]*?(?={%-?\s{0,}endschema\s{0,}-?%})/,el=/(?<=-?[%}]})\s(?=<\/?[a-zA-Z])/g,tl=/(?<=\S){[{%]-|-?[%}]}{[{%]-?|-}[%}]<\/?(?=[a-zA-Z]{1,})/g,rl=/(?<=-?[%}]})\s(?=<\/?[a-zA-Z])/g,As=e=>e.replace(Xc,k),nl=(e,t)=>{if(!c.minify.views.minifySchema)return As(t);let n=t.replace(Zc,r=>{let s=te(r);try{let i=JSON.parse(r),o=JSON.stringify(i,null,0),u=te(r);return m.transform(`minified section ${f.bold("schema")} ~ saved ${X(s-u)}`),o}catch(i){return m.error("error occured minifying schema",e),m.throws(i),r}});return As(n)},sl=e=>c.minify.views.stripDashes?e.replace(rl,k).replace(el,k).replace(tl,t=>t.replace(/-/g,k)):e,il=async(e,t,n)=>{try{return await htmlMinifierTerser.minify(t,n)}catch(r){return m.error("error occured during minfication",e),m.throws(r),null}},ul=e=>async t=>{if(!c.prod)return await fsExtra.writeFile(e.output,t),m.transform(`${f.bold(e.namespace)} \u2192 ${X(e.size)}`),t;let n=E(e.type,4)?nl(e,t):As(t),r=await il(e,n,c.minify.views);if(m.process("HTML Terser",qr()),Y(r))return await fsExtra.writeFile(e.output,t),t;let s=sl(r).replace(/^\s+/gm,k);await fsExtra.writeFile(e.output,s);let{isSmaller:i,after:o,before:u,gzip:a,saved:l}=Sr(t,e.size);return i?m.transform(`${f.bold("View")} ${u} \u2192 gzip ${a}`):m.transform(`${f.bold("View")} minified ${u} to ${o} ${f.gray(`~ saved ${l}`)}`),s};async function Be(e,t){c.mode.watch&&z();let n=await fsExtra.readFile(e.input);e.size=te(n);let r=ul(e),s=n.toString();if(!J("Function",t))return r(s);let i=t.apply({...e},s);return J("Undefined",i)||i===!1?r(s):J("String",i)?r(i):Buffer.isBuffer(i)?r(i.toString()):r(s)}function $s(e){try{return JSON.parse(e)}catch(t){return m.throws(t),null}}function cl(e,t=0){try{return JSON.stringify(e,null,t)}catch(n){return m.throws(n),null}}function yt(e,t,n=0){let r=cl(t,n);if(Y(r))return le(),r;if(E(n,0)){let s=te(r);c.mode.watch?m.info(`created ${f.bold(e.key)} ${f.gray(`\xB5${le()}`)}`):m.info(`${f.cyan(e.key)} ${f.bold(X(s))} ${f.gray(`saved ${X(e.size-s)}`)}`);}return E(e.type,13)||fsExtra.writeFile(e.output,r,s=>s?m.throws(s.message):null),r}async function Pe(e,t){c.mode.watch&&z();let n=await fsExtra.readFile(e.input);e.size=te(n);let r=$s(n.toString()),s=c.minify.json[e.namespace]?0:c.json.indent;if(c.mode.watch&&m.info(`created ${f.bold(e.key)} ${f.gray(`\xB5${le()}`)}`),!J("Function",t))return yt(e,r,s);let i=t.apply({...e},r);return P(i)?yt(e,r,s):B(i)||L(i)?yt(e,i,s):R(i)?yt(e,$s(i),s):fe(i)?yt(e,$s(i.toString()),s):yt(e,r,s)}async function Kr(e,t){let n=await fsExtra.readFile(e.input),{data:r,content:s}=pl__default["default"](n);if(!d("title",r))throw m.error("Missing Title",e);d("html",r)&&(c.page.export.html=r.html),d("linkify",r)&&(c.page.export.linkify=r.linkify),d("breaks",r)&&(c.page.export.breaks=r.breaks);let i=ml__default["default"](c.page.export).render(s);return await fsExtra.writeFile(path.join(c.dirs.cache,"pages",e.base),i),{title:r.title,body_html:i}}var Tu=null;function yl(e,t){let n=Ie(t)?{...e}:!1;return async function(r){if(Y(r))return null;let s;if(n!==!1){let D=t.apply({...e},Buffer.from(r));P(D)||D===!1?s=r:(R(D)||fe(D))&&(s=D);}else s=r;fsExtra.writeFile(e.output,r,D=>D?console.log(D):null);let{isSmaller:i,after:o,before:u,gzip:a,saved:l}=Sr(r,e.size);return i?m.transform(`${f.bold("CSS")} ${u} \u2192 gzip ${a}`):m.transform(`${f.bold("CSS")} minified ${u} to ${o} ${f.gray(`~ saved ${l}`)}`),s}}async function Fl(e){let{config:t}=e,n=t.sass===!0?ne.sass.config:t.sass;if(e.ext===".scss"||e.ext===".sass"){c.mode.watch&&z();try{m.hook("sass");let{css:r,sourceMap:s}=sass.compile(e.input,{...n,loadPaths:n.includePaths,sourceMapIncludeSources:!1,logger:n.warnings?sass.Logger.silent:{debug:i=>console.log("DEBUG",i),warn:(i,o)=>{m.warn(i+`

`+o.stack);}}});return n.sourcemap&&fsExtra.writeFile(`${ce.styles.uri+e.base}.map`,JSON.stringify(s)).catch(i=>m.warn(i)),c.mode.watch&&m.process(`${f.bold("SASS Dart")}`,le()),m.unhook(),e.size=te(r),{css:r,map:s}}catch(r){return m.unhook(),m.error("error occurred compiling sass to css",e),m.throws(r),null}}try{let r=await fsExtra.readFile(e.input);return e.size=te(r),{css:r.toString(),map:null}}catch(r){return m.error("error reading css file",e),m.throws(r),null}}async function Cl(e,t,n){let{config:r}=e;m.hook("postcss");try{let s=await Tu.process(t,{from:r.rename,to:r.rename,map:n?{prev:n,inline:!1}:null});c.mode.watch&&m.process(`${f.bold("PostCSS")}`,le());let i=s.warnings();return i.length>0&&(m.warning.count+=i.length,m.warn(i.join(v))),m.unhook(),s.toString()}catch(s){return m.unhook(),m.error("error occured processing css with postcss",e),m.throws(s),null}}function $u(e){return `<style>${e}</style>`}async function Xr(e,t){c.mode.watch&&z();let n=yl(e,t);try{let r=await Fl(e);if(Y(Tu)||e.config.postcss===!1&&e.config.snippet===!1)return n(r.css);if(e.config.postcss){let s=await Cl(e,r.css,r.map);if(s===null)return null;if(e.config.snippet)return n($u(s))}return e.config.snippet?n($u(r.css)):n(r.css)}catch(r){return m.throws(r),null}}async function _u(e){z(),c.mode.clean&&await Vr();let t=Hr(c.paths,c.dirs.output),n=To__default["default"](c.watch),s=js.glob.sync(c.dirs.input+"**",{nodir:!0}).filter(n).reduce((i,o)=>{let u=t(o);if(P(u))return i;switch(u.type){case 7:i.style.push(u);break;case 4:i.section.push(u);break;case 2:i.layout.push(u);break;case 3:i.snippet.push(u);break;case 6:i.locale.push(u);break;case 5:i.config.push(u);break;case 1:i.template.push(u);break;case 14:i.page.push(u);break;case 12:i.asset.push(u);break;case 13:i.metafield.push(u);break}return i},{style:[],section:[],layout:[],snippet:[],locale:[],page:[],config:[],metafield:[],template:[],asset:[]});for(let i of s.style){m.changed(i);try{await Xr(i,e);}catch(o){m.error(o,i);}}for(let i of s.section){m.changed(i);try{await Be(i,e);}catch(o){m.error(o,i);}}for(let i of s.layout){m.changed(i);try{await Be(i,e);}catch(o){m.error(o,i);}}for(let i of s.template){m.changed(i);try{i.ext===".json"?await Pe(i,e):await Be(i,e);}catch(o){m.error(o,i);}}for(let i of s.snippet){m.changed(i);try{await Be(i,e);}catch(o){m.error(o,i);}}for(let i of s.locale){m.changed(i);try{await Pe(i,e);}catch(o){m.error(o,i);}}for(let i of s.config){m.changed(i);try{await Pe(i,e);}catch(o){m.error(o,i);}}for(let i of s.page){m.changed(i);try{await Kr(i);}catch(o){m.error(o,i);}}for(let i of s.metafield){m.changed(i);try{await Pe(i,e);}catch(o){m.error(o,i);}}for(let i of s.asset){m.changed(i);try{m.info(f.cyan(`${i.base}`)),await Qr(i,e);}catch(o){m.error(o,i);}}m.info(f.greenBright.bold("Completed in "+le()));}var _="\x1B[",tr="\x1B]",Ft="\x07",Zr=";",Pu=process.env.TERM_PROGRAM==="Apple_Terminal",b={};b.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?_+(e+1)+"G":_+(t+1)+";"+(e+1)+"H"};b.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let n="";return e<0?n+=_+-e+"D":e>0&&(n+=_+e+"C"),t<0?n+=_+-t+"A":t>0&&(n+=_+t+"B"),n};b.cursorUp=(e=1)=>_+e+"A";b.cursorDown=(e=1)=>_+e+"B";b.cursorForward=(e=1)=>_+e+"C";b.cursorBackward=(e=1)=>_+e+"D";b.cursorLeft=_+"G";b.cursorSavePosition=Pu?"\x1B7":_+"s";b.cursorRestorePosition=Pu?"\x1B8":_+"u";b.cursorGetPosition=_+"6n";b.cursorNextLine=_+"E";b.cursorPrevLine=_+"F";b.cursorHide=_+"?25l";b.cursorShow=_+"?25h";b.eraseLines=e=>{let t="";for(let n=0;n<e;n++)t+=b.eraseLine+(n<e-1?b.cursorUp():"");return e&&(t+=b.cursorLeft),t};b.eraseEndLine=_+"K";b.eraseStartLine=_+"1K";b.eraseLine=_+"2K";b.eraseDown=_+"J";b.eraseUp=_+"1J";b.eraseScreen=_+"2J";b.scrollUp=_+"S";b.scrollDown=_+"T";b.clearScreen="\x1Bc";b.clearTerminal=process.platform==="win32"?`${b.eraseScreen}${_}0f`:`${b.eraseScreen}${_}3J${_}H`;b.beep=Ft;b.link=(e,t)=>[tr,"8",Zr,Zr,t,Ft,e,tr,"8",Zr,Zr,Ft].join("");b.image=(e,t={})=>{let n=`${tr}1337;File=inline=1`;return t.width&&(n+=`;width=${t.width}`),t.height&&(n+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+e.toString("base64")+Ft};b.iTerm={setCwd:(e=process.cwd())=>`${tr}50;CurrentDir=${e}${Ft}`,annotation:(e,t={})=>{let n=`${tr}1337;`,r=typeof t.x<"u",s=typeof t.y<"u";if((r||s)&&!(r&&s&&typeof t.length<"u"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),n+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?n+=(r?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):n+=e,n+Ft}};var vs=b;var Uu=ot(Iu(),1),Gu=ot(Wu(),1);var bl=(0, Uu.default)(()=>{(0, Gu.default)(()=>{Hu__default["default"].stderr.write("\x1B[?25h");},{alwaysLast:!0});}),zu=bl;var on=!1,Et={};Et.show=(e=Hu__default["default"].stderr)=>{!e.isTTY||(on=!1,e.write("\x1B[?25h"));};Et.hide=(e=Hu__default["default"].stderr)=>{!e.isTTY||(zu(),on=!0,e.write("\x1B[?25l"));};Et.toggle=(e,t)=>{e!==void 0&&(on=e),on?Et.show(t):Et.hide(t);};var Rs=Et;function Os(e){return Number.isInteger(e)?e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141):!1}var Sl=/^[\uD800-\uDBFF][\uDC00-\uDFFF]$/,Vu=["\x1B","\x9B"],an=e=>`${Vu[0]}[${e}m`,Ju=(e,t,n)=>{let r=[];e=[...e];for(let s of e){let i=s;s.includes(";")&&(s=s.split(";")[0][0]+"0");let o=It.codes.get(Number.parseInt(s,10));if(o){let u=e.indexOf(o.toString());u===-1?r.push(an(t?o:i)):e.splice(u,1);}else if(t){r.push(an(0));break}else r.push(an(i));}if(t&&(r=r.filter((s,i)=>r.indexOf(s)===i),n!==void 0)){let s=an(It.codes.get(Number.parseInt(n,10)));r=r.reduce((i,o)=>o===s?[o,...i]:[...i,o],[]);}return r.join("")};function ks(e,t,n){let r=[...e],s=[],i=typeof n=="number"?n:r.length,o=!1,u,a=0,l="";for(let[D,p]of r.entries()){let h=!1;if(Vu.includes(p)){let F=/\d[^m]*/.exec(e.slice(D,D+18));u=F&&F.length>0?F[0]:void 0,a<i&&(o=!0,u!==void 0&&s.push(u));}else o&&p==="m"&&(o=!1,h=!0);if(!o&&!h&&a++,!Sl.test(p)&&Os(p.codePointAt())&&(a++,typeof n!="number"&&i++),a>t&&a<=i)l+=p;else if(a===t&&!o&&u!==void 0)l=Ju(s);else if(a>=i){l+=Ju(s,!0,u);break}}return l}var Al=24,cn=e=>{let{columns:t}=e;return t||80},$l=(e,t)=>{let n=e.rows||Al,r=t.split(`
`),s=r.length-n;return s<=0?t:ks(t,Qe(r.slice(0,s).join(`
`)).length+1)};function Qu(e,{showCursor:t=!1}={}){let n=0,r=cn(e),s="",i=(...o)=>{t||Rs.hide();let u=o.join(" ")+`
`;u=$l(e,u);let a=cn(e);u===s&&r===a||(s=u,r=a,u=jt(u,a,{trim:!1,hard:!0,wordWrap:!1}),e.write(vs.eraseLines(n)+u),n=u.split(`
`).length);};return i.clear=()=>{e.write(vs.eraseLines(n)),s="",r=cn(e),n=0;},i.done=()=>{s="",r=cn(e),n=0,t||Rs.show();},i}var vl=Qu(Hu__default["default"].stdout),ge=vl;Qu(Hu__default["default"].stderr);var ln=new RegExp(`{%-?\\s*render\\s+['"]${qn}['"][,\\slablsockvetr:0-9'"]+?-?%}\\s+`);async function Xu(e){let t=`snippets/${qn}`,[n]=c.sync.themes,r=await fsExtra.readFile(W.snippet),s=await ms(r.toString(),{theme:n,key:t});return ge(`${f.line}${f.italic.gray(`${t} uploaded snippet injection`)}`),s}function Zu(e){if(!ln.test(e))return eo(e)}function Rl(e){let t=e.search(ln),n=e.slice(0,t),r=e.slice(e.indexOf("%}")+2);return n+r}function eo(e){let t=e.lastIndexOf("<head>")+6;return e.slice(0,t)+v+W.renderer+v+e.slice(t)}async function to(e){if(!await fsExtra.pathExists(e))return null;let r=(await fsExtra.readFile(e)).toString();ln.test(r)||(r=eo(r),await fsExtra.writeFile(e,r),ge(`${f.line}${f.italic.gray("injected render tag in output layout")}`));let[s]=c.sync.themes,i=path.basename(e),o=`layout/${i}`,u=await nu(`layout/${i}`,s);return ln.test(u)&&(r=Rl(r)),await ms(r,{theme:s,key:o})?(ge(`${f.line}${f.italic.gray(`${o} uploaded and inject render tag`)}`),!0):!1}var Ns=new Set;function fn(e){let{compilerOptions:t}=ne.esbuild.tsconfig;if(!d("paths",t))return;let n=ke(t.paths),r=new RegExp(`^(${n.join("|")})`);return {name:"syncify-paths",setup(s){s.onResolve({filter:r},function(i){let o=n.find(l=>new RegExp(`^${l}`).test(i.path)),[u]=o.split("*"),a=i.path.replace(u,k);a===i.path&&(a=k);for(let l of t.paths[o]){let D=path.normalize(path.resolve(c.cwd,l).replace("*",a));if(!D.endsWith("*"))return Ns.has(i.path)||(ne.esbuild.loaded?Dt.emit("script:watch",i.path):e.watch.push(D)),{path:D};let[p]=js__default["default"].sync(`${D}.*`);if(!p){let[h]=js__default["default"].sync(`${D}/index.*`);p=h;}if(p)return {path:p}}return {path:i.path}});}}}function nr(e){return {name:"syncify-watch",setup(t){t.onStart(()=>z()),t.onResolve({filter:/.*/},n=>{if(!/node_modules/.test(n.importer)&&/^[./]/.test(n.path))if(n.importer!==k){let[r]=js__default["default"].sync(path.join(ht(n.importer),n.path+".*"));R(r)&&!Ns.has(r)&&(ne.esbuild.loaded?Dt.emit("script:watch",r):e.watch.push(r));}else Ns.has(n.path)||(ne.esbuild.loaded?Dt.emit("script:watch",n.path):e.watch.push(n.path));});}}}var no;async function so(e){let{build:t}=await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('esbuild')); });return no=t,t(e)}var Il=e=>"<script>"+e+"<\/script>";async function io(e,t){z();let{config:n}=e;try{let r=await no(e.config.esbuild);for(let{text:s,path:i}of r.outputFiles)if(/\.map$/.test(i))fsExtra.writeFile(path.join(ce.script.uri,e.base),s);else {m.process(`${f.bold("ESBuild")}`,le());let{format:o}=e.config.esbuild;m.transform(`created ${f.bold(o.toUpperCase())} bundle \u2192 ${f.bold(X(te(s)))}`),n.snippet?(await fsExtra.writeFile(e.output,Il(s)),m.transform(`exported as ${f.bold("snippet")}`)):await fsExtra.writeFile(e.output,s);}}catch(r){for(let{text:s,location:i}of r.errors)m.error(s,e),m.info(f.redBright(`Line ${i.line} in ${f.bold(i.file)}`));return null}}async function Wl(){if(ge(`${f.line}${f.italic.gray("validating snippet injection")}`),await Xu()){ge(`${f.line}${f.italic.gray("validating layouts")}`);for(let t in W.alive)await to(t)||ge(`${f.line}${f.redBright.bold("Failed to inject render tag")}`);ge.clear();}else ge(`${f.line}${f.redBright.bold("Failed to upload snippet")}`);}async function oo(e){T(`${f.line}${f.bold(`${W.method==="hot"?"HOT":"LIVE"} Reloading:`)}`),pt.nwl(),ge(`${f.line}${f.italic.gray("configuring HOT Reload")}`),await Wl();function t(s){s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Cache-Control","public, max-age=0");}let n=ql__default["default"](path.join(e.dirs.output,"assets"),{setHeaders:t});Ll__default["default"].createServer((s,i)=>n(s,i,Ml__default["default"](s,i))).listen(W.server),T(f.line+f.pink(`server \u2192 ${f.bold("assets")} \u2192 ${f.gray.underline(`http://localhost:${W.server}`)}`));}function ao(){let e=new ws$1.Server({port:W.socket,path:"/ws"});return e.on("connection",t=>{e.on("script",n=>t.send(`script,${n}`)),e.on("stylesheet",n=>t.send(`stylesheet,${n}`)),e.on("section",n=>t.send(`section,${n}`)),e.on("svg",n=>t.send(`svg,${n}`)),e.on("assets",()=>t.send("assets")),e.on("reload",()=>t.send("reload")),e.on("replace",()=>t.send("replace"));}),{script:t=>e.emit("script",path.basename(t)),stylesheet:t=>e.emit("stylesheet",path.basename(t)),section:t=>e.emit("section",t),svg:t=>e.emit("svg",t),assets:()=>e.emit("assets"),reload:()=>e.emit("reload"),replace:()=>e.emit("replace")}}function co(e){let t=ao(),n=Gr(c.sync),r=Hr(c.paths,c.dirs.output),s=Ul__default["default"].watch(Fr(c.watch.values()),{persistent:!0,ignoreInitial:!0,usePolling:!0,interval:75,binaryInterval:100,ignored:["**/*.map"]});Dt.on("script:watch",i=>{}),s.on("all",async function(i,o){let u=r(o);if(!P(u)){if(u.type!==15&&m.changed(u),E(i,"change")||E(i,"add"))try{let a=null;if(u.type===8)a=await io(u),t.script(u.key);else if(u.type===7)a=await Xr(u,e),t.stylesheet(u.key);else if(u.type===4)a=await Be(u,e);else if(u.type===2)a=await Be(u,e),c.hot&&(a=Zu(a));else if(u.type===3)a=await Be(u,e);else if(u.type===6||u.type===5)a=await Pe(u,e);else {if(u.type===13)return a=await Pe(u,e),n.metafields({value:a,namespace:u.namespace,key:u.key});if(u.type===1&&u.kind==="JSON")a=await Pe(u,e);else if(u.type===1&&u.kind==="Liquid")a=await Be(u,e);else if(u.type===14){a=await Kr(u);return}else (u.type===12||u.type===15)&&(a=await Qr(u,e));}a!==null&&(m.syncing(u.key),await n.assets("put",u,a),u.type===4?t.section(u.name):u.type!==8&&u.type!==7&&await S.onIdle().then(()=>t.replace()));}catch(a){m.throws(a);}else if(E(i,"delete"))return n.assets("delete",u)}});}var lo=`
  ${g("-----------------------------------------------------------------------------")}
  ${$("Syncify")}  <!version!>                                               ${g("by Panoply")}
  ${g("-----------------------------------------------------------------------------")}

  Welcome to the Syncify CLI. The command line utility assumes that
  you have defined stores, themes and setup credentials within a ${g(".env")} file.

  ${$("Aliases:")}

  $ sync

  ${$("Commands:")}

  $ syncify                    ${g.italic("Interactive prompt")}
  $ syncify <store>            ${g.italic("Prints list of connected stores")}

  ${$("Themes:")}

       --<store>    <list>     ${g.italic("A store reference command (see examples)")}
    -t, --theme     <list>     ${g.italic("A comma seprated list of themes")}

  ${$("Paths:")}

    -c, --config    <path>     ${g.italic("Set configs path")}
    -i, --input     <path>     ${g.italic("Set input path")}
    -o, --output    <path>     ${g.italic("Set output path")}

  ${$("Utility:")}

    -f, --filter    <path>     ${g.italic("Glob path, use with pull or push triggers")}

  ${$("Environment:")}

    --dev                      ${g.italic("Build in development mode (default)")}
    --prod                     ${g.italic("Build in production mode")}
    --hot                      ${g.italic("Run watch with hot-reloads")}

  ${$("Modes:")}

    -b, --build                ${g.italic("Build theme from input")}
    -w, --watch                ${g.italic("Run watch mode")}
    -u, --upload               ${g.italic("Upload theme to stores")}
    -d, --download             ${g.italic("Download theme from stores")}
    -m, --metafields           ${g.italic("Run metafields resource mode")}
    -p, --pages                ${g.italic("Run pages resource mode")}
    -r, --redirects            ${g.italic("Run redirects resource mode")}

  ${$("Resource:")}

    --pull                     ${g.italic("Pull a resource from a shop or theme")}
    --push                     ${g.italic("Push a resource to a shop or theme")}
    --silent                   ${g.italic("Silent logs, only warnings or errors are printed")}

  ${$("Trigger:")}

      -s, --spawn     <list>   ${g.italic("Invoke a defined spawn child process/s")}
    -del, --delete    <list>   ${g.italic("Delete a remote and local file")}
    -min, --minify    <list>   ${g.italic("invoke minify mode, accepts resource/s")}

  ${$("Other:")}

    --strap                    ${g.italic("Import a strap into the project")}
    --vsc                      ${g.italic("Generate vscode specific settings")}
    --help                     ${g.italic("Show the screen")}

 ${g("-----------------------------------------------------------------------------")}

`;var Gl=Object.assign||((e,t)=>(t&&Object.keys(t).forEach(n=>e[n]=t[n]),e)),qs=(e,t,n)=>{let r=typeof n;if(n&&r==="object")if(Array.isArray(n))for(let s of n)t=qs(e,t,s);else for(let s of Object.keys(n)){let i=n[s];typeof i=="function"?t[s]=i(t[s],Dn):i===void 0?e&&!isNaN(s)?t.splice(s,1):delete t[s]:i===null||typeof i!="object"||Array.isArray(i)?t[s]=i:typeof t[s]=="object"?t[s]=i===t[s]?i:Dn(t[s],i):t[s]=qs(!1,{},i);}else r==="function"&&(t=n(t,Dn));return t},Dn=(e,...t)=>{let n=Array.isArray(e);return qs(n,n?e.slice():Gl({},e),t)},We=Dn;var ut={};function ye(e){return d(e,ut)||(ut[e]=[]),(t,n)=>{P(n)?ut[e].push(`${f.line}  ${f.yellowBright(`${t}`)}`):ut[e].push(`${f.line}  ${f.yellowBright(`${t}${f.whiteBright(":")} ${f.bold(n)}`)}`);}}function A(e,t,n,r){console.error(f.red(`
    ${f.bold(`Invalid ${f.cyan(e)} configuration`)}

    The ${f.cyan(t)} option has an incorrect type value.

    Provided${f.gray(":")} ${f.yellow.bold(H(n).toLowerCase())}
    Expected${f.gray(":")} ${f.blue.bold(r)}

    ${f.white.bold("How to fix?")}
    ${f.white("You need to update the option type.")}

  `)),process.exit(1);}function sr(e){console.error(f.red(`
      ${f.bold(`Missing ${f.cyan(e)} dependency`)}

      You need to install ${f.cyan(e)} to use it as a processor

      ${f.white.bold("How to fix?")}
      ${f.white("Run "+f.bold("pnpm add "+e+"-D"))}

    `)),process.exit(1);}function ue(e,t,n,r){console.error(f.red(`
      ${f.bold(`Invalid ${f.cyan(e)} configuration`)}

      The ${f.cyan(t)} option has an invalid or missing value.

      Provided${f.gray(":")} ${f.yellow.bold(n)}
      Expected${f.gray(":")} ${f.blue(r.replace(/([|,])/g,f.gray("$1")))}

      ${f.white.bold("How to fix?")}
      ${f.white("You need to update the option and use one of the expected values.")}

    `)),process.exit(1);}function fo(e){console.error(f.red(`
      ${f.bold(`Missing ${f.cyan("syncify.config.js")} configuration`)}

      Unable to resolve a configuration file in the workspace.

      Directory${f.gray(":")} ${f.gray.underline(e)}

      ${f.white.bold("How to fix?")}
      ${f.white("Add one of the following files to your workspace:")}
        ${f.gray("-")} ${f.white("syncify.config.ts")}
        ${f.gray("-")} ${f.white("syncify.config.js")}
        ${f.gray("-")} ${f.white("syncify.config.mjs")}
        ${f.gray("-")} ${f.white("syncify.config.cjs")}
        ${f.gray("-")} ${f.white("syncify.config.json")}
    `)),process.exit(1);}function Do(e,t){console.error(f.redBright.bold(`Error ${e} option

`),f.gray(`${t}`)),process.exit(1);}function Bt(e,t){console.error(f.redBright.bold(`Unknown ${e} option

`),f.redBright(`The ${f.bold(t)} option in invalid, remove it from the config`)),process.exit(1);}function po(e,t){let n=e+"_api_token";if(d(n,t)||(n=n.toUpperCase()),d(n,t))return {baseURL:`https://${e}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":t[n]}};let r=e+"_api_key",s=e+"_api_secret";if(d(r,t)||(r=r.toUpperCase()),d(s,t)||(s=s.toUpperCase()),d(r,t)&&d(s,t))return {baseURL:`https://${e}.myshopify.com/admin`,auth:{username:t[r],password:t[s]}};throw new Error(`Missing "${e}" credentials`)}function bt(e,t){return !!(d("devDependencies",e)&&d(t,e.devDependencies)||d("dependencies",e)&&d(t,e.dependencies)||d("peerDependencies",e)&&d(t,e.peerDependencies)||d("optionalDependencies",e)&&d(t,e.peerDependencies))}async function Yl(e){for(let t of ["js","cjs","mjs"]){let n=`${e}.${t}`;if(await fsExtra.pathExists(`${n}.${t}`))return n}return null}async function ir(e){try{let t=await Yl(e);if(t!==null){let n=await bundleRequire.bundleRequire({filepath:t});return {path:t,config:n.mod.syncify||n.mod.default||n.mod}}return null}catch{return null}}function Ms(e,t){let n=t,r=de(e),s=path.extname(e),i=path.basename(e,s);return P(t)?{dir:r,ext:s,file:i,name:i}:(/(\[dir\])/.test(n)&&(n=n.replace("[dir]",r)),/(\[file\])/.test(n)&&(n=n.replace("[file]",i)),/(\[ext\])/.test(n)&&(n=n.replace(".[ext]",s)),{ext:s,file:i,dir:r,name:t.replace(t,n)})}var St=new Map,Ls=(e,t,n)=>{let r=Ql__default["default"](t.cmd,t.args,{stdio:"pipe"});r.stdio[0].on("data",n),r.stdio[1].on("data",n),r.stdio[2].on("data",n),t.pid=r.pid,St.set(e,r);};function mo(e){let t=[];if(e.mode.metafields)return k;t.push(`${lt}${g("Syncify")} ${g("~")} ${g(Xe())}`,`${x}`,`${x}${me.bold(`v${e.version}`)}`,`${x}`);let n=e.sync.stores.length,r=ke(e.sync.themes).length,s=ke(e.spawn.commands).length,{mode:i}=e,o=K.bold(String(n))+(n>1?" stores":" store"),u=K.bold(String(r))+(r>1?" themes":" theme"),a=K.bold(`${e.dev?"development":"production"}`);if(i.build?t.push(`${x}Running ${K.bold("build")} in ${a}`):i.watch?t.push(`${x}Running ${K.bold("watch")} in ${a}`):i.upload?t.push(`${x}Running ${K.bold("upload")} mode`):i.download?t.push(`${x}Running ${K.bold("download")} mode`):i.vsc?t.push(`${x}Generate ${K.bold("vscode")} schema`):i.clean?t.push(`${x}Running ${K.bold("clean")} mode`):i.export&&t.push(`${x}Running ${K.bold("export")} mode`),t.push(`${x}${n>0&&r>0?`Syncing ${u} to ${o}`:k}`),Fe(i.build,i.watch)&&s>0?t.push(`Spawned ${K.bold(`${s}`)} child ${s>1?"processes":"process"}${v}`):t.push(x),fr(i.upload,i.download,i.build,i.clean,i.vsc)){if(s>0){let p=Fr(St),h=p.reduce((w,[M])=>M.length>w?M.length:w,0),F=p.map(([w,M])=>x+Oe.repeat(h-w.length)+me(Ni(w))+g(":")+Oe+g("PID")+" \u2192 "+g("#")+Ae(`${M.pid}`));t.push(`${x}${$("Processes:")}${ft}${F.join(v)}${r>0?v:k}`);}if(r>0){let p=Bn(e.sync.themes),h=p.reduce((w,{target:M})=>M.length>w?M.length:w,0),F=p.map(({id:w,store:M,target:Ge})=>Oe.repeat(h-Ge.length)+ft+x+Ae(`${M.slice(0,M.indexOf("."))} \u2192 `)+Ae.bold(Ge)+Ae(" \u2192 ")+g.underline(`https://${M}/admin/themes/${w}/editor`));t.push(`${x}${$("Theme Editors:")}${F.join(v)}${v}${x}`);}if(r>0){let p=Bn(e.sync.themes),h=p.reduce((w,{target:M})=>M.length>w?M.length:w,0),F=p.map(({id:w,store:M,target:Ge})=>Oe.repeat(h-Ge.length)+ft+x+Ae(`${M.slice(0,M.indexOf("."))} \u2192 `)+Ae.bold(Ge)+Ae(" \u2192 ")+g.underline("https://"+M+"?preview_theme_id="+w));t.push(`${x}${$("Theme Previews:")}${F.join(v)}${v}${x}`);}}let l=!1,D=path.basename(e.file);for(let p in ut){let h=ut[p];if(h.length>0){l||(t.push(`${x}${De(`${$("Warnings")} in ${$(D)}`)}:${v}${x}`),l=!0);let F=De(`${$(`${h.length}`)} ${p} ${h.length>1?"warnings":"warning"}`);t.push(`${x}${F}${ft}${h.join(v)}${v}${x}`);}}return t.join(`${v}`)}var ho=!1,go=!1,Ws=new Set;function pn(e,t){ho||(ho=!0,Ws.forEach(n=>n()),e&&process.exit(128+t));}function yo(e){return Ws.add(e),go||(go=!0,process.once("exit",pn),process.once("SIGINT",pn.bind(void 0,!0,2)),process.once("SIGTERM",pn.bind(void 0,!0,15)),process.on("message",t=>{t==="shutdown"&&pn(!0,-128);})),()=>Ws.delete(e)}async function wo(e){let t=null;for(let n of ["syncify.config.js","syncify.config.mjs","syncify.config.cjs","syncify.config.ts","syncify.config.json"]){if(t=path.join(e,n),await fsExtra.pathExists(t))break;t=null;}if(t===null)return null;try{if(t.endsWith(".json")){c.file=t;let n=await fsExtra.readFile(t);return ji(n.toString())}else {c.file=t;let n=await bundleRequire.bundleRequire({filepath:t});return n.mod.syncify||n.mod.default||n.mod}}catch(n){console.log(n);let r=path.join(e,"syncify.config.json");return await fsExtra.pathExists(r)?fsExtra.readJson(r):null}}async function xo(e){let t;if(t=path.join(e,"tsconfig.json"),!await fsExtra.pathExists(t)&&(t=path.join(e,"jsconfig.json"),!await fsExtra.pathExists(t)))return null;try{let r=await fsExtra.readFile(t),s=Nt(r.toString());return JSON.parse(s)}catch(r){throw new Error(r)}}async function Eo(e){let t=path.join(e,"package.json");if(!await fsExtra.pathExists(t))throw new Error('Missing "package.json" file');try{return await fsExtra.readJson(t)}catch(r){throw new Error(r)}}var Bo=e=>{if(!d("sections",e.views))return;let{sections:t}=e.views;L(e.views.sections)||Bt("sections",e.views.sections);for(let n in c.section){if(d(n,t)||Bt("sections",n),n==="prefixDir")if(Ce(t[n])){c.section[n]=t[n];continue}else A("sections",n,t[n],"boolean");if(n==="separator")if(R(t[n]))if(/[@:_-]/.test(t[n])){c.section[n]=t[n];continue}else ue("sections",n,t[n],"@ | _ | : | -");else A("sections",n,t[n],"string");if(n==="global"){let r=R(t[n])?[t[n]]:t[n];if(B(r)){c.section[n]=new RegExp(`${r.join("|")}`);continue}else A("sections",n,t[n],"string | string[]");}}};function bo(e){if(!d("json",e.transforms))return;let{json:t}=e.transforms;L(t)||Bt("json",t);for(let n in t){if(n==="indent")if(oi(t[n])){c.json[n]=t[n];continue}else A("json",n,t[n],"number");if(n==="useTab")if(Ce(t[n])){c.json[n]=t[n];continue}else A("json",n,t[n],"boolean");if(n==="exclude"){let r=R(t[n])?[t[n]]:t[n];if(B(r)){c.json[n]=To__default["default"](r);continue}else A("exclude",n,r[n],"string | string[]");}}}function mn(e){let t=ye("URI Resolver"),{cwd:n}=c,r=nt(c.config.input);if(B(e))return e.flatMap(s=>{let i=js__default["default"].sync(r(s),{cwd:n,realpath:!0});return i.length===0?(t("Path could not be resolved at",s),null):i});if(R(e)){let s=js__default["default"].sync(r(e),{cwd:n,realpath:!0});return s.length===0?(t("Path could not be resolved at",e),null):s}A("uri","uri/path",e,"string | string[]");}function hn(e,t=!1){let n=[];for(let r in e){let s={snippet:r.startsWith("snippets/")},i=r.startsWith("assets/"),o=e[r],u=B(o),a=i||s.snippet;if(R(o)||u&&a){a&&(s.rename=i?r.slice(7):r.slice(9)),u&&!o.every(R)&&A("transform",r,o,"string[]");let l=mn(o);if(l)if(t)for(let D of l)n.push(utils.assign({},s,{input:D}));else n.push(utils.assign({},s,{input:l}));}else if(L(o)){d("input",o)||ue("tranform",r,o,"{ input: string | string[] }");let l=mn(o.input);if(l){let D=a?utils.assign({},o,s,{rename:i?r.slice(7):r.slice(9)}):utils.assign({},s,o);if(t)for(let p of l)n.push(utils.assign(D,{input:p}));else n.push(utils.assign(D,{input:l}));}}else if(B(o))if(o.every(R)){let l=mn(o);if(l)if(t)for(let D of l)n.push(utils.assign({},s,o,{input:D}));else n.push(utils.assign({},s,o,{input:l}));}else if(L(o[0]))for(let l of o){L(l)||A("transform",r,l,"{ input: string }"),d("input",l)||ue("tranform",r,l,"{ input: string | string[] }");let D=mn(l.input);if(D)if(t)for(let p of D)n.push(utils.assign({},s,l,{input:p}));else n.push(utils.assign({},s,l,{input:D}));}else A("transform",r,o,"string[] | object[]");}return n}var Ao=(e,t)=>{let n=t,r=de(e),s=path.extname(e),i=path.basename(e,s);return P(t)?{dir:r,ext:s,file:i,name:i}:(/(\[dir\])/.test(n)&&(n=n.replace("[dir]",r)),/(\[file\])/.test(n)&&(n=n.replace("[file]",i)),/(\[ext\])/.test(n)&&(n=n.replace(".[ext]",s)),{ext:s,file:i,dir:r,name:t.replace(t,n)})};async function vo(e,t){if(!d("script",e.transforms))return;let{esbuild:n}=ne,{script:r}=e.transforms,s=ye("script transform option");if(n.installed=bt(t,"esbuild"),n.installed){let a=await ir("esbuild.config");a!==null&&(n.file=a.path,n.config=We(n.config,a.config));}else sr("esbuild");d("entryPoints",n.config)&&(s("processor config is not allowed and was omitted","entryPoints"),delete n.config.entryPoints);let i=await xo(c.cwd),o=hn(r,!0),u=En(["input","watch","rename","snippet"]);pe(n,"tsconfig",{get(){return i}}),n.config.plugins.length>0?n.config.plugins.unshift(fn(),nr()):n.config.plugins.push(fn(),nr()),n.config.absWorkingDir=c.cwd;for(let a of o){c.watch.has(a.input)&&s("input already in use",path.relative(c.cwd,a.input));let l={input:a.input,snippet:a.snippet,rename:null,watch:null,esbuild:null},D=j({entryPoints:[a.input]},n.config),p=u(a),{name:h}=Ao(a.input,a.rename);if(!h.endsWith(".js")&&!h.endsWith(".mjs")?l.rename=h+".js":h.endsWith(".cjs")?ue("rename","file extension",h,".js | .mjs"):l.rename=h,a.snippet?(h.endsWith(".liquid")||(l.rename=h+".liquid"),c.watch.add(`!${path.join(c.cwd,e.output,"snippets",l.rename)}`)):(h.endsWith(".liquid")&&s("Using .liquid extension rename for asset",h),c.watch.add(`!${path.join(c.cwd,e.output,"assets",l.rename)}`)),yr(p))pe(l,"esbuild",{get(){return D}});else {for(let w in p)w==="entryPoints"?s("Option is not allowed, use Syncify input instead",w):w==="outdir"?s("Option is not allowed, Syncify will handle output",w):w==="watch"?s("Option is not allowed, declare watch using Syncify",w):w==="absWorkingDir"||w==="watch"||w==="incremental"||w==="write"||w==="logLevel"?s("Option is not allowed and will be ignored",w):w==="plugins"?D[w].push(...p[w]):D[w]=p[w];pe(l,"esbuild",{get(){return D}});}d("watch",a)||(a.watch=[]),B(a.watch)||A("script","watch",a.watch,"string[]");let F=j({},L(a.esbuild)?a.esbuild:n.config,{entryPoints:[a.input],write:!1,watch:!1,incremental:!0,logLevel:"silent",absWorkingDir:c.cwd,plugins:[]});n.tsconfig!==null&&Je("compilerOptions.paths",n.tsconfig)?F.plugins.push(fn(a),nr(a)):F.plugins.push(nr(a)),await so(F),a.watch.forEach(w=>c.watch.add(w)),l.watch=To__default["default"](a.watch),c.script.push(l);}n.loaded=!0;}async function _o(e,t){if(!d("style",e.transforms))return;let{postcss:n,sass:r}=ne,s=ye("style transform option");if(r.installed=bt(t,"sass"),n.installed=bt(t,"postcss"),n.installed){let u=await ir("postcss.config");u!==null&&(n.file=u.path,n.config=u.config);}let i=hn(e.transforms.style,!0),o=nt(e.input);for(let u of i){let a={input:u.input,watch:null,postcss:!1,sass:!1};if(d("postcss",u)){let p=L(u.postcss);(Ce(u.postcss)||p)&&!Y(u.postcss)?u.postcss!==!1&&(n.installed||sr("postcss"),n.required||(n.required=!0),a.postcss=p?We(n.config,u.postcss):!0):A("style","postcss",a.postcss,"boolean | {}");}if(d("sass",u)&&u.sass!==!1||r.installed===!0){let p=L(u.sass);if((Ce(u.sass)||p)&&!Y(u.sass))if(r.installed||sr("sass"),r.required||(r.required=!0),!p)pe(a,"sass",{get(){return u.sass}});else {a.sass=j(r.config,u.sass);for(let h in u.sass)h==="sourcemap"||h==="warnings"?Ce(u.sass[h])?a.sass[h]=u.sass[h]:A("sass",h,u.sass[h],"boolean"):h==="style"?(R(u.sass[h])||A("sass",h,u.sass[h],"string"),u.sass[h]==="expanded"||u.sass[h]==="compressed"?a.sass[h]=u.sass[h]:ue("sass",h,u.sass[h],"expanded | compressed")):h==="includePaths"&&(B(u.sass[h])?a.sass[h]=gr(u.sass[h]).map(F=>path.join(c.cwd,F)):A("sass",h,u.sass[h],"string[]"));}else A("style","sass",u.sass,"boolean | {}");!u.snippet&&!/\.s[ac]ss/.test(path.extname(a.input))&&s("Input is not a sass file",a.input);}let l=Ms(u.rename);d("rename",u)&&!Y(u)&&(R(u.rename)||A("styles","rename",u.rename,"string"),l=Ms(a.input,u.rename),/[a-zA-Z0-9_.-]+/.test(l.name)||A("sass","rename",l,"Invalid rename augment"),l.name.endsWith(".css")?a.rename=l.name:l.name.endsWith(".scss")?l.name=l.name.replace(".scss",".css"):l.name.endsWith(".sass")?l.name=l.name.replace(".sass",".css"):l.name.endsWith(".liquid")||(l.name=l.name+".css"));let D=[];if(c.mode.watch&&d("watch",u)){B(u.watch)||A("styles","watch",u.watch,"string[]");for(let p of u.watch){let h=js__default["default"].sync(path.join(c.cwd,o(p)));h.length===0&&p[0]!=="!"&&s("Cannot resolve watch glob/path uri",p);for(let F of h)fsExtra.existsSync(F)?D.push(F):s("No file exists in path",F);}D.push(a.input),D.forEach(p=>c.watch.add(p)),a.watch=To__default["default"](D);}else a.watch=To__default["default"]([a.input]),c.watch.add(a.input);typeof a.sass=="object"&&(a.sass.includePaths.unshift(c.cwd,path.join(c.cwd,l.dir)),Je("sass.includePaths",u)&&(a.sass.includePaths=u.sass.includePaths.map(p=>path.join(c.cwd,p)))),d("snippet",u)&&(Ce(u.snippet)||A("styles","snippet",u.snippet,"boolean"),a.snippet=u.snippet),a.snippet?(d("rename",a)||(a.rename=l.name),(!l.name.endsWith(".liquid")||!a.rename.endsWith(".liquid"))&&(a.rename=l.name+".liquid"),c.watch.add(`!${path.join(c.cwd,e.output,"snippets",a.rename)}`)):(a.rename=l.name,c.watch.add(`!${path.join(c.cwd,e.output,"assets",l.name)}`)),c.style.push(a);}}var Po=e=>{if(!Je("minify",e))return;let t=ye("Minify");for(let n in e.minify)if(c.minify[n]!==!1&&e.minify[n]!==!1){t=ye(`${n.toUpperCase()} Minify Rule`);for(let r in e.minify[n]){if(n==="html"){if(r==="minifyCSS"||r==="minifyJS"||r==="sortAttributes"||r==="sortClassName"){t("Option is not allowed",n);continue}if(r==="ignoreCustomFragments")continue}typeof e.minify[n][r]==typeof as[n][r]?c.minify[n][r]=e.minify[n][r]:t("Option type is invalid",r);}}if(d("ignoreCustomFragments",e.minify.html)&&typeof e.minify.html=="object"){let{ignoreCustomFragments:n}=e.minify.html;if(B(n)){if(n.length>0){let r=n.map(s=>Cr(s)?s:new RegExp(s));c.minify.html.ignoreCustomFragments.push(...r);}}else A("minify",n,"option must be an array type","string[]");}if(typeof c.minify.liquid=="object"){if(d("ignoreTags",c.minify.liquid)){let{ignoreTags:n}=c.minify.liquid;if(B(n)){if(n.length>0){let r=new RegExp(`{%-?\\s*(?:(?!${n.join("|")})[\\s\\S])*?%}`);c.minify.html.ignoreCustomFragments.push(r);}}else A("minify",n,"option must be an array type","string[]");}if(d("ignoreObjects",c.minify.liquid)){let{ignoreObjects:n}=c.minify.liquid;if(B(n)){if(n.length>0){let r=new RegExp(`{{-?\\s*(?:(?!${n.join("|")})[\\s\\S])*?-?}}`);c.minify.html.ignoreCustomFragments.push(r);}}else A("minify",n,"option must be an array type","string[]");}}return e};yo(()=>{S.pause(),S.clear(),se(k),St.forEach((e,t)=>{T(`- ${g(`pid: #${e.pid} (${t}) process exited`)}`),e.kill();}),se(k),St.clear(),process.exit(0);});async function Ro(e,t){et();let n=await Eo(e.cwd);pe(c,"pkg",{get(){return n}}),c.config=await yf(n,e),c.mode=df(e),c.cli=e.cli,c.version=n.version,c.cwd=e.cwd,c.silent=e.silent,c.prod=e.prod,c.dev=e.dev&&!e.prod,process.env.SYNCIFY_ENV=c.dev?"dev":"prod",process.env.SYNCIFY_WATCH=String(c.mode.watch);let r=await Promise.all([Su(e,Z),gf(c.cwd),er(c.dirs.output),Au(c),Ff(e,Z),Cf(Z),pf(Z),Po(Z),Bo(Z),bo(Z),vo(Z,n),_o(Z,n),hf(Z,c),Df(e,Z),mf(Z,c)]);return T(mo(c)),r}async function Df(e,t){if(c.mode.watch===!1||e.hot===!1)return;let n=ye("HOT Reloads");if(c.sync.stores.length>1){n("HOT Reload can only be used on 1 store");return}else if(c.sync.themes.length>1){n("HOT Reload can only be used on 1 theme");return}let r=!0;if(Ce(t.hot)){if(t.hot===!1)return;c.hot=!0;}else L(t.hot)?(c.hot=!0,r=yr(t.hot)):A("hot","hot",t.hot,"boolean | {}");if(!r)for(let s in t.hot)d(s,W)?s==="label"?t.hot[s]==="visible"||t.hot[s]==="hidden"?W[s]=t.hot[s]:ue("hot",s,t.hot[s],"visible | hidden"):s==="method"?t.hot[s]==="hot"||t.hot[s]==="refresh"?W[s]=t.hot[s]:ue("hot",s,t.hot[s],"hot | refresh"):s==="scroll"?t.hot[s]==="preserved"||t.hot[s]==="top"?W[s]=t.hot[s]:ue("hot",s,t.hot[s],"preserved | top"):typeof W[s]==typeof t.hot[s]?W[s]=t.hot[s]:A("hot",s,t.hot[s],typeof W[s]):Bt(`hot > ${s}`,t.hot[s]);W.snippet=path.join(c.cwd,"node_modules","@syncify/cli","hot.js.liquid"),W.output=path.join(c.dirs.output,"snippets","hot.js.liquid");for(let s of W.layouts)W.alive[path.join(c.dirs.output,"layout",s)]=!1;}function pf(e){for(let t in e.processors)ne[t].config=B(e.processors[t])?e.processors[t]:j(ne[t].config,e.processors[t]);}function mf(e,t){if(!!d("plugins",e)&&!!B(e.plugins))for(let n of e.plugins)d("onInit",n)&&n.onInit.call({...t},e),d("onChange",n)&&mt.onChange.push([n.name,n.onChange]),d("onTransform",n)&&mt.onTransform.push([n.name,n.onTransform]),t.mode.watch&&(d("onWatch",n)&&mt.onWatch.push([n.name,n.onWatch]),d("onReload",n)&&mt.onReload.push([n.name,n.onReload])),t.mode.build&&d("onBuild",n)&&mt.onBuild.push([n.name,n.onBuild]);}function hf(e,t){if(!d("spawn",e)||Y(e.spawn))return;L(e.spawn)||A("config","spawn",e.spawn,"{ build: {}, watch: {} }");let n=null;if(t.mode.build&&d("build",e.spawn)&&(n="build"),t.mode.watch&&d("watch",e.spawn)&&(n="watch"),!(Y(n)||Y(e.spawn[n])||(L(e.spawn[n])||A("spawn",n,e.spawn.build,"string | string[]"),ke(e.spawn[n]).length===0)))for(let s in e.spawn[n]){let i=e.spawn[n][s];if(R(i)){t.spawn.commands[s]={cmd:k,args:[],pid:NaN};let o=i.trimStart().indexOf(Oe)>-1?i.trimStart().split(Oe):[i];t.spawn.commands[s].cmd=o.shift(),t.spawn.commands[s].args=o,Ls(s,t.spawn.commands[s],Lr(s));}else if(B(i)){let o=i.shift();t.spawn.commands[s]={cmd:o,args:i,pid:NaN},Ls(s,t.spawn.commands[s],Lr(s));}else A("spawn",n,e.spawn[n],"string | string[]");}}function df(e){let t=Fe(e.pages,e.metafields,e.redirects),n=Fe(e.style,e.script,e.image,e.svg);return {vsc:e.vsc,live:e.watch&&e.hot,export:e.export,redirects:e.redirects,metafields:e.metafields,pages:e.pages,prompt:e.prompt,pull:e.pull,push:e.push,script:n?e.script:!1,style:n?e.style:!1,image:n?e.image:!1,svg:n?e.svg:!1,clean:Fe(t,n,e.upload)?!1:e.clean,build:Fe(t,n,e.upload,e.watch,e.download)?!1:e.build,watch:Fe(t,e.upload,e.download)?!1:e.watch,upload:Fe(t,n,e.download,e.watch)?!1:e.upload,download:Fe(t,n,e.upload,e.watch,e.build)?!1:e.download}}async function gf(e){let t=path.join(e,"node_modules/.syncify"),n=path.join(t,"store.map");if(!await fsExtra.pathExists(n))return bu(t);c.dirs.cache=`${t}/`;let s=await fsExtra.readJson(n);j(ce,s);}async function yf(e,t){let n=await wo(t.cwd);if(n!==null)return We(Z,n);if(d("syncify",e))return We(Z,e.syncify);fo(t.cwd);}function Ff(e,t){if(e._.length===0)return;let n=e._[0].split(","),r=af__default["default"].config({path:path.join(c.cwd,".env")}),i=(B(t.stores)?t.stores:[t.stores]).filter(({domain:u})=>mr(u,n)),o=i.length>1;for(let u of i){let a=`${u.domain}.myshopify.com`.toLowerCase(),l=r.error?process.env:r.parsed,D=po(u.domain,l),p=c.sync.stores.push({store:u.domain,domain:a,client:D,queue:o})-1;if(c.mode.metafields||c.mode.pages)return;let h=d("theme",e)?e.theme.split(","):d(u.domain,e)?e[u.domain].split(","):ke(u.themes);for(let F of h)d(F,u.themes)||ue("theme","target",F,"string"),c.sync.themes.push({target:F,sidx:p,store:a,id:u.themes[F],url:`/themes/${u.themes[F]}/assets.json`});}c.sync.stores.length===0&&Do("Unknown, missing or invalid store/theme targets","Check your store config");}async function Cf(e){let t=nt(c.dirs.input);for(let n of ki){let r;n==="customers"?r=d(n,e.paths)?B(e.paths[n])?e.paths[n].map(t):[t(e.paths[n])]:[t("templates/customers")]:d(n,e.paths)?(r=B(e.paths[n])?e.paths[n].map(t):[t(e.paths[n])],n==="assets"&&r.push(path.join(c.dirs.output,"assets/*"))):n==="redirects"?r=[path.join(c.cwd,e.paths[n])]:r=[t(n)],r.forEach(s=>c.watch.add(s)),c.paths[n]=To__default["default"](r);}}var Oo={};ar(Oo,{env:()=>wf});var wf={get dev(){return process.env.SYNCIFY_ENV==="dev"},get prod(){return process.env.SYNCIFY_ENV==="prod"},get watch(){return process.env.SYNCIFY_WATCH==="true"},get options(){return c.config}};async function $t(e,t,n){if(process.on("SIGINT",Mi),process.on("uncaughtException",Wi),process.on("unhandledRejection",Li),d("_",e)&&(e._=e._.slice(1)),e.help)return console.info(lo);if(await Ro(e),c.mode.clean)try{await Vr();}catch(r){throw new Error(r)}await oo(c);try{if(c.mode.build)return _u(n);if(c.mode.watch)return co(n);if(c.mode.upload)return Eu(n);if(c.mode.download)return Bu(n)}catch(r){m.warn(r);}}var yF=e=>e;function xf(e,t){if(R(e)){if(/watch|build|download|upload/.test(e))return n=>$t({cli:!1,[e]:!0},t,n)}else if(L(e)){if(!P(t))throw new Error("You cannot provide options when running instance");return {watch:n=>$t({cli:!1,watch:!0},t,n),build:n=>$t({cli:!1,build:!0},t,n),download:n=>$t({cli:!1,download:!0},t,n),upload:n=>$t({cli:!1,upload:!0},t,n)}}}var FF=xf;

exports.a = wc;
exports.b = yF;
exports.c = FF;
exports.d = Oo;
exports.e = $t;
