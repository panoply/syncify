'use strict';

var ql = require('process');
var A2 = require('minimist');
var Lm = require('fast-glob');
var pathe = require('pathe');
var fsExtra = require('fs-extra');
var wi = require('axios');
var perf_hooks = require('perf_hooks');
var console$1 = require('console');
var events = require('events');
var module$1 = require('module');
var crypto = require('crypto');
var tp = require('zlib');
var child_process = require('child_process');
var url = require('url');
var readline = require('readline');
require('util');
var Go = require('node-notifier');
require('stream');
var nd = require('os');
var vi = require('prompts');
var timers = require('timers');
var Tm = require('anymatch');
var htmlMinifierTerser = require('html-minifier-terser');
var rp = require('cbor');
var Dg = require('write-file-atomic');
var Sg = require('gray-matter');
var Bg = require('markdown-it');
var turndown = require('@syncify/turndown');
var enquirer = require('enquirer');
var ph = require('adm-zip');
var Cp = require('dotenv');
var esbuild = require('esbuild');
var mh = require('http');
var Dh = require('serve-static');
var dh = require('finalhandler');
var kp = require('ngrok');
var ws$1 = require('ws');
var chokidar = require('chokidar');
var m2 = require('tree-kill');
var crossSpawn = require('cross-spawn');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var ql__default = /*#__PURE__*/_interopDefault(ql);
var A2__default = /*#__PURE__*/_interopDefault(A2);
var Lm__default = /*#__PURE__*/_interopDefault(Lm);
var wi__default = /*#__PURE__*/_interopDefault(wi);
var tp__default = /*#__PURE__*/_interopDefault(tp);
var Go__default = /*#__PURE__*/_interopDefault(Go);
var nd__default = /*#__PURE__*/_interopDefault(nd);
var vi__default = /*#__PURE__*/_interopDefault(vi);
var Tm__default = /*#__PURE__*/_interopDefault(Tm);
var rp__default = /*#__PURE__*/_interopDefault(rp);
var Dg__default = /*#__PURE__*/_interopDefault(Dg);
var Sg__default = /*#__PURE__*/_interopDefault(Sg);
var Bg__default = /*#__PURE__*/_interopDefault(Bg);
var ph__default = /*#__PURE__*/_interopDefault(ph);
var Cp__default = /*#__PURE__*/_interopDefault(Cp);
var mh__default = /*#__PURE__*/_interopDefault(mh);
var Dh__default = /*#__PURE__*/_interopDefault(Dh);
var dh__default = /*#__PURE__*/_interopDefault(dh);
var kp__default = /*#__PURE__*/_interopDefault(kp);
var m2__default = /*#__PURE__*/_interopDefault(m2);

var sD=Object.create;var zi=Object.defineProperty;var iD=Object.getOwnPropertyDescriptor;var oD=Object.getOwnPropertyNames;var uD=Object.getPrototypeOf,aD=Object.prototype.hasOwnProperty;var lt=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var lD=(e,t)=>()=>(e&&(t=e(e=0)),t);var U=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cD=(e,t)=>{for(var n in t)zi(e,n,{get:t[n],enumerable:!0});},fD=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oD(t))!aD.call(e,s)&&s!==n&&zi(e,s,{get:()=>t[s],enumerable:!(r=iD(t,s))||r.enumerable});return e};var yt=(e,t,n)=>(n=e!=null?sD(uD(e)):{},fD(t||!e||!e.__esModule?zi(n,"default",{value:e,enumerable:!0}):n,e));var pD,g,c=lD(()=>{pD=()=>typeof document>"u"?new URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,g=pD();});var ha=U((I1,Qi)=>{c();var gD=Object.prototype.hasOwnProperty,Ue="~";function dn(){}Object.create&&(dn.prototype=Object.create(null),new dn().__proto__||(Ue=!1));function hD(e,t,n){this.fn=e,this.context=t,this.once=n||!1;}function ga(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new hD(n,r||e,s),u=Ue?Ue+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function cs(e,t){--e._eventsCount===0?e._events=new dn:delete e._events[t];}function Me(){this._events=new dn,this._eventsCount=0;}Me.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)gD.call(n,r)&&t.push(Ue?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Me.prototype.listeners=function(t){var n=Ue?Ue+t:t,r=this._events[n];if(!r)return [];if(r.fn)return [r.fn];for(var s=0,o=r.length,u=new Array(o);s<o;s++)u[s]=r[s].fn;return u};Me.prototype.listenerCount=function(t){var n=Ue?Ue+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Me.prototype.emit=function(t,n,r,s,o,u){var a=Ue?Ue+t:t;if(!this._events[a])return !1;var l=this._events[a],p=arguments.length,f,m;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,s),!0;case 5:return l.fn.call(l.context,n,r,s,o),!0;case 6:return l.fn.call(l.context,n,r,s,o,u),!0}for(m=1,f=new Array(p-1);m<p;m++)f[m-1]=arguments[m];l.fn.apply(l.context,f);}else {var d=l.length,y;for(m=0;m<d;m++)switch(l[m].once&&this.removeListener(t,l[m].fn,void 0,!0),p){case 1:l[m].fn.call(l[m].context);break;case 2:l[m].fn.call(l[m].context,n);break;case 3:l[m].fn.call(l[m].context,n,r);break;case 4:l[m].fn.call(l[m].context,n,r,s);break;default:if(!f)for(y=1,f=new Array(p-1);y<p;y++)f[y-1]=arguments[y];l[m].fn.apply(l[m].context,f);}}return !0};Me.prototype.on=function(t,n,r){return ga(this,t,n,r,!1)};Me.prototype.once=function(t,n,r){return ga(this,t,n,r,!0)};Me.prototype.removeListener=function(t,n,r,s){var o=Ue?Ue+t:t;if(!this._events[o])return this;if(!n)return cs(this,o),this;var u=this._events[o];if(u.fn)u.fn===n&&(!s||u.once)&&(!r||u.context===r)&&cs(this,o);else {for(var a=0,l=[],p=u.length;a<p;a++)(u[a].fn!==n||s&&!u[a].once||r&&u[a].context!==r)&&l.push(u[a]);l.length?this._events[o]=l.length===1?l[0]:l:cs(this,o);}return this};Me.prototype.removeAllListeners=function(t){var n;return t?(n=Ue?Ue+t:t,this._events[n]&&cs(this,n)):(this._events=new dn,this._eventsCount=0),this};Me.prototype.off=Me.prototype.removeListener;Me.prototype.addListener=Me.prototype.on;Me.prefixed=Ue;Me.EventEmitter=Me;typeof Qi<"u"&&(Qi.exports=Me);});var _a=U(Cs=>{c();Object.defineProperty(Cs,"__esModule",{value:!0});var lo=e=>{let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],n=t?t.length:0;if(n===3)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(n!==6)return [0,0,0];let r=parseInt(t,16);return [r>>16&255,r>>8&255,255&r]},rr=(e,t,n)=>t>e?t:e>n?n:e,SD=(e,t,n)=>{if(t==="")return e;let r=e.indexOf(t);if(r<0)return e;let s=t.length,o=0,u="";for(;~r;)u+=e.slice(o,r)+n,o=r+s,r=e.indexOf(t,o);return u+e.slice(o)},Na={open:"",close:""},M=(e=>{let t=y=>!!u.find(b=>y.test(b)),n=e||(typeof process<"u"?process:{}),{stdout:r,platform:s}=n,o=n.env||{},u=n.argv||[],a="FORCE_COLOR"in o,l=o.FORCE_COLOR,p=l==="true"||parseInt(l)>0,f="NO_COLOR"in o||a&&!p||t(/^-{1,2}(no-color|color=false|color=never)$/),m=a&&p||t(/^-{1,2}(color|color=true|color=always)$/),d=r&&"isTTY"in r&&/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM);return !f&&(m||d||s==="win32"||"CI"in o)})()?(e,t)=>({open:`\x1B[${e}m`,close:`\x1B[${t}m`}):()=>Na,co=(e,t,n)=>M(`38;2;${e};${t};${n}`,39),Ta=(e,t,n)=>M(`48;2;${e};${t};${n}`,49),$D={visible:Na,reset:M(0,0),inverse:M(7,27),hidden:M(8,28),bold:M(1,22),dim:M(2,22),faint:M(2,22),italic:M(3,23),underline:M(4,24),doubleUnderline:M(21,24),strikethrough:M(9,29),strike:M(9,29),frame:M(51,54),encircle:M(52,54),overline:M(53,55),black:M(30,39),red:M(31,39),green:M(32,39),yellow:M(33,39),blue:M(34,39),magenta:M(35,39),cyan:M(36,39),white:M(37,39),grey:M(90,39),gray:M(90,39),blackBright:M(90,39),redBright:M(91,39),greenBright:M(92,39),yellowBright:M(93,39),blueBright:M(94,39),magentaBright:M(95,39),cyanBright:M(96,39),whiteBright:M(97,39),bgBlack:M(40,49),bgRed:M(41,49),bgGreen:M(42,49),bgYellow:M(43,49),bgBlue:M(44,49),bgMagenta:M(45,49),bgCyan:M(46,49),bgWhite:M(47,49),bgBlackBright:M(100,49),bgRedBright:M(101,49),bgGreenBright:M(102,49),bgYellowBright:M(103,49),bgBlueBright:M(104,49),bgMagentaBright:M(105,49),bgCyanBright:M(106,49),bgWhiteBright:M(107,49)},{defineProperty:BD,defineProperties:AD,setPrototypeOf:Ra}=Object,LD=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,TD=/(\r*\n)/g,Pa=function(){let e=t=>t;return e.strip=t=>t.replace(LD,""),e.extend=t=>{for(let n in t){let r=t[n],s=r.open!=null?r:co(...lo(r));zt[n]={get(){let o=Oa(this,s);return BD(this,n,{value:o}),o}};}fo=AD(()=>{},zt),Ra(e,fo);},e.extend($D),e},Oa=({props:e},{open:t,close:n})=>{let r=(u,...a)=>kD(u,a,r.props),s=t,o=n;return e!==void 0&&(s=e.openStack+t,o=n+e.closeStack),Ra(r,fo),r.props={open:t,close:n,openStack:s,closeStack:o,parent:e},r.open=s,r.close=o,r},kD=(e,t,n)=>{if(!e)return "";let{openStack:r,closeStack:s}=n,o=e.raw!=null?String.raw(e,...t):e;if(~o.indexOf("\x1B"))for(;n!==void 0;)o=SD(o,n.close,n.open),n=n.parent;return ~o.indexOf(`
`)&&(o=o.replace(TD,s+"$1"+r)),r+o+s},ka={ansi:e=>(t=>M(`38;5;${t}`,39))(rr(e,0,255)),bgAnsi:e=>(t=>M(`48;5;${t}`,49))(rr(e,0,255)),hex:e=>co(...lo(e)),bgHex:e=>Ta(...lo(e)),rgb:(e,t,n)=>co(rr(e,0,255),rr(t,0,255),rr(n,0,255)),bgRgb:(e,t,n)=>Ta(rr(e,0,255),rr(t,0,255),rr(n,0,255))},zt={},fo;for(let e in ka)zt[e]={get(){return (...t)=>Oa(this,ka[e](...t))}};zt.ansi256=zt.fg=zt.ansi,zt.bgAnsi256=zt.bg=zt.bgAnsi;var ND=new Pa;Cs.Ansis=Pa,Cs.default=ND;});var mo=U((wy,po)=>{c();var ja=_a();po.exports=ja.default;po.exports.Ansis=ja.Ansis;});var al=U((_b,Fo)=>{c();var ir={};typeof Fo>"u"?window.eastasianwidth=ir:Fo.exports=ir;ir.eastAsianWidth=function(e){var t=e.charCodeAt(0),n=e.length==2?e.charCodeAt(1):0,r=t;return 55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t&=1023,n&=1023,r=t<<10|n,r+=65536),r==12288||65281<=r&&r<=65376||65504<=r&&r<=65510?"F":r==8361||65377<=r&&r<=65470||65474<=r&&r<=65479||65482<=r&&r<=65487||65490<=r&&r<=65495||65498<=r&&r<=65500||65512<=r&&r<=65518?"H":4352<=r&&r<=4447||4515<=r&&r<=4519||4602<=r&&r<=4607||9001<=r&&r<=9002||11904<=r&&r<=11929||11931<=r&&r<=12019||12032<=r&&r<=12245||12272<=r&&r<=12283||12289<=r&&r<=12350||12353<=r&&r<=12438||12441<=r&&r<=12543||12549<=r&&r<=12589||12593<=r&&r<=12686||12688<=r&&r<=12730||12736<=r&&r<=12771||12784<=r&&r<=12830||12832<=r&&r<=12871||12880<=r&&r<=13054||13056<=r&&r<=19903||19968<=r&&r<=42124||42128<=r&&r<=42182||43360<=r&&r<=43388||44032<=r&&r<=55203||55216<=r&&r<=55238||55243<=r&&r<=55291||63744<=r&&r<=64255||65040<=r&&r<=65049||65072<=r&&r<=65106||65108<=r&&r<=65126||65128<=r&&r<=65131||110592<=r&&r<=110593||127488<=r&&r<=127490||127504<=r&&r<=127546||127552<=r&&r<=127560||127568<=r&&r<=127569||131072<=r&&r<=194367||177984<=r&&r<=196605||196608<=r&&r<=262141?"W":32<=r&&r<=126||162<=r&&r<=163||165<=r&&r<=166||r==172||r==175||10214<=r&&r<=10221||10629<=r&&r<=10630?"Na":r==161||r==164||167<=r&&r<=168||r==170||173<=r&&r<=174||176<=r&&r<=180||182<=r&&r<=186||188<=r&&r<=191||r==198||r==208||215<=r&&r<=216||222<=r&&r<=225||r==230||232<=r&&r<=234||236<=r&&r<=237||r==240||242<=r&&r<=243||247<=r&&r<=250||r==252||r==254||r==257||r==273||r==275||r==283||294<=r&&r<=295||r==299||305<=r&&r<=307||r==312||319<=r&&r<=322||r==324||328<=r&&r<=331||r==333||338<=r&&r<=339||358<=r&&r<=359||r==363||r==462||r==464||r==466||r==468||r==470||r==472||r==474||r==476||r==593||r==609||r==708||r==711||713<=r&&r<=715||r==717||r==720||728<=r&&r<=731||r==733||r==735||768<=r&&r<=879||913<=r&&r<=929||931<=r&&r<=937||945<=r&&r<=961||963<=r&&r<=969||r==1025||1040<=r&&r<=1103||r==1105||r==8208||8211<=r&&r<=8214||8216<=r&&r<=8217||8220<=r&&r<=8221||8224<=r&&r<=8226||8228<=r&&r<=8231||r==8240||8242<=r&&r<=8243||r==8245||r==8251||r==8254||r==8308||r==8319||8321<=r&&r<=8324||r==8364||r==8451||r==8453||r==8457||r==8467||r==8470||8481<=r&&r<=8482||r==8486||r==8491||8531<=r&&r<=8532||8539<=r&&r<=8542||8544<=r&&r<=8555||8560<=r&&r<=8569||r==8585||8592<=r&&r<=8601||8632<=r&&r<=8633||r==8658||r==8660||r==8679||r==8704||8706<=r&&r<=8707||8711<=r&&r<=8712||r==8715||r==8719||r==8721||r==8725||r==8730||8733<=r&&r<=8736||r==8739||r==8741||8743<=r&&r<=8748||r==8750||8756<=r&&r<=8759||8764<=r&&r<=8765||r==8776||r==8780||r==8786||8800<=r&&r<=8801||8804<=r&&r<=8807||8810<=r&&r<=8811||8814<=r&&r<=8815||8834<=r&&r<=8835||8838<=r&&r<=8839||r==8853||r==8857||r==8869||r==8895||r==8978||9312<=r&&r<=9449||9451<=r&&r<=9547||9552<=r&&r<=9587||9600<=r&&r<=9615||9618<=r&&r<=9621||9632<=r&&r<=9633||9635<=r&&r<=9641||9650<=r&&r<=9651||9654<=r&&r<=9655||9660<=r&&r<=9661||9664<=r&&r<=9665||9670<=r&&r<=9672||r==9675||9678<=r&&r<=9681||9698<=r&&r<=9701||r==9711||9733<=r&&r<=9734||r==9737||9742<=r&&r<=9743||9748<=r&&r<=9749||r==9756||r==9758||r==9792||r==9794||9824<=r&&r<=9825||9827<=r&&r<=9829||9831<=r&&r<=9834||9836<=r&&r<=9837||r==9839||9886<=r&&r<=9887||9918<=r&&r<=9919||9924<=r&&r<=9933||9935<=r&&r<=9953||r==9955||9960<=r&&r<=9983||r==10045||r==10071||10102<=r&&r<=10111||11093<=r&&r<=11097||12872<=r&&r<=12879||57344<=r&&r<=63743||65024<=r&&r<=65039||r==65533||127232<=r&&r<=127242||127248<=r&&r<=127277||127280<=r&&r<=127337||127344<=r&&r<=127386||917760<=r&&r<=917999||983040<=r&&r<=1048573||1048576<=r&&r<=1114109?"A":"N"};ir.characterLength=function(e){var t=this.eastAsianWidth(e);return t=="F"||t=="W"||t=="A"?2:1};function ul(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}ir.length=function(e){for(var t=ul(e),n=0,r=0;r<t.length;r++)n=n+this.characterLength(t[r]);return n};ir.slice=function(e,t,n){textLen=ir.length(e),t=t||0,n=n||1,t<0&&(t=textLen+t),n<0&&(n=textLen+n);for(var r="",s=0,o=ul(e),u=0;u<o.length;u++){var a=o[u],l=ir.length(a);if(s>=t-(l==2?1:0))if(s+l<=n)r+=a;else break;s+=l;}return r};});var cl=U((Ib,ll)=>{c();ll.exports=function(){return /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};});var Ll=U((vx,No)=>{c();var Al=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};No.exports=Al;No.exports.default=Al;});var kl=U((Sx,js)=>{c();var id=Ll(),_s=new WeakMap,Tl=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,s=e.displayName||e.name||"<anonymous>",o=function(...u){if(_s.set(o,++r),r===1)n=e.apply(this,u),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return n};return id(o,e),_s.set(o,r),o};js.exports=Tl;js.exports.default=Tl;js.exports.callCount=e=>{if(!_s.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return _s.get(e)};});var Nl=U((Bx,Is)=>{c();Is.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Is.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Is.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");});var jl=U((Lx,Jr)=>{c();var Ce=global.process,Ar=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Ar(Ce)?(Rl=lt("assert"),Ur=Nl(),Pl=/^win/i.test(Ce.platform),Pn=lt("events"),typeof Pn!="function"&&(Pn=Pn.EventEmitter),Ce.__signal_exit_emitter__?_e=Ce.__signal_exit_emitter__:(_e=Ce.__signal_exit_emitter__=new Pn,_e.count=0,_e.emitted={}),_e.infinite||(_e.setMaxListeners(1/0),_e.infinite=!0),Jr.exports=function(e,t){if(!Ar(global.process))return function(){};Rl.equal(typeof e,"function","a callback must be provided for exit handler"),Vr===!1&&Ro();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){_e.removeListener(n,e),_e.listeners("exit").length===0&&_e.listeners("afterexit").length===0&&Ms();};return _e.on(n,e),r},Ms=function(){!Vr||!Ar(global.process)||(Vr=!1,Ur.forEach(function(t){try{Ce.removeListener(t,Ws[t]);}catch{}}),Ce.emit=qs,Ce.reallyExit=Po,_e.count-=1);},Jr.exports.unload=Ms,Lr=function(t,n,r){_e.emitted[t]||(_e.emitted[t]=!0,_e.emit(t,n,r));},Ws={},Ur.forEach(function(e){Ws[e]=function(){if(Ar(global.process)){var n=Ce.listeners(e);n.length===_e.count&&(Ms(),Lr("exit",null,e),Lr("afterexit",null,e),Pl&&e==="SIGHUP"&&(e="SIGINT"),Ce.kill(Ce.pid,e));}};}),Jr.exports.signals=function(){return Ur},Vr=!1,Ro=function(){Vr||!Ar(global.process)||(Vr=!0,_e.count+=1,Ur=Ur.filter(function(t){try{return Ce.on(t,Ws[t]),!0}catch{return !1}}),Ce.emit=_l,Ce.reallyExit=Ol);},Jr.exports.load=Ro,Po=Ce.reallyExit,Ol=function(t){Ar(global.process)&&(Ce.exitCode=t||0,Lr("exit",Ce.exitCode,null),Lr("afterexit",Ce.exitCode,null),Po.call(Ce,Ce.exitCode));},qs=Ce.emit,_l=function(t,n){if(t==="exit"&&Ar(global.process)){n!==void 0&&(Ce.exitCode=n);var r=qs.apply(this,arguments);return Lr("exit",Ce.exitCode,null),Lr("afterexit",Ce.exitCode,null),r}else return qs.apply(this,arguments)}):Jr.exports=function(){return function(){}};var Rl,Ur,Pl,Pn,_e,Ms,Lr,Ws,Vr,Ro,Po,Ol,qs,_l;});var Bc=U((pC,$c)=>{c();$c.exports=function(t){return t?t instanceof Array||Array.isArray(t)||t.length>=0&&t.splice instanceof Function:!1};});var Lc=U((DC,Ac)=>{c();var Pd=lt("util"),Od=Bc(),ou=function(t,n){(!t||t.constructor!==String)&&(n=t||{},t=Error.name);var r=function s(o){if(!this)return new s(o);o=o instanceof Error?o.message:o||this.message,Error.call(this,o),Error.captureStackTrace(this,r),this.name=t,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var f=o.split(/\r?\n/g);for(var m in n)if(n.hasOwnProperty(m)){var d=n[m];"message"in d&&(f=d.message(this[m],f)||f,Od(f)||(f=[f]));}return f.join(`
`)},set:function(f){o=f;}});var u=null,a=Object.getOwnPropertyDescriptor(this,"stack"),l=a.get,p=a.value;delete a.value,delete a.writable,a.set=function(f){u=f;},a.get=function(){var f=(u||(l?l.call(this):p)).split(/\r?\n+/g);u||(f[0]=this.name+": "+this.message);var m=1;for(var d in n)if(n.hasOwnProperty(d)){var y=n[d];if("line"in y){var b=y.line(this[d]);b&&f.splice(m++,0,"    "+b);}"stack"in y&&y.stack(this[d],f);}return f.join(`
`)},Object.defineProperty(this,"stack",a);};return Object.setPrototypeOf?(Object.setPrototypeOf(r.prototype,Error.prototype),Object.setPrototypeOf(r,Error)):Pd.inherits(r,Error),r};ou.append=function(e,t){return {message:function(n,r){return n=n||t,n&&(r[0]+=" "+e.replace("%s",n.toString())),r}}};ou.line=function(e,t){return {line:function(n){return n=n||t,n?e.replace("%s",n.toString()):null}}};Ac.exports=ou;});var Nc=U((gC,kc)=>{c();var _d=e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return "0x"+(t.length%2?"0":"")+t},jd=(e,t,n)=>{if(!t)return {message:e.message+" while parsing empty string",position:0};let r=e.message.match(/^Unexpected token (.) .*position\s+(\d+)/i),s=r?+r[2]:e.message.match(/^Unexpected end of JSON.*/i)?t.length-1:null,o=r?e.message.replace(/^Unexpected token ./,`Unexpected token ${JSON.stringify(r[1])} (${_d(r[1])})`):e.message;if(s!=null){let u=s<=n?0:s-n,a=s+n>=t.length?t.length:s+n,l=(u===0?"":"...")+t.slice(u,a)+(a===t.length?"":"...");return {message:o+` while parsing ${t===l?"":"near "}${JSON.stringify(l)}`,position:s}}else return {message:o+` while parsing '${t.slice(0,n*2)}'`,position:0}},si=class extends SyntaxError{constructor(t,n,r,s){r=r||20;let o=jd(t,n,r);super(o.message),Object.assign(this,o),this.code="EJSONPARSE",this.systemError=t,Error.captureStackTrace(this,s||this.constructor);}get name(){return this.constructor.name}set name(t){}get[Symbol.toStringTag](){return this.constructor.name}},Id=Symbol.for("indent"),Md=Symbol.for("newline"),Wd=/^\s*[{[]((?:\r?\n)+)([\s\t]*)/,qd=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,ii=(e,t,n)=>{let r=Tc(e);n=n||20;try{let[,s=`
`,o="  "]=r.match(qd)||r.match(Wd)||[null,"",""],u=JSON.parse(r,t);return u&&typeof u=="object"&&(u[Md]=s,u[Id]=o),u}catch(s){if(typeof e!="string"&&!Buffer.isBuffer(e)){let o=Array.isArray(e)&&e.length===0;throw Object.assign(new TypeError(`Cannot parse ${o?"an empty array":String(e)}`),{code:"EJSONPARSE",systemError:s})}throw new si(s,r,n,ii)}},Tc=e=>String(e).replace(/^\uFEFF/,"");kc.exports=ii;ii.JSONParseError=si;ii.noExceptions=(e,t)=>{try{return JSON.parse(Tc(e),t)}catch{}};});var Rc=U(oi=>{c();Object.defineProperty(oi,"__esModule",{value:!0});oi.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;oi.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!!(e[3]||e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t};});var Ic=U(Jn=>{c();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.isIdentifierChar=jc;Jn.isIdentifierName=Vd;Jn.isIdentifierStart=_c;var au="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Pc="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",zd=new RegExp("["+au+"]"),Gd=new RegExp("["+au+Pc+"]");au=Pc=null;var Oc=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Ud=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function uu(e,t){let n=65536;for(let r=0,s=t.length;r<s;r+=2){if(n+=t[r],n>e)return !1;if(n+=t[r+1],n>=e)return !0}return !1}function _c(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&zd.test(String.fromCharCode(e)):uu(e,Oc)}function jc(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&Gd.test(String.fromCharCode(e)):uu(e,Oc)||uu(e,Ud)}function Vd(e){let t=!0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if((r&64512)===55296&&n+1<e.length){let s=e.charCodeAt(++n);(s&64512)===56320&&(r=65536+((r&1023)<<10)+(s&1023));}if(t){if(t=!1,!_c(r))return !1}else if(!jc(r))return !1}return !t}});var zc=U(Tr=>{c();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isKeyword=Kd;Tr.isReservedWord=Mc;Tr.isStrictBindOnlyReservedWord=qc;Tr.isStrictBindReservedWord=Qd;Tr.isStrictReservedWord=Wc;var lu={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Jd=new Set(lu.keyword),Hd=new Set(lu.strict),Yd=new Set(lu.strictBind);function Mc(e,t){return t&&e==="await"||e==="enum"}function Wc(e,t){return Mc(e,t)||Hd.has(e)}function qc(e){return Yd.has(e)}function Qd(e,t){return Wc(e,t)||qc(e)}function Kd(e){return Jd.has(e)}});var Gc=U(Mt=>{c();Object.defineProperty(Mt,"__esModule",{value:!0});Object.defineProperty(Mt,"isIdentifierChar",{enumerable:!0,get:function(){return cu.isIdentifierChar}});Object.defineProperty(Mt,"isIdentifierName",{enumerable:!0,get:function(){return cu.isIdentifierName}});Object.defineProperty(Mt,"isIdentifierStart",{enumerable:!0,get:function(){return cu.isIdentifierStart}});Object.defineProperty(Mt,"isKeyword",{enumerable:!0,get:function(){return Hn.isKeyword}});Object.defineProperty(Mt,"isReservedWord",{enumerable:!0,get:function(){return Hn.isReservedWord}});Object.defineProperty(Mt,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return Hn.isStrictBindOnlyReservedWord}});Object.defineProperty(Mt,"isStrictBindReservedWord",{enumerable:!0,get:function(){return Hn.isStrictBindReservedWord}});Object.defineProperty(Mt,"isStrictReservedWord",{enumerable:!0,get:function(){return Hn.isStrictReservedWord}});var cu=Ic(),Hn=zc();});var Vc=U((SC,Uc)=>{c();var Xd=/[|\\{}()[\]^$+*?.]/g;Uc.exports=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(Xd,"\\$&")};});var Hc=U((BC,Jc)=>{c();Jc.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};});var fu=U((LC,Xc)=>{c();var kr=Hc(),Kc={};for(ui in kr)kr.hasOwnProperty(ui)&&(Kc[kr[ui]]=ui);var ui,P=Xc.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(He in P)if(P.hasOwnProperty(He)){if(!("channels"in P[He]))throw new Error("missing channels property: "+He);if(!("labels"in P[He]))throw new Error("missing channel labels property: "+He);if(P[He].labels.length!==P[He].channels)throw new Error("channel and label counts mismatch: "+He);Yc=P[He].channels,Qc=P[He].labels,delete P[He].channels,delete P[He].labels,Object.defineProperty(P[He],"channels",{value:Yc}),Object.defineProperty(P[He],"labels",{value:Qc});}var Yc,Qc,He;P.rgb.hsl=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(t,n,r),o=Math.max(t,n,r),u=o-s,a,l,p;return o===s?a=0:t===o?a=(n-r)/u:n===o?a=2+(r-t)/u:r===o&&(a=4+(t-n)/u),a=Math.min(a*60,360),a<0&&(a+=360),p=(s+o)/2,o===s?l=0:p<=.5?l=u/(o+s):l=u/(2-o-s),[a,l*100,p*100]};P.rgb.hsv=function(e){var t,n,r,s,o,u=e[0]/255,a=e[1]/255,l=e[2]/255,p=Math.max(u,a,l),f=p-Math.min(u,a,l),m=function(d){return (p-d)/6/f+1/2};return f===0?s=o=0:(o=f/p,t=m(u),n=m(a),r=m(l),u===p?s=r-n:a===p?s=1/3+t-r:l===p&&(s=2/3+n-t),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,p*100]};P.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2],s=P.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[s,o*100,r*100]};P.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,s,o,u,a;return a=Math.min(1-t,1-n,1-r),s=(1-t-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,u=(1-r-a)/(1-a)||0,[s*100,o*100,u*100,a*100]};function Zd(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}P.rgb.keyword=function(e){var t=Kc[e];if(t)return t;var n=1/0,r;for(var s in kr)if(kr.hasOwnProperty(s)){var o=kr[s],u=Zd(e,o);u<n&&(n=u,r=s);}return r};P.keyword.rgb=function(e){return kr[e]};P.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.4124+n*.3576+r*.1805,o=t*.2126+n*.7152+r*.0722,u=t*.0193+n*.1192+r*.9505;return [s*100,o*100,u*100]};P.rgb.lab=function(e){var t=P.rgb.xyz(e),n=t[0],r=t[1],s=t[2],o,u,a;return n/=95.047,r/=100,s/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=116*r-16,u=500*(n-r),a=200*(r-s),[o,u,a]};P.hsl.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,s,o,u,a,l;if(n===0)return l=r*255,[l,l,l];r<.5?o=r*(1+n):o=r+n-r*n,s=2*r-o,a=[0,0,0];for(var p=0;p<3;p++)u=t+1/3*-(p-1),u<0&&u++,u>1&&u--,6*u<1?l=s+(o-s)*6*u:2*u<1?l=o:3*u<2?l=s+(o-s)*(2/3-u)*6:l=s,a[p]=l*255;return a};P.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,s=n,o=Math.max(r,.01),u,a;return r*=2,n*=r<=1?r:2-r,s*=o<=1?o:2-o,a=(r+n)/2,u=r===0?2*s/(o+s):2*n/(r+n),[t,u*100,a*100]};P.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,s=Math.floor(t)%6,o=t-Math.floor(t),u=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,s){case 0:return [r,l,u];case 1:return [a,r,u];case 2:return [u,r,l];case 3:return [u,a,r];case 4:return [l,u,r];case 5:return [r,u,a]}};P.hsv.hsl=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,s=Math.max(r,.01),o,u,a;return a=(2-n)*r,o=(2-n)*s,u=n*s,u/=o<=1?o:2-o,u=u||0,a/=2,[t,u*100,a*100]};P.hwb.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,s=n+r,o,u,a,l;s>1&&(n/=s,r/=s),o=Math.floor(6*t),u=1-r,a=6*t-o,o&1&&(a=1-a),l=n+a*(u-n);var p,f,m;switch(o){default:case 6:case 0:p=u,f=l,m=n;break;case 1:p=l,f=u,m=n;break;case 2:p=n,f=u,m=l;break;case 3:p=n,f=l,m=u;break;case 4:p=l,f=n,m=u;break;case 5:p=u,f=n,m=l;break}return [p*255,f*255,m*255]};P.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,s=e[3]/100,o,u,a;return o=1-Math.min(1,t*(1-s)+s),u=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),[o*255,u*255,a*255]};P.xyz.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,s,o,u;return s=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,u=t*.0557+n*-.204+r*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),u=Math.min(Math.max(0,u),1),[s*255,o*255,u*255]};P.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2],s,o,u;return t/=95.047,n/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=116*n-16,o=500*(t-n),u=200*(n-r),[s,o,u]};P.lab.xyz=function(e){var t=e[0],n=e[1],r=e[2],s,o,u;o=(t+16)/116,s=n/500+o,u=o-r/200;var a=Math.pow(o,3),l=Math.pow(s,3),p=Math.pow(u,3);return o=a>.008856?a:(o-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,u=p>.008856?p:(u-16/116)/7.787,s*=95.047,o*=100,u*=108.883,[s,o,u]};P.lab.lch=function(e){var t=e[0],n=e[1],r=e[2],s,o,u;return s=Math.atan2(r,n),o=s*360/2/Math.PI,o<0&&(o+=360),u=Math.sqrt(n*n+r*r),[t,u,o]};P.lch.lab=function(e){var t=e[0],n=e[1],r=e[2],s,o,u;return u=r/360*2*Math.PI,s=n*Math.cos(u),o=n*Math.sin(u),[t,s,o]};P.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],s=1 in arguments?arguments[1]:P.rgb.hsv(e)[2];if(s=Math.round(s/50),s===0)return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};P.hsv.ansi16=function(e){return P.rgb.ansi16(P.hsv.rgb(e),e[2])};P.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var s=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return s};P.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var n=(~~(e>50)+1)*.5,r=(t&1)*n*255,s=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return [r,s,o]};P.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return [t,t,t]}e-=16;var n,r=Math.floor(e/36)/5*255,s=Math.floor((n=e%36)/6)/5*255,o=n%6/5*255;return [r,s,o]};P.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),n=t.toString(16).toUpperCase();return "000000".substring(n.length)+n};P.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return [0,0,0];var n=t[0];t[0].length===3&&(n=n.split("").map(function(a){return a+a}).join(""));var r=parseInt(n,16),s=r>>16&255,o=r>>8&255,u=r&255;return [s,o,u]};P.rgb.hcg=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),u=s-o,a,l;return u<1?a=o/(1-u):a=0,u<=0?l=0:s===t?l=(n-r)/u%6:s===n?l=2+(r-t)/u:l=4+(t-n)/u+4,l/=6,l%=1,[l*360,u*100,a*100]};P.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,s=0;return n<.5?r=2*t*n:r=2*t*(1-n),r<1&&(s=(n-.5*r)/(1-r)),[e[0],r*100,s*100]};P.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],r*100,s*100]};P.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return [r*255,r*255,r*255];var s=[0,0,0],o=t%1*6,u=o%1,a=1-u,l=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=u,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=u;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=u,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a;}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};P.hcg.hsv=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t),s=0;return r>0&&(s=t/r),[e[0],s*100,r*100]};P.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100,r=n*(1-t)+.5*t,s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[e[0],s*100,r*100]};P.hcg.hwb=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return [e[0],(r-t)*100,(1-r)*100]};P.hwb.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1-n,s=r-t,o=0;return s<1&&(o=(r-s)/(1-s)),[e[0],s*100,o*100]};P.apple.rgb=function(e){return [e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};P.rgb.apple=function(e){return [e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};P.gray.rgb=function(e){return [e[0]/100*255,e[0]/100*255,e[0]/100*255]};P.gray.hsl=P.gray.hsv=function(e){return [0,0,e[0]]};P.gray.hwb=function(e){return [0,100,e[0]]};P.gray.cmyk=function(e){return [0,0,0,e[0]]};P.gray.lab=function(e){return [e[0],0,0]};P.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,n=(t<<16)+(t<<8)+t,r=n.toString(16).toUpperCase();return "000000".substring(r.length)+r};P.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return [t/255*100]};});var ef=U((kC,Zc)=>{c();var ai=fu();function e0(){for(var e={},t=Object.keys(ai),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function t0(e){var t=e0(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),s=Object.keys(ai[r]),o=s.length,u=0;u<o;u++){var a=s[u],l=t[a];l.distance===-1&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(a));}return t}function r0(e,t){return function(n){return t(e(n))}}function n0(e,t){for(var n=[t[e].parent,e],r=ai[t[e].parent][e],s=t[e].parent;t[s].parent;)n.unshift(t[s].parent),r=r0(ai[t[s].parent][s],r),s=t[s].parent;return r.conversion=n,r}Zc.exports=function(e){for(var t=t0(e),n={},r=Object.keys(t),s=r.length,o=0;o<s;o++){var u=r[o],a=t[u];a.parent!==null&&(n[u]=n0(u,t));}return n};});var rf=U((RC,tf)=>{c();var pu=fu(),s0=ef(),Xr={},i0=Object.keys(pu);function o0(e){var t=function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),e(n))};return "conversion"in e&&(t.conversion=e.conversion),t}function u0(e){var t=function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var r=e(n);if(typeof r=="object")for(var s=r.length,o=0;o<s;o++)r[o]=Math.round(r[o]);return r};return "conversion"in e&&(t.conversion=e.conversion),t}i0.forEach(function(e){Xr[e]={},Object.defineProperty(Xr[e],"channels",{value:pu[e].channels}),Object.defineProperty(Xr[e],"labels",{value:pu[e].labels});var t=s0(e),n=Object.keys(t);n.forEach(function(r){var s=t[r];Xr[e][r]=u0(s),Xr[e][r].raw=o0(s);});});tf.exports=Xr;});var sf=U((OC,nf)=>{c();var Zr=rf(),li=(e,t)=>function(){return `\x1B[${e.apply(Zr,arguments)+t}m`},ci=(e,t)=>function(){let n=e.apply(Zr,arguments);return `\x1B[${38+t};5;${n}m`},fi=(e,t)=>function(){let n=e.apply(Zr,arguments);return `\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`};function a0(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.grey=t.color.gray;for(let s of Object.keys(t)){let o=t[s];for(let u of Object.keys(o)){let a=o[u];t[u]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},o[u]=t[u],e.set(a[0],a[1]);}Object.defineProperty(t,s,{value:o,enumerable:!1}),Object.defineProperty(t,"codes",{value:e,enumerable:!1});}let n=s=>s,r=(s,o,u)=>[s,o,u];t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi={ansi:li(n,0)},t.color.ansi256={ansi256:ci(n,0)},t.color.ansi16m={rgb:fi(r,0)},t.bgColor.ansi={ansi:li(n,10)},t.bgColor.ansi256={ansi256:ci(n,10)},t.bgColor.ansi16m={rgb:fi(r,10)};for(let s of Object.keys(Zr)){if(typeof Zr[s]!="object")continue;let o=Zr[s];s==="ansi16"&&(s="ansi"),"ansi16"in o&&(t.color.ansi[s]=li(o.ansi16,0),t.bgColor.ansi[s]=li(o.ansi16,10)),"ansi256"in o&&(t.color.ansi256[s]=ci(o.ansi256,0),t.bgColor.ansi256[s]=ci(o.ansi256,10)),"rgb"in o&&(t.color.ansi16m[s]=fi(o.rgb,0),t.bgColor.ansi16m[s]=fi(o.rgb,10));}return t}Object.defineProperty(nf,"exports",{enumerable:!0,get:a0});});var uf=U((jC,of)=>{c();of.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return r!==-1&&(s===-1?!0:r<s)};});var lf=U((MC,af)=>{c();var l0=lt("os"),St=uf(),Ge=process.env,en;St("no-color")||St("no-colors")||St("color=false")?en=!1:(St("color")||St("colors")||St("color=true")||St("color=always"))&&(en=!0);"FORCE_COLOR"in Ge&&(en=Ge.FORCE_COLOR.length===0||parseInt(Ge.FORCE_COLOR,10)!==0);function c0(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function f0(e){if(en===!1)return 0;if(St("color=16m")||St("color=full")||St("color=truecolor"))return 3;if(St("color=256"))return 2;if(e&&!e.isTTY&&en!==!0)return 0;let t=en?1:0;if(process.platform==="win32"){let n=l0.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ge)return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Ge)||Ge.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Ge)return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ge.TEAMCITY_VERSION)?1:0;if(Ge.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ge){let n=parseInt((Ge.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ge.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return /-256(color)?$/i.test(Ge.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ge.TERM)||"COLORTERM"in Ge?1:(Ge.TERM==="dumb",t)}function mu(e){let t=f0(e);return c0(t)}af.exports={supportsColor:mu,stdout:mu(process.stdout),stderr:mu(process.stderr)};});var Df=U((qC,mf)=>{c();var p0=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,cf=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,m0=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,D0=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,d0=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function pf(e){return e[0]==="u"&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):d0.get(e)||e}function g0(e,t){let n=[],r=t.trim().split(/\s*,\s*/g),s;for(let o of r)if(!isNaN(o))n.push(Number(o));else if(s=o.match(m0))n.push(s[2].replace(D0,(u,a,l)=>a?pf(a):l));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${e}')`);return n}function h0(e){cf.lastIndex=0;let t=[],n;for(;(n=cf.exec(e))!==null;){let r=n[1];if(n[2]){let s=g0(r,n[2]);t.push([r].concat(s));}else t.push([r]);}return t}function ff(e,t){let n={};for(let s of t)for(let o of s.styles)n[o[0]]=s.inverse?null:o.slice(1);let r=e;for(let s of Object.keys(n))if(Array.isArray(n[s])){if(!(s in r))throw new Error(`Unknown Chalk style: ${s}`);n[s].length>0?r=r[s].apply(r,n[s]):r=r[s];}return r}mf.exports=(e,t)=>{let n=[],r=[],s=[];if(t.replace(p0,(o,u,a,l,p,f)=>{if(u)s.push(pf(u));else if(l){let m=s.join("");s=[],r.push(n.length===0?m:ff(e,n)(m)),n.push({inverse:a,styles:h0(l)});}else if(p){if(n.length===0)throw new Error("Found extraneous } in Chalk template literal");r.push(ff(e,n)(s.join(""))),s=[],n.pop();}else s.push(f);}),r.push(s.join("")),n.length>0){let o=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return r.join("")};});var gu=U((GC,Qn)=>{c();var du=Vc(),Re=sf(),Du=lf().stdout,y0=Df(),gf=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),hf=["ansi","ansi","ansi256","ansi16m"],yf=new Set(["gray"]),tn=Object.create(null);function df(e,t){t=t||{};let n=Du?Du.level:0;e.level=t.level===void 0?n:t.level,e.enabled="enabled"in t?t.enabled:e.level>0;}function Yn(e){if(!this||!(this instanceof Yn)||this.template){let t={};return df(t,e),t.template=function(){let n=[].slice.call(arguments);return F0.apply(null,[t.template].concat(n))},Object.setPrototypeOf(t,Yn.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=Yn,t.template}df(this,e);}gf&&(Re.blue.open="\x1B[94m");for(let e of Object.keys(Re))Re[e].closeRe=new RegExp(du(Re[e].close),"g"),tn[e]={get(){let t=Re[e];return pi.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}};tn.visible={get(){return pi.call(this,this._styles||[],!0,"visible")}};Re.color.closeRe=new RegExp(du(Re.color.close),"g");for(let e of Object.keys(Re.color.ansi))yf.has(e)||(tn[e]={get(){let t=this.level;return function(){let r={open:Re.color[hf[t]][e].apply(null,arguments),close:Re.color.close,closeRe:Re.color.closeRe};return pi.call(this,this._styles?this._styles.concat(r):[r],this._empty,e)}}});Re.bgColor.closeRe=new RegExp(du(Re.bgColor.close),"g");for(let e of Object.keys(Re.bgColor.ansi)){if(yf.has(e))continue;let t="bg"+e[0].toUpperCase()+e.slice(1);tn[t]={get(){let n=this.level;return function(){let s={open:Re.bgColor[hf[n]][e].apply(null,arguments),close:Re.bgColor.close,closeRe:Re.bgColor.closeRe};return pi.call(this,this._styles?this._styles.concat(s):[s],this._empty,e)}}};}var b0=Object.defineProperties(()=>{},tn);function pi(e,t,n){let r=function(){return x0.apply(r,arguments)};r._styles=e,r._empty=t;let s=this;return Object.defineProperty(r,"level",{enumerable:!0,get(){return s.level},set(o){s.level=o;}}),Object.defineProperty(r,"enabled",{enumerable:!0,get(){return s.enabled},set(o){s.enabled=o;}}),r.hasGrey=this.hasGrey||n==="gray"||n==="grey",r.__proto__=b0,r}function x0(){let e=arguments,t=e.length,n=String(arguments[0]);if(t===0)return "";if(t>1)for(let s=1;s<t;s++)n+=" "+e[s];if(!this.enabled||this.level<=0||!n)return this._empty?"":n;let r=Re.dim.open;gf&&this.hasGrey&&(Re.dim.open="");for(let s of this._styles.slice().reverse())n=s.open+n.replace(s.closeRe,s.open)+s.close,n=n.replace(/\r?\n/g,`${s.close}$&${s.open}`);return Re.dim.open=r,n}function F0(e,t){if(!Array.isArray(t))return [].slice.call(arguments,1).join(" ");let n=[].slice.call(arguments,2),r=[t.raw[0]];for(let s=1;s<t.length;s++)r.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&")),r.push(String(t.raw[s]));return y0(e,r.join(""))}Object.defineProperties(Yn.prototype,tn);Qn.exports=Yn();Qn.exports.supportsColor=Du;Qn.exports.default=Qn.exports;});var Ef=U(Kn=>{c();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=B0;Kn.shouldHighlight=Cf;var bf=Rc(),xf=Gc(),yu=w0(gu(),!0);function Ff(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return (Ff=function(r){return r?n:t})(e)}function w0(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return {default:e};var n=Ff(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var u=s?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o];}return r.default=e,n&&n.set(e,r),r}var C0=new Set(["as","async","from","get","of","set"]);function v0(e){return {keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.grey,invalid:e.white.bgRed.bold}}var E0=/\r\n|[\n\r\u2028\u2029]/,S0=/^[()[\]{}]$/,wf;{let e=/^[a-z][\w-]*$/i,t=function(n,r,s){if(n.type==="name"){if((0, xf.isKeyword)(n.value)||(0, xf.isStrictReservedWord)(n.value,!0)||C0.has(n.value))return "keyword";if(e.test(n.value)&&(s[r-1]==="<"||s.slice(r-2,r)=="</"))return "jsxIdentifier";if(n.value[0]!==n.value[0].toLowerCase())return "capitalized"}return n.type==="punctuator"&&S0.test(n.value)?"bracket":n.type==="invalid"&&(n.value==="@"||n.value==="#")?"punctuator":n.type};wf=function*(n){let r;for(;r=bf.default.exec(n);){let s=bf.matchToToken(r);yield {type:t(s,r.index,n),value:s.value};}};}function $0(e,t){let n="";for(let{type:r,value:s}of wf(t)){let o=e[r];o?n+=s.split(E0).map(u=>o(u)).join(`
`):n+=s;}return n}function Cf(e){return yu.default.level>0||e.forceColor}var hu;function vf(e){if(e){return (hu)!=null||(hu=new yu.default.constructor({enabled:!0,level:1})),hu}return yu.default}Kn.getChalk=e=>vf(e.forceColor);function B0(e,t={}){if(e!==""&&Cf(t)){let n=v0(vf(t.forceColor));return $0(n,e)}else return e}});var kf=U(mi=>{c();Object.defineProperty(mi,"__esModule",{value:!0});mi.codeFrameColumns=Tf;mi.default=N0;var Sf=Ef(),$f=A0(gu(),!0);function Lf(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return (Lf=function(r){return r?n:t})(e)}function A0(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return {default:e};var n=Lf(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var u=s?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o];}return r.default=e,n&&n.set(e,r),r}var bu;function L0(e){if(e){return (bu)!=null||(bu=new $f.default.constructor({enabled:!0,level:1})),bu}return $f.default}var Bf=!1;function T0(e){return {gutter:e.grey,marker:e.red.bold,message:e.red.bold}}var Af=/\r\n|[\n\r\u2028\u2029]/;function k0(e,t,n){let r=Object.assign({column:0,line:-1},e.start),s=Object.assign({},r,e.end),{linesAbove:o=2,linesBelow:u=3}=n||{},a=r.line,l=r.column,p=s.line,f=s.column,m=Math.max(a-(o+1),0),d=Math.min(t.length,p+u);a===-1&&(m=0),p===-1&&(d=t.length);let y=p-a,b={};if(y)for(let E=0;E<=y;E++){let q=E+a;if(!l)b[q]=!0;else if(E===0){let z=t[q-1].length;b[q]=[l,z-l+1];}else if(E===y)b[q]=[0,f];else {let z=t[q-E].length;b[q]=[0,z];}}else l===f?l?b[a]=[l,0]:b[a]=!0:b[a]=[l,f-l];return {start:m,end:d,markerLines:b}}function Tf(e,t,n={}){let r=(n.highlightCode||n.forceColor)&&(0, Sf.shouldHighlight)(n),s=L0(n.forceColor),o=T0(s),u=(E,q)=>r?E(q):q,a=e.split(Af),{start:l,end:p,markerLines:f}=k0(t,a,n),m=t.start&&typeof t.start.column=="number",d=String(p).length,b=(r?(0, Sf.default)(e,n):e).split(Af,p).slice(l,p).map((E,q)=>{let z=l+1+q,ee=` ${` ${z}`.slice(-d)} |`,oe=f[z],ve=!f[z+1];if(oe){let At="";if(Array.isArray(oe)){let Wi=E.slice(0,Math.max(oe[0]-1,0)).replace(/[^\t]/g," "),qi=oe[1]||1;At=[`
 `,u(o.gutter,ee.replace(/\d/g," "))," ",Wi,u(o.marker,"^").repeat(qi)].join(""),ve&&n.message&&(At+=" "+u(o.message,n.message));}return [u(o.marker,">"),u(o.gutter,ee),E.length>0?` ${E}`:"",At].join("")}else return ` ${u(o.gutter,ee)}${E.length>0?` ${E}`:""}`}).join(`
`);return n.message&&!m&&(b=`${" ".repeat(d+1)}${n.message}
${b}`),r?s.reset(b):b}function N0(e,t,n,r={}){if(!Bf){Bf=!0;let o="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(o,"DeprecationWarning");else {let u=new Error(o);u.name="DeprecationWarning",console.warn(new Error(o));}}return n=Math.max(n,0),Tf(e,{start:{column:n,line:t}},r)}});var Wp=U((nS,Mp)=>{c();Mp.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")};});var Wu=U((iS,qp)=>{c();var Bh=Wp();qp.exports=e=>typeof e=="string"?e.replace(Bh(),""):e;});var Gp=U((uS,qu)=>{c();var zp=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);qu.exports=zp;qu.exports.default=zp;});var Vp=U((lS,Up)=>{c();Up.exports=function(){return /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};});var Hp=U((fS,zu)=>{c();var Ah=Wu(),Lh=Gp(),Th=Vp(),Jp=e=>{if(typeof e!="string"||e.length===0||(e=Ah(e),e.length===0))return 0;e=e.replace(Th(),"  ");let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,t+=Lh(r)?2:1);}return t};zu.exports=Jp;zu.exports.default=Jp;});var Qp=U((mS,Yp)=>{c();Yp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};});var Gu=U((dS,Xp)=>{c();var ts=Qp(),Kp={};for(let e of Object.keys(ts))Kp[ts[e]]=e;var O={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Xp.exports=O;for(let e of Object.keys(O)){if(!("channels"in O[e]))throw new Error("missing channels property: "+e);if(!("labels"in O[e]))throw new Error("missing channel labels property: "+e);if(O[e].labels.length!==O[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:n}=O[e];delete O[e].channels,delete O[e].labels,Object.defineProperty(O[e],"channels",{value:t}),Object.defineProperty(O[e],"labels",{value:n});}O.rgb.hsl=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(t,n,r),o=Math.max(t,n,r),u=o-s,a,l;o===s?a=0:t===o?a=(n-r)/u:n===o?a=2+(r-t)/u:r===o&&(a=4+(t-n)/u),a=Math.min(a*60,360),a<0&&(a+=360);let p=(s+o)/2;return o===s?l=0:p<=.5?l=u/(o+s):l=u/(2-o-s),[a,l*100,p*100]};O.rgb.hsv=function(e){let t,n,r,s,o,u=e[0]/255,a=e[1]/255,l=e[2]/255,p=Math.max(u,a,l),f=p-Math.min(u,a,l),m=function(d){return (p-d)/6/f+1/2};return f===0?(s=0,o=0):(o=f/p,t=m(u),n=m(a),r=m(l),u===p?s=r-n:a===p?s=1/3+t-r:l===p&&(s=2/3+n-t),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,p*100]};O.rgb.hwb=function(e){let t=e[0],n=e[1],r=e[2],s=O.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[s,o*100,r*100]};O.rgb.cmyk=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(1-t,1-n,1-r),o=(1-t-s)/(1-s)||0,u=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return [o*100,u*100,a*100,s*100]};function kh(e,t){return (e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}O.rgb.keyword=function(e){let t=Kp[e];if(t)return t;let n=1/0,r;for(let s of Object.keys(ts)){let o=ts[s],u=kh(e,o);u<n&&(n=u,r=s);}return r};O.keyword.rgb=function(e){return ts[e]};O.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let s=t*.4124+n*.3576+r*.1805,o=t*.2126+n*.7152+r*.0722,u=t*.0193+n*.1192+r*.9505;return [s*100,o*100,u*100]};O.rgb.lab=function(e){let t=O.rgb.xyz(e),n=t[0],r=t[1],s=t[2];n/=95.047,r/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let o=116*r-16,u=500*(n-r),a=200*(r-s);return [o,u,a]};O.hsl.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100,s,o,u;if(n===0)return u=r*255,[u,u,u];r<.5?s=r*(1+n):s=r+n-r*n;let a=2*r-s,l=[0,0,0];for(let p=0;p<3;p++)o=t+1/3*-(p-1),o<0&&o++,o>1&&o--,6*o<1?u=a+(s-a)*6*o:2*o<1?u=s:3*o<2?u=a+(s-a)*(2/3-o)*6:u=a,l[p]=u*255;return l};O.hsl.hsv=function(e){let t=e[0],n=e[1]/100,r=e[2]/100,s=n,o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=o<=1?o:2-o;let u=(r+n)/2,a=r===0?2*s/(o+s):2*n/(r+n);return [t,a*100,u*100]};O.hsv.rgb=function(e){let t=e[0]/60,n=e[1]/100,r=e[2]/100,s=Math.floor(t)%6,o=t-Math.floor(t),u=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,s){case 0:return [r,l,u];case 1:return [a,r,u];case 2:return [u,r,l];case 3:return [u,a,r];case 4:return [l,u,r];case 5:return [r,u,a]}};O.hsv.hsl=function(e){let t=e[0],n=e[1]/100,r=e[2]/100,s=Math.max(r,.01),o,u;u=(2-n)*r;let a=(2-n)*s;return o=n*s,o/=a<=1?a:2-a,o=o||0,u/=2,[t,o*100,u*100]};O.hwb.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100,s=n+r,o;s>1&&(n/=s,r/=s);let u=Math.floor(6*t),a=1-r;o=6*t-u,u&1&&(o=1-o);let l=n+o*(a-n),p,f,m;switch(u){default:case 6:case 0:p=a,f=l,m=n;break;case 1:p=l,f=a,m=n;break;case 2:p=n,f=a,m=l;break;case 3:p=n,f=l,m=a;break;case 4:p=l,f=n,m=a;break;case 5:p=a,f=n,m=l;break}return [p*255,f*255,m*255]};O.cmyk.rgb=function(e){let t=e[0]/100,n=e[1]/100,r=e[2]/100,s=e[3]/100,o=1-Math.min(1,t*(1-s)+s),u=1-Math.min(1,n*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return [o*255,u*255,a*255]};O.xyz.rgb=function(e){let t=e[0]/100,n=e[1]/100,r=e[2]/100,s,o,u;return s=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,u=t*.0557+n*-.204+r*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),u=Math.min(Math.max(0,u),1),[s*255,o*255,u*255]};O.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let s=116*n-16,o=500*(t-n),u=200*(n-r);return [s,o,u]};O.lab.xyz=function(e){let t=e[0],n=e[1],r=e[2],s,o,u;o=(t+16)/116,s=n/500+o,u=o-r/200;let a=o**3,l=s**3,p=u**3;return o=a>.008856?a:(o-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,u=p>.008856?p:(u-16/116)/7.787,s*=95.047,o*=100,u*=108.883,[s,o,u]};O.lab.lch=function(e){let t=e[0],n=e[1],r=e[2],s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);let u=Math.sqrt(n*n+r*r);return [t,u,s]};O.lch.lab=function(e){let t=e[0],n=e[1],s=e[2]/360*2*Math.PI,o=n*Math.cos(s),u=n*Math.sin(s);return [t,o,u]};O.rgb.ansi16=function(e,t=null){let[n,r,s]=e,o=t===null?O.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let u=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return o===2&&(u+=60),u};O.hsv.ansi16=function(e){return O.rgb.ansi16(O.hsv.rgb(e),e[2])};O.rgb.ansi256=function(e){let t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};O.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let n=(~~(e>50)+1)*.5,r=(t&1)*n*255,s=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return [r,s,o]};O.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return [o,o,o]}e-=16;let t,n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,s=t%6/5*255;return [n,r,s]};O.rgb.hex=function(e){let n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return "000000".substring(n.length)+n};O.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return [0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(a=>a+a).join(""));let r=parseInt(n,16),s=r>>16&255,o=r>>8&255,u=r&255;return [s,o,u]};O.rgb.hcg=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),u=s-o,a,l;return u<1?a=o/(1-u):a=0,u<=0?l=0:s===t?l=(n-r)/u%6:s===n?l=2+(r-t)/u:l=4+(t-n)/u,l/=6,l%=1,[l*360,u*100,a*100]};O.hsl.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),s=0;return r<1&&(s=(n-.5*r)/(1-r)),[e[0],r*100,s*100]};O.hsv.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=t*n,s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],r*100,s*100]};O.hcg.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return [r*255,r*255,r*255];let s=[0,0,0],o=t%1*6,u=o%1,a=1-u,l=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=u,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=u;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=u,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a;}return l=(1-n)*r,[(n*s[0]+l)*255,(n*s[1]+l)*255,(n*s[2]+l)*255]};O.hcg.hsv=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t),s=0;return r>0&&(s=t/r),[e[0],s*100,r*100]};O.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[e[0],s*100,r*100]};O.hcg.hwb=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return [e[0],(r-t)*100,(1-r)*100]};O.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,s=r-t,o=0;return s<1&&(o=(r-s)/(1-s)),[e[0],s*100,o*100]};O.apple.rgb=function(e){return [e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};O.rgb.apple=function(e){return [e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};O.gray.rgb=function(e){return [e[0]/100*255,e[0]/100*255,e[0]/100*255]};O.gray.hsl=function(e){return [0,0,e[0]]};O.gray.hsv=O.gray.hsl;O.gray.hwb=function(e){return [0,100,e[0]]};O.gray.cmyk=function(e){return [0,0,0,e[0]]};O.gray.lab=function(e){return [e[0],0,0]};O.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return "000000".substring(r.length)+r};O.rgb.gray=function(e){return [(e[0]+e[1]+e[2])/3/255*100]};});var em=U((hS,Zp)=>{c();var Ri=Gu();function Nh(){let e={},t=Object.keys(Ri);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function Rh(e){let t=Nh(),n=[e];for(t[e].distance=0;n.length;){let r=n.pop(),s=Object.keys(Ri[r]);for(let o=s.length,u=0;u<o;u++){let a=s[u],l=t[a];l.distance===-1&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(a));}}return t}function Ph(e,t){return function(n){return t(e(n))}}function Oh(e,t){let n=[t[e].parent,e],r=Ri[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),r=Ph(Ri[t[s].parent][s],r),s=t[s].parent;return r.conversion=n,r}Zp.exports=function(e){let t=Rh(e),n={},r=Object.keys(t);for(let s=r.length,o=0;o<s;o++){let u=r[o];t[u].parent!==null&&(n[u]=Oh(u,t));}return n};});var rm=U((bS,tm)=>{c();var Uu=Gu(),_h=em(),un={},jh=Object.keys(Uu);function Ih(e){let t=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return "conversion"in e&&(t.conversion=e.conversion),t}function Mh(e){let t=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let s=e(n);if(typeof s=="object")for(let o=s.length,u=0;u<o;u++)s[u]=Math.round(s[u]);return s};return "conversion"in e&&(t.conversion=e.conversion),t}jh.forEach(e=>{un[e]={},Object.defineProperty(un[e],"channels",{value:Uu[e].channels}),Object.defineProperty(un[e],"labels",{value:Uu[e].labels});let t=_h(e);Object.keys(t).forEach(r=>{let s=t[r];un[e][r]=Mh(s),un[e][r].raw=Ih(s);});});tm.exports=un;});var am=U((FS,um)=>{c();var nm=(e,t)=>(...n)=>`\x1B[${e(...n)+t}m`,sm=(e,t)=>(...n)=>{let r=e(...n);return `\x1B[${38+t};5;${r}m`},im=(e,t)=>(...n)=>{let r=e(...n);return `\x1B[${38+t};2;${r[0]};${r[1]};${r[2]}m`},Pi=e=>e,om=(e,t,n)=>[e,t,n],an=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{let r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0});},Vu,ln=(e,t,n,r)=>{Vu===void 0&&(Vu=rm());let s=r?10:0,o={};for(let[u,a]of Object.entries(Vu)){let l=u==="ansi16"?"ansi":u;u===t?o[l]=e(n,s):typeof a=="object"&&(o[l]=e(a[t],s));}return o};function Wh(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[n,r]of Object.entries(t)){for(let[s,o]of Object.entries(r))t[s]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[s]=t[s],e.set(o[0],o[1]);Object.defineProperty(t,n,{value:r,enumerable:!1});}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",an(t.color,"ansi",()=>ln(nm,"ansi16",Pi,!1)),an(t.color,"ansi256",()=>ln(sm,"ansi256",Pi,!1)),an(t.color,"ansi16m",()=>ln(im,"rgb",om,!1)),an(t.bgColor,"ansi",()=>ln(nm,"ansi16",Pi,!0)),an(t.bgColor,"ansi256",()=>ln(sm,"ansi256",Pi,!0)),an(t.bgColor,"ansi16m",()=>ln(im,"rgb",om,!0)),t}Object.defineProperty(um,"exports",{enumerable:!0,get:Wh});});var Dm=U((CS,mm)=>{c();var rs=Hp(),qh=Wu(),zh=am(),Oi=new Set(["\x1B","\x9B"]),Gh=39,Hu="\x07",fm="[",Uh="]",pm="m",Yu=`${Uh}8;;`,lm=e=>`${Oi.values().next().value}${fm}${e}${pm}`,cm=e=>`${Oi.values().next().value}${Yu}${e}${Hu}`,Vh=e=>e.split(" ").map(t=>rs(t)),Ju=(e,t,n)=>{let r=[...t],s=!1,o=!1,u=rs(qh(e[e.length-1]));for(let[a,l]of r.entries()){let p=rs(l);if(u+p<=n?e[e.length-1]+=l:(e.push(l),u=0),Oi.has(l)&&(s=!0,o=r.slice(a+1).join("").startsWith(Yu)),s){o?l===Hu&&(s=!1,o=!1):l===pm&&(s=!1);continue}u+=p,u===n&&a<r.length-1&&(e.push(""),u=0);}!u&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop());},Jh=e=>{let t=e.split(" "),n=t.length;for(;n>0&&!(rs(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},Hh=(e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return "";let r="",s,o,u=Vh(e),a=[""];for(let[p,f]of e.split(" ").entries()){n.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let m=rs(a[a.length-1]);if(p!==0&&(m>=t&&(n.wordWrap===!1||n.trim===!1)&&(a.push(""),m=0),(m>0||n.trim===!1)&&(a[a.length-1]+=" ",m++)),n.hard&&u[p]>t){let d=t-m,y=1+Math.floor((u[p]-d-1)/t);Math.floor((u[p]-1)/t)<y&&a.push(""),Ju(a,f,t);continue}if(m+u[p]>t&&m>0&&u[p]>0){if(n.wordWrap===!1&&m<t){Ju(a,f,t);continue}a.push("");}if(m+u[p]>t&&n.wordWrap===!1){Ju(a,f,t);continue}a[a.length-1]+=f;}n.trim!==!1&&(a=a.map(Jh));let l=[...a.join(`
`)];for(let[p,f]of l.entries()){if(r+=f,Oi.has(f)){let{groups:d}=new RegExp(`(?:\\${fm}(?<code>\\d+)m|\\${Yu}(?<uri>.*)${Hu})`).exec(l.slice(p).join(""))||{groups:{}};if(d.code!==void 0){let y=Number.parseFloat(d.code);s=y===Gh?void 0:y;}else d.uri!==void 0&&(o=d.uri.length===0?void 0:d.uri);}let m=zh.codes.get(Number(s));l[p+1]===`
`?(o&&(r+=cm("")),s&&m&&(r+=lm(m))):f===`
`&&(s&&m&&(r+=lm(s)),o&&(r+=cm(o)));}return r};mm.exports=(e,t,n)=>String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>Hh(r,t,n)).join(`
`);});var dm=U(cn=>{c();var Yh=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cn,"__esModule",{value:!0});cn.Scrollable=void 0;var Qh=Yh(Dm()),Qu=class{get options(){return this._options}constructor(t){var n,r,s,o,u,a,l,p,f,m,d,y,b,E,q,z,fe,ee,oe;this.lines=[],this.currentLine=0,this._options={content:t?.content,start:{x:(r=(n=t?.start)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(o=(s=t?.start)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0},stdout:(u=t?.stdout)!==null&&u!==void 0?u:process.stdout,size:{width:(f=(l=(a=t?.size)===null||a===void 0?void 0:a.width)!==null&&l!==void 0?l:(p=t?.stdout)===null||p===void 0?void 0:p.columns)!==null&&f!==void 0?f:process.stdout.columns,height:(b=(d=(m=t?.size)===null||m===void 0?void 0:m.height)!==null&&d!==void 0?d:(y=t?.stdout)===null||y===void 0?void 0:y.rows)!==null&&b!==void 0?b:process.stdout.rows},wrapOptions:{hard:(q=(E=t?.wrapOptions)===null||E===void 0?void 0:E.hard)!==null&&q!==void 0?q:!1,wordWrap:(fe=(z=t?.wrapOptions)===null||z===void 0?void 0:z.wordWrap)!==null&&fe!==void 0?fe:!0,trim:(oe=(ee=t?.wrapOptions)===null||ee===void 0?void 0:ee.trim)!==null&&oe!==void 0?oe:!0}};}setContent(t){return this._options.content=t,this.resetLines(),this}setStart(t){return this._options.start=t,this.resetLines(),this}setSize(t){return this._options.size=t,this.resetLines(),this}setWrapOptions(t){return this._options.wrapOptions=t,this.resetLines(),this}print(){this.lines.length==0&&this.splitContentIntoLines();let{x:t,y:n}=this._options.start,{width:r,height:s}=this._options.size,o=Array(r).fill(" ").join(""),{stdout:u}=this._options;this.clear(),u.cursorTo(t,n);for(let a=0;a<s;a++){let l=this.lines[a+this.currentLine];u.cursorTo(t),u.write((l??o)+`
`);}return this}scroll(t){return this.currentLine+=t,this}clear(){let{x:t,y:n}=this._options.start,{width:r,height:s}=this._options.size,o=Array(r).fill(" ").join(""),{stdout:u}=this._options;u.cursorTo(t,n);for(let a=0;a<s;a++)u.cursorTo(t),u.write(o+`
`);return this}resetLines(){this.lines=[],this.currentLine=0;}splitContentIntoLines(){if(!this._options.content)return;let t=(0, Qh.default)(this._options.content,this._options.size.width,this._options.wrapOptions);this.lines=t.split(`
`);}};cn.Scrollable=Qu;});var hm=U(ns=>{c();Object.defineProperty(ns,"__esModule",{value:!0});ns.Scrollable=void 0;var gm=dm();Object.defineProperty(ns,"Scrollable",{enumerable:!0,get:function(){return gm.Scrollable}});ns.default=e=>new gm.Scrollable(e);});c();c();c();c();c();function Ae(e){if(e===null)return "Null";if(e===void 0)return "Undefined";if(Number.isNaN(e))return "NaN";let t=Object.prototype.toString.call(e).slice(8,-1);return t==="AsyncFunction"?"Promise":t}c();var{isArray:Xt}=Array;function _r(e){return Xt(e)?e.length>0:Ae(e)==="Object"?Object.keys(e).length>0:!!e}function Lt(...e){let t=0;for(;t<e.length;){let n=e[t];if(Ae(n)==="Function"){if(_r(n()))return !1}else if(_r(n))return !1;t++;}return !0}c();c();function Gi(e){return Xt(e)?e.length===0:Ae(e)==="Object"?Object.keys(e).length===0:!e}function os(...e){let t=0;for(;t<e.length;){let n=e[t];if(Ae(n)==="Function"){if(Gi(n()))return !1}else if(Gi(n))return !1;t++;}return !0}c();function Ye(...e){let t=0;for(;t<e.length;){let n=e[t];if(Ae(n)==="Function"){if(_r(n()))return !0}else if(_r(n))return !0;t++;}return !1}c();function us(e,t="."){return typeof e=="string"?e.split(t):e}c();function mD(e,t){let n=t,r=0,s=us(e);for(;r<s.length;){if(n==null||n[s[r]]===null)return;n=n[s[r]],r++;}return n}function Ui(e,t){if(arguments.length===1)return n=>Ui(e,n);if(t!=null)return mD(e,t)}c();function Vi(e,t){if(!Xt(t))throw new Error(`Cannot read property 'indexOf' of ${t}`);let n=Ae(e);if(!["Object","Array","NaN","RegExp"].includes(n))return t.indexOf(e);let r=-1,s=-1,{length:o}=t;for(;++r<o&&s===-1;)as(t[r],e)&&(s=r);return s}function ua(e){let t=[],n;for(;!(n=e.next()).done;)t.push(n.value);return t}function DD(e,t){if(e.size!==t.size)return !1;let n=ua(e.values()),r=ua(t.values());return n.filter(o=>Vi(o,r)===-1).length===0}function aa(e){let t=e.__proto__.toString();return ["Error","TypeError"].includes(t)?[t,e.message]:[]}function la(e){return e.toDateString?[!0,e.getTime()]:[!1]}function ca(e){return e.constructor!==RegExp?[!1]:[!0,e.toString()]}function as(e,t){if(arguments.length===1)return p=>as(e,p);let n=Ae(e);if(n!==Ae(t))return !1;if(n==="Function")return e.name===void 0?!1:e.name===t.name;if(["NaN","Undefined","Null"].includes(n))return !0;if(n==="Number")return Object.is(-0,e)!==Object.is(-0,t)?!1:e.toString()===t.toString();if(["String","Boolean"].includes(n))return e.toString()===t.toString();if(n==="Array"){let p=Array.from(e),f=Array.from(t);if(p.toString()!==f.toString())return !1;let m=!0;return p.forEach((d,y)=>{m&&d!==f[y]&&!as(d,f[y])&&(m=!1);}),m}let r=ca(e),s=ca(t);if(r[0])return s[0]?r[1]===s[1]:!1;if(s[0])return !1;let o=la(e),u=la(t);if(o[0])return u[0]?o[1]===u[1]:!1;if(u[0])return !1;let a=aa(e),l=aa(t);if(a[0])return l[0]?a[0]===l[0]&&a[1]===l[1]:!1;if(n==="Set")return DD(e,t);if(n==="Object"){let p=Object.keys(e);if(p.length!==Object.keys(t).length)return !1;let f=!0;return p.forEach(m=>{if(f){let d=e[m],y=t[m];d!==y&&!as(d,y)&&(f=!1);}}),f}return !1}c();var dD="RAMBDAX_DELAY";function je(e){return new Promise(t=>{setTimeout(()=>{t(dD);},e);})}c();function Ji(e,t){if(arguments.length===1)return n=>Ji(e,n);if(typeof t=="string")return t.includes(e);if(!t)throw new TypeError(`Cannot read property 'indexOf' of ${t}`);return Xt(t)?Vi(e,t)>-1:!1}c();function Tt(e,t){return arguments.length===1?n=>Tt(e,n):Ae(t)===e}c();async function fa(e,t){let n=t.map((r,s)=>e(r,s));return Promise.all(n)}function pa(e,t){return arguments.length===1?async n=>fa(e,n):new Promise((n,r)=>{fa(e,t).then(n).catch(r);})}c();function Hi(e,t){if(arguments.length===1)return s=>Hi(e,s);if(t==null)return;let n=us(e,","),r={};for(let s in t)n.includes(s)||(r[s]=t[s]);return r}c();function Le(e,t){return arguments.length===1?n=>Le(e,n):t?t.hasOwnProperty(e):!1}c();function ct(e,t){return arguments.length===1?n=>ct(e,n):Ui(e,t)!==void 0}c();function hr(e){let t=Ae(e);return ["Undefined","NaN","Number","Null"].includes(t)?!1:e?t==="Object"?Object.keys(e).length===0:t==="Array"?e.length===0:!1:!0}c();function Wt(e){return e==null}c();function ma(e){return typeof e=="string"?e[e.length-1]||"":e[e.length-1]}c();c();c();var Yi=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t;}},Da=e=>globalThis.DOMException===void 0?new Yi(e):new DOMException(e),da=e=>{let t=e.reason===void 0?Da("This operation was aborted."):e.reason;return t instanceof Error?t:Da(t)};async function kt(e,t,{concurrency:n=Number.POSITIVE_INFINITY,stopOnError:r=!0,signal:s}={}){return new Promise((o,u)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof t!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(n)||n===Number.POSITIVE_INFINITY)&&n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);let a=[],l=[],p=new Map,f=!1,m=!1,d=!1,y=0,b=0,E=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),q=fe=>{f=!0,m=!0,u(fe);};s&&(s.aborted&&q(da(s)),s.addEventListener("abort",()=>{q(da(s));}));let z=async()=>{if(m)return;let fe=await E.next(),ee=b;if(b++,fe.done){if(d=!0,y===0&&!m){if(!r&&l.length>0){q(new AggregateError(l));return}if(m=!0,p.size===0){o(a);return}let oe=[];for(let[ve,At]of a.entries())p.get(ve)!==ls&&oe.push(At);o(oe);}return}y++,(async()=>{try{let oe=await fe.value;if(m)return;let ve=await t(oe,ee);ve===ls&&p.set(ee,ve),a[ee]=ve,y--,await z();}catch(oe){if(r)q(oe);else {l.push(oe),y--;try{await z();}catch(ve){q(ve);}}}})();};(async()=>{for(let fe=0;fe<n;fe++){try{await z();}catch(ee){q(ee);break}if(d||f)break}})();})}var ls=Symbol("skip");c();c();c();var Ki=yt(ha(),1);c();var gn=class extends Error{constructor(t){super(t),this.name="TimeoutError";}},Xi=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t;}},ya=e=>globalThis.DOMException===void 0?new Xi(e):new DOMException(e),ba=e=>{let t=e.reason===void 0?ya("This operation was aborted."):e.reason;return t instanceof Error?t:ya(t)};function Zi(e,t,n,r){let s,o=new Promise((u,a)=>{if(typeof t!="number"||Math.sign(t)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t===Number.POSITIVE_INFINITY){u(e);return}if(r={customTimers:{setTimeout,clearTimeout},...r},r.signal){let{signal:l}=r;l.aborted&&a(ba(l)),l.addEventListener("abort",()=>{a(ba(l));});}s=r.customTimers.setTimeout.call(void 0,()=>{if(typeof n=="function"){try{u(n());}catch(f){a(f);}return}let l=typeof n=="string"?n:`Promise timed out after ${t} milliseconds`,p=n instanceof Error?n:new gn(l);typeof e.cancel=="function"&&e.cancel(),a(p);},t),(async()=>{try{u(await e);}catch(l){a(l);}finally{r.customTimers.clearTimeout.call(void 0,s);}})();});return o.clear=()=>{clearTimeout(s),s=void 0;},o}c();c();function eo(e,t,n){let r=0,s=e.length;for(;s>0;){let o=Math.trunc(s/2),u=r+o;n(e[u],t)<=0?(r=++u,s-=o+1):s=o;}return r}var yr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qt,to=class{constructor(){qt.set(this,[]);}enqueue(t,n){n={priority:0,...n};let r={priority:n.priority,run:t};if(this.size&&yr(this,qt,"f")[this.size-1].priority>=n.priority){yr(this,qt,"f").push(r);return}let s=eo(yr(this,qt,"f"),r,(o,u)=>u.priority-o.priority);yr(this,qt,"f").splice(s,0,r);}dequeue(){let t=yr(this,qt,"f").shift();return t?.run}filter(t){return yr(this,qt,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return yr(this,qt,"f").length}};qt=new WeakMap;var xa=to;var Ee=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},N=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Be,yn,bn,er,gs,xn,fs,bt,hn,nt,ps,st,Fn,Zt,ms,Fa,wa,Ea,Ca,va,Ds,ro,no,hs,Sa,ds,ys=class extends Error{},so=class extends Ki.default{constructor(t){var n,r,s,o;if(super(),Be.add(this),yn.set(this,void 0),bn.set(this,void 0),er.set(this,0),gs.set(this,void 0),xn.set(this,void 0),fs.set(this,0),bt.set(this,void 0),hn.set(this,void 0),nt.set(this,void 0),ps.set(this,void 0),st.set(this,0),Fn.set(this,void 0),Zt.set(this,void 0),ms.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:xa,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=t.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(s=t.interval)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);Ee(this,yn,t.carryoverConcurrencyCount,"f"),Ee(this,bn,t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,"f"),Ee(this,gs,t.intervalCap,"f"),Ee(this,xn,t.interval,"f"),Ee(this,nt,new t.queueClass,"f"),Ee(this,ps,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Ee(this,ms,t.throwOnTimeout===!0,"f"),Ee(this,Zt,t.autoStart===!1,"f");}get concurrency(){return N(this,Fn,"f")}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Ee(this,Fn,t,"f"),N(this,Be,"m",hs).call(this);}async add(t,n={}){return n={timeout:this.timeout,throwOnTimeout:N(this,ms,"f"),...n},new Promise((r,s)=>{N(this,nt,"f").enqueue(async()=>{var o,u,a;Ee(this,st,(u=N(this,st,"f"),u++,u),"f"),Ee(this,er,(a=N(this,er,"f"),a++,a),"f");try{if(!((o=n.signal)===null||o===void 0)&&o.aborted)throw new ys("The task was aborted.");let l=t({signal:n.signal});n.timeout&&(l=Zi(Promise.resolve(l),n.timeout)),n.signal&&(l=Promise.race([l,N(this,Be,"m",Sa).call(this,n.signal)]));let p=await l;r(p),this.emit("completed",p);}catch(l){if(l instanceof gn&&!n.throwOnTimeout){r();return}s(l),this.emit("error",l);}finally{N(this,Be,"m",Ea).call(this);}},n),this.emit("add"),N(this,Be,"m",Ds).call(this);})}async addAll(t,n){return Promise.all(t.map(async r=>this.add(r,n)))}start(){return N(this,Zt,"f")?(Ee(this,Zt,!1,"f"),N(this,Be,"m",hs).call(this),this):this}pause(){Ee(this,Zt,!0,"f");}clear(){Ee(this,nt,new(N(this,ps,"f")),"f");}async onEmpty(){N(this,nt,"f").size!==0&&await N(this,Be,"m",ds).call(this,"empty");}async onSizeLessThan(t){N(this,nt,"f").size<t||await N(this,Be,"m",ds).call(this,"next",()=>N(this,nt,"f").size<t);}async onIdle(){N(this,st,"f")===0&&N(this,nt,"f").size===0||await N(this,Be,"m",ds).call(this,"idle");}get size(){return N(this,nt,"f").size}sizeBy(t){return N(this,nt,"f").filter(t).length}get pending(){return N(this,st,"f")}get isPaused(){return N(this,Zt,"f")}};yn=new WeakMap,bn=new WeakMap,er=new WeakMap,gs=new WeakMap,xn=new WeakMap,fs=new WeakMap,bt=new WeakMap,hn=new WeakMap,nt=new WeakMap,ps=new WeakMap,st=new WeakMap,Fn=new WeakMap,Zt=new WeakMap,ms=new WeakMap,Be=new WeakSet,Fa=function(){return N(this,bn,"f")||N(this,er,"f")<N(this,gs,"f")},wa=function(){return N(this,st,"f")<N(this,Fn,"f")},Ea=function(){var t;Ee(this,st,(t=N(this,st,"f"),t--,t),"f"),N(this,Be,"m",Ds).call(this),this.emit("next");},Ca=function(){N(this,Be,"m",no).call(this),N(this,Be,"m",ro).call(this),Ee(this,hn,void 0,"f");},va=function(){let t=Date.now();if(N(this,bt,"f")===void 0){let n=N(this,fs,"f")-t;if(n<0)Ee(this,er,N(this,yn,"f")?N(this,st,"f"):0,"f");else return N(this,hn,"f")===void 0&&Ee(this,hn,setTimeout(()=>{N(this,Be,"m",Ca).call(this);},n),"f"),!0}return !1},Ds=function(){if(N(this,nt,"f").size===0)return N(this,bt,"f")&&clearInterval(N(this,bt,"f")),Ee(this,bt,void 0,"f"),this.emit("empty"),N(this,st,"f")===0&&this.emit("idle"),!1;if(!N(this,Zt,"f")){let t=!N(this,Be,"a",va);if(N(this,Be,"a",Fa)&&N(this,Be,"a",wa)){let n=N(this,nt,"f").dequeue();return n?(this.emit("active"),n(),t&&N(this,Be,"m",ro).call(this),!0):!1}}return !1},ro=function(){N(this,bn,"f")||N(this,bt,"f")!==void 0||(Ee(this,bt,setInterval(()=>{N(this,Be,"m",no).call(this);},N(this,xn,"f")),"f"),Ee(this,fs,Date.now()+N(this,xn,"f"),"f"));},no=function(){N(this,er,"f")===0&&N(this,st,"f")===0&&N(this,bt,"f")&&(clearInterval(N(this,bt,"f")),Ee(this,bt,void 0,"f")),Ee(this,er,N(this,yn,"f")?N(this,st,"f"):0,"f"),N(this,Be,"m",hs).call(this);},hs=function(){for(;N(this,Be,"m",Ds).call(this););},Sa=async function(t){return new Promise((n,r)=>{t.addEventListener("abort",()=>{r(new ys("The task was aborted."));},{once:!0});})},ds=async function(t,n){return new Promise(r=>{let s=()=>{n&&!n()||(this.off(t,s),r());};this.on(t,s);})};var bs=so;var br=wi__default.default.create({responseType:"json",headers:{}}),V=new bs({interval:500,intervalCap:2});function xr(e){return e===429||e===500?!0:(V.isPaused||V.pause(),!1)}c();c();var{error:ae,log:C,warn:jr,clear:uy}=new console$1.Console(ql.stdout,ql.stderr),{create:Fr,assign:J,defineProperty:it,defineProperties:ay,keys:ft,values:Ir,setPrototypeOf:ly}=Object,tr=Array.from,xs=Buffer.from,{abs:wr}=Math,{toString:Nt}=Object.prototype;var v=new class{marks=[];time={};cache={};now(t){return this.stop(t||!0)}sec(t){let n=this.stop(t||!0);return n.slice(0,n.lastIndexOf(" "))}pause(t){t in this.marks&&(this.cache[t]=this.stop(t||!0));}start(t){t?this.time[t]=perf_hooks.performance.now():this.marks.push(perf_hooks.performance.now());}clear(t){if(t){if(t in this.time){delete this.time[t];return}if(t in this.cache){delete this.cache[t];return}}for(;this.marks.length!==0;)this.marks.pop();}stop(t=!1,n=!1){let r;if(typeof t=="boolean")r=t?this.marks[this.marks.length-1]:this.marks.pop();else if(t){if(t in this.cache){let a=this.cache[t];return delete this.cache[t],a}n?(r=this.time[t],delete this.time[t]):r=this.time[t];}let s=perf_hooks.performance.now()-r;if(s<1e3)return `${wr(+s.toFixed(0))}ms`;let o=s/1e3;if(o<60)return `${wr(+o.toFixed(0))}s ${wr(+s.toFixed(0).slice(1,4))}ms`;let u=wr(+(o/60).toFixed(0));return `${u}m ${wr(+(o-60*Number(u)).toFixed(0))}s ${wr(+s.toFixed(0).slice(1,4))}ms`}};c();c();var oo=Symbol("singleComment"),$a=Symbol("multiComment"),CD=()=>"",vD=(e,t,n)=>e.slice(t,n).replace(/\S/g," "),ED=(e,t)=>{let n=t-1,r=0;for(;e[n]==="\\";)n-=1,r+=1;return !!(r%2)};function wn(e,{whitespace:t=!0,trailingCommas:n=!1}={}){if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);let r=t?vD:CD,s=!1,o=!1,u=0,a="",l="",p=-1;for(let f=0;f<e.length;f++){let m=e[f],d=e[f+1];if(!o&&m==='"'&&(ED(e,f)||(s=!s)),!s)if(!o&&m+d==="//")a+=e.slice(u,f),u=f,o=oo,f++;else if(o===oo&&m+d===`\r
`){f++,o=!1,a+=r(e,u,f),u=f;continue}else if(o===oo&&m===`
`)o=!1,a+=r(e,u,f),u=f;else if(!o&&m+d==="/*"){a+=e.slice(u,f),u=f,o=$a,f++;continue}else if(o===$a&&m+d==="*/"){f++,o=!1,a+=r(e,u,f+1),u=f+1;continue}else n&&!o&&(p!==-1?m==="}"||m==="]"?(a+=e.slice(u,f),l+=r(a,0,1)+a.slice(1),a="",u=f,p=-1):m!==" "&&m!=="	"&&m!=="\r"&&m!==`
`&&(a+=e.slice(u,f),u=f,p=-1):m===","&&(l+=a+e.slice(u,f),a="",u=f,p=f));}return l+a+(o?r(e.slice(u)):e.slice(u))}c();var Fs=["build","checksum","metafields","pages","paths","schema","sections","settings","templates"],Ba=[["cache","node_modules"],["input","source"],["output","theme"],["export","export"],["import","import"],["config","."]],Cr=["assets","config","layout","customers","locales","sections","schema","snippets","templates","metaobject","metafields","pages","redirects"],vr=["templates","templates/customers","templates/metaobject","assets","config","layout","locales","sections","snippets"],Aa=["js","cjs","mjs","ts"],uo=["b","kb","mb","gb","tb"],La=["You cannot use script minification without esbuild installed","and configured as a processor. Install esbuild and configure Syncify","to apply transforms to leverage script minification."],Cn=/([|,])/g,ws=/\.(mjs|cjs|ts|js|tsx|jsx)$/;var ao={404:"The requested resource was not found.",400:"The request was not understood by the server, generally due to bad syntax or because the Content-Type header was not correctly set to application / json. This status is also returned when the request provides an invalid code parameter during the OAuth token exchange process.",303:"The response to the request can be found under a different URL in the Location header and can be retrieved using a GET method on that resource.",401:"The necessary authentication credentials are not present in the request or are incorrect",402:"The requested shop is currently frozen. The shop owner needs to log in to the shop's admin, and pay the outstanding balance to unfreeze the shop.",406:"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request.",423:"The requested shop is currently locked. Shops are locked if they repeatedly exceed their API request limit. or if there is an issue with the account, such as a detected compromise or fraud risk.",403:"The server is refusing to respond to the request. This is generally because you have not requested the appropriate scope for this action.",501:"The requested endpoint is not available on that particular shop, e.g. requesting access to a Shopify Plus\u2013only API on a non-Plus shop. This response may also indicate that this endpoint is reserved for future use.",503:"The server is currently unavailable. Check the Shopify status page for reported service outages. See https://www.shopifystatus.com"};c();c();var Do=yt(mo()),Ia="\x1B[H\x1B[2J";Do.default.extend({brown:"#c19a6b",pink:"#ff75d1",teal:"#91EBC2",lightGray:"#2a2a2e",orange:"#FFAB40",lavender:"#8080FF",neonGreen:"#56ef83",neonCyan:"#69d5fd",neonRouge:"#FF8095",neonMagenta:"#7b68ee"});var{cyan:te,red:H,green:RD,yellow:xt,magenta:go,blue:A,white:w,gray:D,dim:Ey,cyanBright:Sy,redBright:X,greenBright:$y,yellowBright:Y,magentaBright:vs,blueBright:Ma,whiteBright:k,strip:Wa,underline:Rt,bold:h,reset:Qe,lightGray:I,pink:Ft,brown:By,teal:Er,orange:We,lavender:Ay,neonGreen:ce,neonCyan:Z,neonRouge:wt,neonMagenta:Mr}=Do.default;var F=S({open:`${I.open}\u250C\u2500${I.close} `,stub:`${I.open}\u251C${I.close}  `,dash:`${I.open}\u251C\u2500${I.close} `,trim:`${I.open}\u2502${I.close}`,line:`${I.open}\u2502${I.close}  `,next:`
${I.open}\u2502${I.close}`,after:`${I.open}\u2502${I.close}`,wrap:`
${I.open}\u2502${I.close}
`,base:`${I.open}\u2514\u2500${I.close} `,red:`${H.dim.open}\u2502${H.dim.close}  `,redTrim:`${H.dim.open}\u2502${H.dim.close}`,yellow:`${xt.dim.open}\u2502${xt.dim.close}  `,yellowTrim:`${xt.dim.open}\u2502${xt.dim.close}`,indent:S({edge:`${I.open}\u251C\u2500\u2500\u252C\u2500${I.close} `,fall:`${I.open}\u251C\u2500\u2500\u2510${I.close} `,line:`${I.open}\u2502  \u2502${I.close} `,stub:`${I.open}\u2502  \u251C${I.close} `,dash:`${I.open}\u2502  \u251C\u2500${I.close} `,base:`${I.open}\u2502  \u2514\u2500${I.close} `})});`${D.open}|${D.close}`;`${D.open}#${D.close}`;`${D.open}+${D.close}`;`${D.open}-${D.close}`;`${D.open},${D.close}`;var qa=`${ce.open}\u2713${ce.close}`,nr=`${X.open}\u{10102}${X.close}`,B=`${D.open}:${D.close}`,_=`${D.open}\u2192${D.close}`,Gt=`${D.open}\u25B8${D.close}`,Es=`${D.open}\u2942${D.close}`,G=`${D.open}~${D.close}`,Ut=`${D.open}\u2014${D.close}`,Ss=`${D.open}(${D.close}`,$s=`${D.open})${D.close}`,za=`${D.open}{${D.close}`,Ga=`${D.open}}${D.close}`,Ua=`${D.open}[${D.close}`,Va=`${D.open}]${D.close}`,Bs=`${D.open}<${D.close}`,As=`${D.open}>${D.close}`;function x(e,t){return e in t}function be(e){return t=>t in e}function Ja(e,t=2){return e.reduce((n,r,s)=>{let o=Math.floor(s/t);return n[o]||(n[o]=[]),n[o].push(r),n},[])}var Xe=new events.EventEmitter;function ot(e,t=null){let n=0;if($(e))for(let r of e)t?r[t].length>n&&(n=r[t].length):r.length>n&&(n=r.length);else for(let r in e)r.length>n&&(n=r.length);return n=n+1,function(s){let o=R(s)?n-s.length:n-s;return o<1?" ":" ".repeat(o)}}function S(e){return e?J(Fr(null),e):Fr(null)}function Ha(e,{onlyFirst:t=!1}={}){let n=e.match(new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),t?void 0:"g"));return n!==null?n:!1}function re(...e){return e.join(" ")}function ne(...e){return $(e[0])?e[0].join(""):e.join("")}function Ls(e){return crypto.createHash("md5").update(e).digest("hex")}function Ts(e){if(wn(e).trim()==="")return {};try{return JSON.parse(wn(e).trim())}catch(t){throw new Error(t)}}function Ya(e){return e.toLowerCase().replace(/[^a-z0-9_:]+/g,"-").replace(/-$/,"").replace(/^-/,"")}function Ze(e,t,n=!1){return t>=2?e[e.length-1]!=="s"?`${e}s`:e:e[e.length-1]!=="s"?e:e.slice(0,-1)}function De(e){return at(e)?e.toString():T(e)||$(e)?JSON.stringify(e):le(e)||pt(e)?`${e}`:R(e)?e:String(e)}async function Qa(e,{format:t}){return t==="esm"?n=>import(n):ho(e)}function ho(e){return Ie(lt)?lt(e):module$1.createRequire(g)(e)}function Ka(e){return e===".mjs"||e===".cjs"?"js":e.slice(1)}function Wr(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ct(e){return Pt(typeof e=="number"?e:Oe(e))}function Oe(e){return R(e)?xs(e).toString().length:e.toString().length}function Pt(e){if(e===0)return "0b";let t=parseInt(`${Math.floor(Math.log(e)/Math.log(1024))}`,10);return t===0?`${h(String(e))}${uo[t]}`:`${h((e/1024**t).toFixed(1))}${uo[t]}`}function ut(e,t){let n=Oe(e),r=Pt(tp__default.default.gzipSync(e).length),s=Pt(t),o=Pt(n),u=Pt(t-n);return {isSmaller:n>t||n===t,gzip:r,before:s,after:o,saved:u}}function qr(){let e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return (t<10?`0${t}`:t)+B+(n<10?`0${n}`:n)+B+(r<10?`0${r}`:r)}function ks(e){let t=e%10,n=e%100;return e+(t===1&&n!==11?"st":t===2&&n!==12?"nd":t===3&&n!==13?"rd":"th")}function vt(){return Math.random().toString(36).slice(2)}function Xa(){return new Promise(e=>{Ie(setImmediate)?setImmediate(e):setTimeout(e);})}function ue(e){return e==null}function Za(e){return at(e)?e.toString().trim().length===0:e.trim().length===0}function K(e){if(T(e)){for(let t in e)return !1;return !0}return $(e)?e.length===0:de(e)||pt(e)||ID(e)||yo(e)?!1:!e}function $(e){return Nt.call(e).slice(8,-1)==="Array"}function T(e){return Nt.call(e).slice(8,-1)==="Object"}function R(e){return Nt.call(e).slice(8,-1)==="String"}function Vt(e){return Nt.call(e).slice(8,-1)==="RegExp"}function Ie(e){return Nt.call(e).slice(8,-1)==="Function"}function le(e){return Nt.call(e).slice(8,-1)==="Boolean"}function pt(e){return Nt.call(e).slice(8,-1)==="Number"}function yo(e){return Number.isNaN(e)}function ID(e){return Nt.call(e).slice(8,-1)==="Null"}function de(e){return Nt.call(e).slice(8,-1)==="Undefined"}function at(e){return Buffer.isBuffer(e)}c();c();var MD=Object.assign||((e,t)=>(t&&Object.keys(t).forEach(n=>e[n]=t[n]),e)),bo=(e,t,n)=>{let r=typeof n;if(n&&r==="object")if(Array.isArray(n))for(let s of n)t=bo(e,t,s);else for(let s of Object.keys(n)){let o=n[s];typeof o=="function"?t[s]=o(t[s],Ns):o===void 0?e&&!isNaN(s)?t.splice(s,1):delete t[s]:o===null||typeof o!="object"||Array.isArray(o)?t[s]=o:typeof t[s]=="object"?t[s]=o===t[s]?o:Ns(t[s],o):t[s]=bo(!1,{},o);}else r==="function"&&(t=n(t,Ns));return t},Ns=(e,...t)=>{let n=Array.isArray(e);return bo(n,n?e.slice():MD({},e),t)},ge=Ns;c();function Rs(e,t,n){return child_process.execFileSync(e,t,{encoding:"utf8",shell:n,stdio:["ignore","pipe","ignore"]}).trim()}function tl(e,t){let n=pathe.dirname(url.fileURLToPath(g));return Rs(pathe.join(n,e),[],t).split(/\r?\n/)}function sr(e,t){let n=Number.parseInt(e,10);return {wrap:n>85?85:n,cols:Number.parseInt(e,10),rows:Number.parseInt(t,10)}}function rl(){if(ql.stdout&&ql.stdout.columns&&ql.stdout.rows)return sr(ql.stdout.columns,ql.stdout.rows);if(ql.stderr&&ql.stderr.columns&&ql.stderr.rows)return sr(ql.stderr.columns,ql.stderr.rows);if(ql.env.COLUMNS&&ql.env.LINES)return sr(ql.env.COLUMNS,ql.env.LINES);if(ql.platform==="win32")try{let e=tl("vendor/windows/term-size.exe",!1);if(e.length===2)return sr(e[0],e[1])}catch{}else {if(ql.platform==="darwin")try{let e=tl("vendor/macos/term-size",!0);if(e.length===2)return sr(e[0],e[1])}catch{}try{let e=Rs("resize",["-u"]).match(/\d+/g);if(e.length===2)return sr(e[0],e[1])}catch{}if(ql.env.TERM)try{let e=Rs("tput",["cols"]),t=Rs("tput",["lines"]);if(e&&t)return sr(e,t)}catch{}}return sr(80,24)}c();var nl=()=>({json:{assets:!0,config:!0,locales:!0,metafields:!0,metaobject:!0,groups:!0,templates:!0,exclude:[]},script:{minifySyntax:!0,minifyIdentifiers:!0,minifyWhitespace:!0,mangleProps:void 0,legalComments:"none",mangleQuoted:!1,keepNames:!1,exclude:[]},liquid:{minifyJavascript:!1,minifyStylesheet:!1,minifyStyle:!0,minifySchema:!0,removeComments:!0,collapseInner:!1,collapseWhitespace:!0,stripDashes:!0,exclude:[]},style:{exclude:[],format:!1,inline:!1,purgeUnusedCSS:!1,obfuscateAlphabet:"abcefghijklmnopqrstuvwxyz0123456789",obfuscateClassNames:!1,obfuscateWhitelist:[]},markup:{caseSensitive:!1,collapseBooleanAttributes:!1,collapseInlineTagWhitespace:!1,conservativeCollapse:!1,keepClosingSlash:!1,noNewlinesBeforeTagClose:!1,preventAttributesEscaping:!1,removeEmptyAttributes:!1,removeEmptyElements:!1,removeOptionalTags:!1,removeRedundantAttributes:!1,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,useShortDoctype:!1,collapseWhitespace:!0,continueOnParseError:!0,removeComments:!0,minifyCSS:!0,minifyJS:!0,trimCustomFragments:!1,ignoreCustomFragments:[/(?<=\bstyle\b=["']\s?)[\s\S]*?(?="[\s\n>]?)/,/<style[\s\S]*?<\/style>/,/<script[\s\S]*?<\/script>/,/{%[\s\S]*?%}/]}});c();var sl=()=>({input:"source",output:"theme",import:"import",export:"export",config:".",hot:!1,stores:null,publish:{bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80},spawn:{build:null,watch:null},log:{clear:!0,silent:!1,stats:!0,warnings:!0},paths:{assets:"assets/*",config:"config/*.json",layout:"layout/*.liquid",locales:"locales/*.json",metafields:"metafields/**/*.json",redirects:"redirects.yaml",schema:"schema/*.json",snippets:"snippets/**/*.liquid",metaobject:"templates/metaobject/*",sections:["sections/**/*.json","sections/**/*.liquid"],pages:"pages/*",templates:"templates/*",customers:"templates/customers/*"},views:{sections:{prefixDir:!1,separator:"-",global:[]},snippets:{prefixDir:!1,separator:"-",global:[]},pages:{author:"",safeSync:!0,language:"html",suffixDir:!1,global:[]}},transform:{svg:null,style:null,script:null},terser:{json:!1,markup:!1,liquid:!1,script:!1}});c();var il=()=>({json:{indent:2,useTab:!1,crlf:!1,exclude:null},postcss:{installed:!1,loaded:!1,file:!1,config:[]},sass:{installed:!1,loaded:!1,file:!1,config:{warnings:!0,style:"compressed",sourcemap:!0,quietDeps:!1,include:["node_modules"]}},esbuild:{installed:!1,loaded:!1,file:!1,config:{bundle:!0,format:"esm",globalName:void 0,target:"es2016",metafile:!0,external:[],platform:"browser",splitting:!1,sourcemap:"linked",write:!1,logLevel:"silent",plugins:[]}},sharp:{installed:!1,required:!1,loaded:!1,file:!1,config:{}},sprite:{installed:!1,loaded:!1,file:!1,config:{mode:{inline:!0,symbol:{example:!1}},shape:{transform:["svgo"],id:{generator:"svg-%s"}},svg:{xmlDeclaration:!1,doctypeDeclaration:!1,dimensionAttributes:!1,namespaceClassnames:!1,namespaceIDs:!1}}},svgo:{installed:!1,loaded:!1,file:!1,config:{multipass:!0,datauri:"enc",js2svg:{indent:2,pretty:!0},plugins:["preset-default"]}}});c();var ol=()=>({onBuild:[],onChange:[],onReload:[],onTransform:[],onWatch:[]});function VD(){let e=S();for(let t of Cr)e[t]=S({input:null,match:null});return e.transforms=new Map,e}var i=new class Ve{static defaults=sl();static plugins=ol();static terser=nl();static processor=il();static package=S();static cache=S();static watch=new Set;process;restart=!1;cli=S();wss=null;stats=S();filters=S();commands=S();version="undefined";cwd=null;argv=ql.argv.slice(2).join(" ");errors=new Set;warnings=S();publish=S({ngrok:null,bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80});vc=S({dir:null,number:null,zip:null,patch:0,major:0,minor:0,update:null});env=S({cli:!1,tree:!1,dev:!0,prod:!1,ready:!1,sync:0,file:null,vars:{}});hot=S({inject:!0,server:3e3,socket:8089,history:!1,method:"hot",strategy:"hydrate",scroll:"preserved",layouts:["theme.liquid"],label:"visible",snippet:null,output:null,alive:{},renderer:"{% render 'hot.js'"+["","server: 3000","socket: 8089",'strategy: "hydrate"','scroll: "preserved"','label: "visible"',"history: false",'method: "hot"'].join(", ")+" %}"});log=S({idle:!1,group:"Syncify",title:"",uri:"",listen:null,thrown:null,queue:new Set,changes:S(),config:S({clear:!0,silent:!1,stats:!0,warnings:!0})});mode=S({build:!1,interactive:!1,dev:!0,prod:!1,watch:!1,clean:!1,cache:!1,setup:!1,upload:!1,import:!1,metafields:!1,terse:!1,hot:!1,pages:!1,pull:!1,force:!1,views:!1,script:!1,image:!1,style:!1,svg:!1,redirects:!1,export:!1,release:!1,publish:!1,themes:!1});file=S({base:null,path:null,relative:null});files=new Map;dirs=S();cmd=S({config:null,delete:null,filter:null,input:null,output:null});stores=[];sync=S({themes:[],stores:[]});spawn=S({paths:new Set,streams:new Map,invoked:!1,commands:S()});section=S({prefixDir:!1,separator:"-",global:null,baseDir:new Set,schema:null,shared:new Map});snippet=S({prefixDir:!1,separator:"-",global:null,baseDir:new Set});paths=VD();page=S({safeSync:!0,author:"",global:null,suffixDir:!1,language:"html",export:S({quotes:"\u201C\u201D\u2018\u2019",html:!0,linkify:!1,typographer:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-"}),import:S({codeBlockStyle:"fenced",emDelimiter:"_",fence:"```",headingStyle:"atx",hr:"---",linkReferenceStyle:"full",linkStyle:"inlined",strongDelimiter:"**",bulletListMarker:"-"})});script=[];style=[];svg=[];image;terse=S({json:!1,liquid:!1,markup:!1,style:!1,script:!1});get watch(){return Ve.watch}set watch(t){Ve.watch=t;}get cache(){return Ve.cache}set cache(t){Ve.cache=t;}get terser(){return Ve.terser}set terser(t){Ve.terser=ge(Ve.terser,t);}get processor(){return Ve.processor}set config(t){Ve.defaults=ge(Ve.defaults,t);}get config(){return Ve.defaults}set pkg(t){Ve.package=t;}get pkg(){return Ve.package}get plugins(){return Ve.plugins}get terminal(){return rl()}};c();c();var zr=class{constructor({base:t,dir:n,ext:r,name:s,root:o}){this.base=t,this.dir=n,this.ext=r,this.name=s,this.root=o;}data=void 0;uuid;type;resource;root;dir;name;ext;base;relative;key;namespace;kind;input;output;size};c();c();c();c();c();c();c();c();function xo({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var JD=xo();function Sr(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(JD,"")}var fl=yt(al(),1),pl=yt(cl(),1);function $r(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=Sr(e),e.length===0))return 0;e=e.replace((0, pl.default)(),"  ");let n=t.ambiguousIsNarrow?1:2,r=0;for(let s of e){let o=s.codePointAt(0);if(o<=31||o>=127&&o<=159||o>=768&&o<=879)continue;switch(fl.default.eastAsianWidth(s)){case"F":case"W":r+=2;break;case"A":r+=n;break;default:r+=1;}}return r}c();var ml=(e=0)=>t=>`\x1B[${t+e}m`,Dl=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,dl=(e=0)=>(t,n,r)=>`\x1B[${38+e};2;${t};${n};${r}m`,we={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(we.modifier);var HD=Object.keys(we.color),YD=Object.keys(we.bgColor);[...HD,...YD];function QD(){let e=new Map;for(let[t,n]of Object.entries(we)){for(let[r,s]of Object.entries(n))we[r]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[r]=we[r],e.set(s[0],s[1]);Object.defineProperty(we,t,{value:n,enumerable:!1});}return Object.defineProperty(we,"codes",{value:e,enumerable:!1}),we.color.close="\x1B[39m",we.bgColor.close="\x1B[49m",we.color.ansi=ml(),we.color.ansi256=Dl(),we.color.ansi16m=dl(),we.bgColor.ansi=ml(10),we.bgColor.ansi256=Dl(10),we.bgColor.ansi16m=dl(10),Object.defineProperties(we,{rgbToAnsi256:{value:(t,n,r)=>t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:t=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!n)return [0,0,0];let[r]=n;r.length===3&&(r=[...r].map(o=>o+o).join(""));let s=Number.parseInt(r,16);return [s>>16&255,s>>8&255,s&255]},enumerable:!1},hexToAnsi256:{value:t=>we.rgbToAnsi256(...we.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let n,r,s;if(t>=232)n=((t-232)*10+8)/255,r=n,s=n;else {t-=16;let a=t%36;n=Math.floor(t/36)/5,r=Math.floor(a/6)/5,s=a%6/5;}let o=Math.max(n,r,s)*2;if(o===0)return 30;let u=30+(Math.round(s)<<2|Math.round(r)<<1|Math.round(n));return o===2&&(u+=60),u},enumerable:!1},rgbToAnsi:{value:(t,n,r)=>we.ansi256ToAnsi(we.rgbToAnsi256(t,n,r)),enumerable:!1},hexToAnsi:{value:t=>we.ansi256ToAnsi(we.hexToAnsi256(t)),enumerable:!1}}),we}var KD=QD(),$n=KD;var Ps=new Set(["\x1B","\x9B"]),XD=39,Co="\x07",yl="[",ZD="]",bl="m",vo=`${ZD}8;;`,gl=e=>`${Ps.values().next().value}${yl}${e}${bl}`,hl=e=>`${Ps.values().next().value}${vo}${e}${Co}`,ed=e=>e.split(" ").map(t=>$r(t)),wo=(e,t,n)=>{let r=[...t],s=!1,o=!1,u=$r(Sr(e[e.length-1]));for(let[a,l]of r.entries()){let p=$r(l);if(u+p<=n?e[e.length-1]+=l:(e.push(l),u=0),Ps.has(l)&&(s=!0,o=r.slice(a+1).join("").startsWith(vo)),s){o?l===Co&&(s=!1,o=!1):l===bl&&(s=!1);continue}u+=p,u===n&&a<r.length-1&&(e.push(""),u=0);}!u&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop());},td=e=>{let t=e.split(" "),n=t.length;for(;n>0&&!($r(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},rd=(e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return "";let r="",s,o,u=ed(e),a=[""];for(let[p,f]of e.split(" ").entries()){n.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let m=$r(a[a.length-1]);if(p!==0&&(m>=t&&(n.wordWrap===!1||n.trim===!1)&&(a.push(""),m=0),(m>0||n.trim===!1)&&(a[a.length-1]+=" ",m++)),n.hard&&u[p]>t){let d=t-m,y=1+Math.floor((u[p]-d-1)/t);Math.floor((u[p]-1)/t)<y&&a.push(""),wo(a,f,t);continue}if(m+u[p]>t&&m>0&&u[p]>0){if(n.wordWrap===!1&&m<t){wo(a,f,t);continue}a.push("");}if(m+u[p]>t&&n.wordWrap===!1){wo(a,f,t);continue}a[a.length-1]+=f;}n.trim!==!1&&(a=a.map(p=>td(p)));let l=[...a.join(`
`)];for(let[p,f]of l.entries()){if(r+=f,Ps.has(f)){let{groups:d}=new RegExp(`(?:\\${yl}(?<code>\\d+)m|\\${vo}(?<uri>.*)${Co})`).exec(l.slice(p).join(""))||{groups:{}};if(d.code!==void 0){let y=Number.parseFloat(d.code);s=y===XD?void 0:y;}else d.uri!==void 0&&(o=d.uri.length===0?void 0:d.uri);}let m=$n.codes.get(Number(s));l[p+1]===`
`?(o&&(r+=hl("")),s&&m&&(r+=gl(m))):f===`
`&&(s&&m&&(r+=gl(s)),o&&(r+=hl(o)));}return r};function or(e,t,n){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>rd(r,t,n)).join(`
`)}c();c();function Eo(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}c();var sd=()=>nd__default.default.homedir().replace(/\\/g,"/"),xl=sd;var Fl=/\s+at.*[(\s](.*)\)?/,wl=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/;function Bn(e,{pretty:t=!1,basePath:n,pathFilter:r}={}){let s=n&&new RegExp(`(file://)?${Eo(n.replace(/\\/g,"/"))}/?`,"g"),o=t?xl():"";if(typeof e=="string")return e.replace(/\\/g,"/").split(`
`).filter(u=>{let a=u.match(Fl);if(a===null||!a[1])return !0;let l=a[1];return l.includes(".app/Contents/Resources/electron.asar")||l.includes(".app/Contents/Resources/default_app.asar")||l.includes("node_modules/electron/dist/resources/electron.asar")||l.includes("node_modules/electron/dist/resources/default_app.asar")?!1:r?!wl.test(l)&&r(l):!wl.test(l)}).filter(u=>u.trim()!=="").map(u=>(s&&(u=u.replace(s,"")),t&&(u=u.replace(Fl,(a,l)=>a.replace(l,l.replace(o,"~")))),u)).join(`
`)}function L(e,...t){let n=e.length>9?"  ":" ".repeat(11-e.length),r=t.length>0?t.length===1?_+"  "+t[0]:t.length===2?_+"  "+t[0]+" "+_+" "+t[1]:_+"  "+t[0]+" "+_+" "+t[1]+" "+xe(t[2]):"";return e+n+r}function xe(e){return e?G+" "+Qe.gray(e):""}function $o(e,t,{spaced:n=!1}={}){let r=n?" ":"";switch(e){case"AN":return Bs+r+t+r+As;case"CB":return za+r+t+r+Ga;case"PR":return Ss+r+t+r+$s;case"SB":return Ua+r+t+r+Va}}var Br=S({warning:xt(` ${G} Type ${h("w")} and press ${h("enter")} to view`),error:H(` ${G} Type ${h("v")} and press ${h("enter")} to view`),stack:D(`Type ${h("s")} and press ${h("enter")} to view stack trace`)});function Cl(e=i.terminal.wrap,t=!0){let n="\u251C"+"\u2500".repeat(e-10);return t?`${I.open}
${n}
\u2502${I.close}`:`${I.open}${n}${I.close}`}function Ln(e){return F.open+Qe.gray(`${e} ~ ${qr()}`)}function An(...e){let t=S({color:null,line:F.line}),n,r="";for($(e[0])?(T(e[1])&&J(t,e[1]),n=or(e[0].join(" "),i.terminal.wrap).split(`
`)):(T(e[e.length-1])&&J(t,e.pop()),n=or(e.join(" "),i.terminal.wrap).split(`
`));n.length!==0;){let s=n.shift().trim();s.length>0?r+=t.line+(t.color?t.color(s):s)+`
`:r+=t.line+`
`;}return r.trimEnd()}function Ot(e){return F.trim+`
`+F.line+e+`
`+F.trim}function Q(e){return F.line+e}function Tn(e){return F.red+e}function ur(e){return F.yellow+e}function vl(e){return F.trim+`
`+F.line+e}function El(e){return F.line+e+`
`+F.line}function Bo(e){return F.dash+e}function kn(e){return F.base+Qe.gray(`${e} ~ ${qr()}`)+`
`}function Ao(e){let t=ot(e.entries),n=W({type:e.type||"error"});if(R(e.stack)){let r=e.cleanStack?Bn(e.stack,{pretty:!0,basePath:i.cwd}):e.stack;n.Wrap(r.split(`
`),D).NL.Newline();}for(let r in e.entries){if(de(e.entries[r]))continue;let s;if(pt(e.entries[r])){if(yo(e.entries[r]))continue;s=wt(De(e.entries[r]));}else s=De(e.entries[r]);if(s.length===0)continue;let o=e.type==="warning"?Y(r):X(r);r==="source"||r==="output"||r==="input"||r==="file"?n.Line(o+B+" "+t(r)+Rt(s),D):n.Line(o+B+" "+t(r)+s,D);}return e.stack===!0&&n.NL.Line(Br.stack),n.toString()}var So=class{type="info";line;trim;text;constructor(t){if(T(t)){let n=be(t);this.type=n("type")?t.type:"info",this.text=n("text")?t.text:[],this.type==="error"?(this.line=F.red,this.trim=F.redTrim):this.type==="warning"?(this.line=F.yellow,this.trim=F.yellowTrim):this.type==="nil"?(this.line="",this.trim=""):(this.line=F.line,this.trim=F.trim);}else this.line=F.line,this.trim=F.trim,this.text=[];}toRaw(){return this.text}toLine(t){if(this.text.length===0)return "";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let n;return t?n=t(ne(this.text)):this.type==="info"?n=w(ne(this.text)):this.type==="error"?n=H(ne(this.text)):this.type==="warning"?n=Y(ne(this.text)):n=ne(this.text),this.text=[],n+`
`+this.trim}toString(t){if(this.text.length===0)return "";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let n;return t?n=t(ne(this.text)):this.type==="info"?n=w(ne(this.text)):this.type==="error"?n=H(ne(this.text)):this.type==="warning"?n=Y(ne(this.text)):n=ne(this.text),this.text=[],n}Get(t=this.text.length-1){return this.text[t]}Remove(t){return this.text.splice(t,1),this}Replace(t,n,r){return this.text[t]&&(this.text[t]=this.line+(r?r(n):n)+`
`),this}Ruler(t=i.terminal.wrap){return this.text.push(F.trim+`
`+I(`\u251C${"\u2500".repeat(t)}`)+`
`+F.trim+`
`),this}get NL(){return this.text.push(this.trim+`
`),this}get BR(){return this.text.push(`
`),this}Pop(){return this.text.pop(),this}Newline(t,n){if(pt(t)){let r=this.trim+`
`;n&&(n==="yellow"?r=F.yellowTrim+`
`:n==="red"?r=F.redTrim+`
`:n===""&&(r=`
`));for(let s=0;s<t;s++)this.text.push(r);}else t===""?this.text.push(`
`):t==="line"?this.text.push(F.trim+`
`):t==="yellow"?this.text.push(F.yellowTrim+`
`):t==="red"?this.text.push(F.redTrim+`
`):this.text.push(this.trim+`
`);return this}Inline(t,n){let r=this.text.length;return r>0?this.text[r-1]=this.text[r-1].trimEnd()+" "+(n?n(t):t)+`
`:this.text.push(this.line+(n?n(t):t)+`
`),this}Trim(t,n){return this.text.push(this.line+(n?n(t):t)+`
`),this}Insert(t,n){return this.text.push((n?n(t):t)+`
`),this}Line(t,n){return this.type==="error"?this.Error(t,n):this.type==="warning"?this.Warn(t,n):(this.text.push(this.line+(n?n(t):t)+`
`),this)}Error(t,n){return this.text.push(F.red+(n?n(t):H(t))+`
`),this}Warn(t,n){return this.text.push(F.yellow+(n?n(t):xt(t))+`
`),this}Break(t,n){return this.text.push(this.trim+`
`+this.line+(n?n(t):t)+`
`+this.trim+`
`),this}Top(t){return this.text.push(Ln(t)+`
`),this}End(t){return this.text.push(kn(t)),this}Context(t){return this.text.push(Ao(t)+`
`),this}Dash(t,n){return this.text.push(F.dash+(n?n(t):t)+`
`),this}Multiline(t){let n=$(t)?t:t.split(`
`);for(;n.length!==0;)this.text.push(this.line+n.shift()+`
`);return this}Wrap(...t){let n=S({line:this.line});return this.type==="error"?n.color=H:this.type==="warning"?n.color=xt:n.color=k,$(t[0])?(Ie(t[1])&&(n.color=t.pop()),this.text.push(An(t[0],n)+`
`)):(Ie(t[t.length-1])&&(n.color=t.pop()),this.text.push(An(t,n)+`
`)),this}};function W(e){return i.env.tree===!1&&(T(e)?e.type="nil":e=S({type:"nil"})),new So(e)}function To(e,{type:t="info"}={}){let n=W({type:t}),r=$(e)?e:e.split(`
`),s=t==="error"?"red":t==="warn"?"yellow":"line";for(;r.length!==0;){let o=r.shift();o.trim().length>0?n.Line(o.trimEnd()):n.Newline(s);}return n.Newline(s).toString()}function Nn(e){let t=ot(e.entries),n=x("message",e);x("warning",e)||(e.warning=!1),n||(e.warning===!1?e.message=W({type:"error"}).NL:e.message=W({type:"warn"}).NL);for(let r in e.entries){let s=De(e.entries[r]);r==="source"||r==="output"||r==="input"||r==="file"?e.message.Line(w(r)+B+t(r)+G+Rt(s),D):e.message.Line(w(r)+B+t(r)+s,D);}return R(e.stack)&&(e.warning===!1&&i.errors.add(e.stack),e.message.Break(Br.stack)),e.message.toLine()}function Sl(e,{line:t=F.line,span:n=null}={}){if(t==="red"?t=F.red:t==="yellow"&&(t=F.yellow),n!==null){let r=x("end",n)?n.end:n.start+1;return t+`
`+[t+A(`${n.start-1}`)+B,t+A(`${n.start}`)+B+e,t+A(`${r}`)+B].join(`
`)}return t+`
`+t+e}function $l(e,{type:t="info",color:n=w}={}){let r=t==="error"?"red":t==="warn"?"yellow":"line";return W({type:t}).Newline(r).Wrap(e,n).toLine()}c();c();c();var pe="\x1B[",Rn="\x1B]",Gr="\x07",Os=";",Bl=process.env.TERM_PROGRAM==="Apple_Terminal",se={};se.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?pe+(e+1)+"G":pe+(t+1)+";"+(e+1)+"H"};se.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let n="";return e<0?n+=pe+-e+"D":e>0&&(n+=pe+e+"C"),t<0?n+=pe+-t+"A":t>0&&(n+=pe+t+"B"),n};se.cursorUp=(e=1)=>pe+e+"A";se.cursorDown=(e=1)=>pe+e+"B";se.cursorForward=(e=1)=>pe+e+"C";se.cursorBackward=(e=1)=>pe+e+"D";se.cursorLeft=pe+"G";se.cursorSavePosition=Bl?"\x1B7":pe+"s";se.cursorRestorePosition=Bl?"\x1B8":pe+"u";se.cursorGetPosition=pe+"6n";se.cursorNextLine=pe+"E";se.cursorPrevLine=pe+"F";se.cursorHide=pe+"?25l";se.cursorShow=pe+"?25h";se.eraseLines=e=>{let t="";for(let n=0;n<e;n++)t+=se.eraseLine+(n<e-1?se.cursorUp():"");return e&&(t+=se.cursorLeft),t};se.eraseEndLine=pe+"K";se.eraseStartLine=pe+"1K";se.eraseLine=pe+"2K";se.eraseDown=pe+"J";se.eraseUp=pe+"1J";se.eraseScreen=pe+"2J";se.scrollUp=pe+"S";se.scrollDown=pe+"T";se.clearScreen="\x1Bc";se.clearTerminal=process.platform==="win32"?`${se.eraseScreen}${pe}0f`:`${se.eraseScreen}${pe}3J${pe}H`;se.beep=Gr;se.link=(e,t)=>[Rn,"8",Os,Os,t,Gr,e,Rn,"8",Os,Os,Gr].join("");se.image=(e,t={})=>{let n=`${Rn}1337;File=inline=1`;return t.width&&(n+=`;width=${t.width}`),t.height&&(n+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+e.toString("base64")+Gr};se.iTerm={setCwd:(e=process.cwd())=>`${Rn}50;CurrentDir=${e}${Gr}`,annotation:(e,t={})=>{let n=`${Rn}1337;`,r=typeof t.x<"u",s=typeof t.y<"u";if((r||s)&&!(r&&s&&typeof t.length<"u"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),n+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?n+=(r?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):n+=e,n+Gr}};var ko=se;c();c();var Il=yt(kl(),1),Ml=yt(jl(),1);var ud=(0, Il.default)(()=>{(0, Ml.default)(()=>{ql__default.default.stderr.write("\x1B[?25h");},{alwaysLast:!0});}),Wl=ud;var zs=!1,Hr={};Hr.show=(e=ql__default.default.stderr)=>{e.isTTY&&(zs=!1,e.write("\x1B[?25h"));};Hr.hide=(e=ql__default.default.stderr)=>{e.isTTY&&(Wl(),zs=!0,e.write("\x1B[?25l"));};Hr.toggle=(e,t)=>{e!==void 0&&(zs=e),zs?Hr.show(t):Hr.hide(t);};var Oo=Hr;c();c();function _o(e){return Number.isInteger(e)?e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141):!1}var ad=/^[\uD800-\uDBFF][\uDC00-\uDFFF]$/,Gl=["\x1B","\x9B"],Gs=e=>`${Gl[0]}[${e}m`,zl=(e,t,n)=>{let r=[];e=[...e];for(let s of e){let o=s;s.includes(";")&&(s=s.split(";")[0][0]+"0");let u=$n.codes.get(Number.parseInt(s,10));if(u){let a=e.indexOf(u.toString());a===-1?r.push(Gs(t?u:o)):e.splice(a,1);}else if(t){r.push(Gs(0));break}else r.push(Gs(o));}if(t&&(r=r.filter((s,o)=>r.indexOf(s)===o),n!==void 0)){let s=Gs($n.codes.get(Number.parseInt(n,10)));r=r.reduce((o,u)=>u===s?[u,...o]:[...o,u],[]);}return r.join("")};function jo(e,t,n){let r=[...e],s=[],o=typeof n=="number"?n:r.length,u=!1,a,l=0,p="";for(let[f,m]of r.entries()){let d=!1;if(Gl.includes(m)){let y=/\d[^m]*/.exec(e.slice(f,f+18));a=y&&y.length>0?y[0]:void 0,l<o&&(u=!0,a!==void 0&&s.push(a));}else u&&m==="m"&&(u=!1,d=!0);if(!u&&!d&&l++,!ad.test(m)&&_o(m.codePointAt())&&(l++,typeof n!="number"&&o++),l>t&&l<=o)p+=m;else if(l===t&&!u&&a!==void 0)p=zl(s);else if(l>=o){p+=zl(s,!0,a);break}}return p}var ld=24,Us=e=>{let{columns:t}=e;return t||80},cd=(e,t)=>{let n=e.rows||ld,r=t.split(`
`),s=r.length-n;return s<=0?t:jo(t,Sr(r.slice(0,s).join(`
`)).length+1)};function Vl(e,{showCursor:t=!1}={}){let n=0,r=Us(e),s="",o=(...u)=>{t||Oo.hide();let a=u.join(" ")+`
`;a=cd(e,a);let l=Us(e);a===s&&r===l||(s=a,r=l,a=or(a,l,{trim:!1,hard:!0,wordWrap:!1}),e.write(ko.eraseLines(n)+a),n=a.split(`
`).length);};return o.clear=()=>{e.write(ko.eraseLines(n)),s="",r=Us(e),n=0;},o.done=()=>{s="",r=Us(e),n=0,t||Oo.show();},o}var fd=Vl(ql__default.default.stdout),ie=fd;Vl(ql__default.default.stderr);function Jl(){let e,t=!1,n="",r=!0,s=S({arrows:S({interval:120,frames:["\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B8"]}),brielle:S({interval:50,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]}),spinning:S({interval:60,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]})}),o=S({label:"",line:!0,color:null,style:"brielle",action:null}),u=function(l,p){let f=S(o);T(l)?f=J(f,l):R(l)&&(f.label=l,T(p)&&(f=J(f,p))),t=!0,r=f.line;let m,d=0,y,b=0;f.action!==null?(f.style="arrows",m=x("color",f.action)?f.action.color:ce,y=s.arrows.frames,b=y.length):(m=Ie(f.color)?f.color:Ft,n=f.label,y=s[f.style].frames,b=y.length),ie.done(),e=setInterval(()=>{if(!t)return;let E;if(f.action!==null){let q=re(h(f.action.before),y[d=++d%b],f.action.after);E=m(n!==""?L(n,q):q);}else E=m(re(y[d=++d%b],n));ie(f.line?Ot(E):E);},s[f.style].interval);};return u.update=function(a){n=a;},u.stop=function(a){t!==!1&&(t=!1,a?(ie(r?Ot(a):a),ie.done()):ie.clear(),clearInterval(e),e=void 0,n="");},it(u,"active",{get(){return t}}),u}var Se={};cD(Se,{esbuild:()=>Wo,json:()=>ar,postcss:()=>qo,read:()=>Dd,request:()=>mt,sass:()=>Mo,spawn:()=>Io,throws:()=>et,write:()=>Te});c();c();function Hl(e){return X(e.replace(/('[{}_\w\s.-]*?'|"[\w\s.-]*?")/g,We("$1")).replace(/({{2}-?[a-zA-Z0-9_\-.'"[\]]+-?}{2})/g,Er("$1")).replace(/((?:www|http:|https:)+[^\s]+[\w])/g,Rt("$1")).replace(/(\/)(.*?)(\/)/g,Er("$1")+Z("$2")+Er("$3")).replace(/(\\)(\W)/g,D("$1")+Z("$2")).replace(/(:)(?= )/g,D("$1")).replace(/(?<=Filename\s)([\w._-]+)(?=\salready)/,Z.bold("$1")))}function Yl(e){return e.replace(/({%|{%-}|-%}|%}|{{|{{-|}}|-}}|<\/?|>|:|,)/g,Z("$1")).replace(/(['"].*?['"])/g,D("$1"))}function pd(e){let t="",n=e.indexOf("- Valid syntax:");return n>-1?(t=`
`+e.slice(n).slice(1).replace(/(Valid syntax)(:)(.*)/,X("$1")+D("$2")+Er("$3")),e.slice(0,n)+t):e}function Ql(e,t){let n=[],r=/\(line \d+\):/,s=/'(.*?)'/,o="  ",u=i.terminal.cols-10,a=NaN,l=NaN,p=0;R(e);let f=[];for(let m=0,d=e.length;m<d;m++){let y=e[m];if(r.test(y)){let b=y.indexOf("):"),E=y.indexOf("(line");if(b>-1&&E>-1&&(n.unshift(ne(F.red,H.bold(y.slice(0,b+2)),`
`,F.redTrim)),a=Number(y.slice(E+6,b)),p=De(a).length+3,y=pd(y.slice(b+2)),n.push(ne(Hl(An(y,{line:F.red,color:X})),`
`,F.redTrim,`
`,F.redTrim)),t.length>1)){let q=ne(F.redTrim," ".repeat(p-De(a-1).length),A(`${a-1}`)," ",F.trim),z=ne(F.redTrim," ",H.bold(">")," ",A(`${a}`)," ",F.trim),fe="",ee=t[a-1].replace(/\t/g,"  ").trimEnd(),oe=ee.match(/^\s*/)[0];s.test(y)&&(fe=y.match(s)[1],l=t[a-1].indexOf(fe),l<0&&(l=NaN));let ve=t[a-2].replace(/\t/g,"  ").trimEnd(),At=ve.match(/^\s*/)[0].length;oe.length===At?(ve="  "+ve.trimStart(),o="  "):oe.length<At?(ve="    "+ve.trimStart(),o="  "):(ve="  "+ve.trimStart(),o="    "),ve.length>u&&(ve=ve.slice(0,u-3)+"..."),f.push(q+D(ve)),ee=o+ee.trimStart(),ee.length>u&&(ee=ee.slice(0,u-3)+"..."),isNaN(l)?f.push(ne(z,w(Yl(ee)),`
`,F.redTrim)):f.push(z+w(Yl(ee)),ne(F.redTrim," ".repeat(p-1),nr," ",F.redTrim," ".repeat(ee.indexOf(fe)),X("^".repeat(fe.length)),`
`+F.redTrim));}}else n.push(Hl(An(y,{line:F.red,color:X})));}return {line:a,column:l,output:n.join(`
`)+`
`+f.join(`
`)}}function Io(e){let t=e.split(`
`).reduce((s,o)=>{let u=Ha(o),a="",l="";if(u!==!1)if(u.length>2){let f=Ja(u,u.length/2);a=ne(f[0]),l=ne(f[1]||"");}else a=u[0],l=u[1]||"";let p=o.trim().replace(new RegExp(i.cwd,"g"),"");if(p.length===0)s.push([F.trim]);else {let f=[],m=or(p,i.terminal.wrap,{hard:!0}).split(`
`);for(;m.length!==0;){let d=m.shift();m.length!==0&&m[0].length===1&&(d=d+m.shift()),f.push(F.line+a+d+l);}s.push(f);}return s},[]),n=[],r=!1;for(;t.length!==0;){let s=t.shift();t.length!==0&&s.length>1?(n.length>0&&n[n.length-1]!==F.trim&&n.push(F.trim),n.push(s.join(`
`))):s===F.trim?r?r=!1:(r=!0,n.push(s[0])):n.push(s[0]);}ie(n.join(`
`));}function mt(e,t,n){let r=S({log:!0,store:!1}),s=J(r,n);s.store===!0&&(s.data=S());let o=ct("error.asset",t.data)?t.data.error.asset:ct("errors.asset",t.data)?t.data.errors.asset:null;if(t.status===422){let{value:p}=JSON.parse(t.config.data).asset,{output:f,line:m,column:d}=Ql(o,p.split(`
`)),y=S({stack:!1,entries:S({column:d,line:m,file:G+e,details:t.statusText,status:w(De(t.status)),processor:Mr("SHOPIFY API")})}),b=W({type:"error"}).NL.Insert(f,D).NL.Context(y).toString();return s.store&&(s.data.message=f,s.data.rawMessage=Wa(f),s.data.context=y),s.log&&ae(b),s.store?s.data:b}if(t.status in ao){let p=W({type:"error"}).NL.Wrap(ao[t.status]).toLine(),f=S({stack:!1,entries:S({status:t.status,message:t.statusText,source:`${e}`})});s.store&&(s.data.message=p,s.data.context=f);let m=ne(F.red,`
`,p,Nn(f));return s.log&&ae(m),s.store?s.data:m}let u=H("Unknown error has occured"),a={stack:!1,entries:{status:t.status,message:t.statusText,source:`${e}`}};s.store&&(s.data.message=u,s.data.context=a);let l=ne(F.red,`
`,u,Nn({stack:!1,entries:S({status:t.status,message:t.statusText,source:`${e}`})}));return s.log&&ae(l),s.store?s.data:l}function et(e,t){let n={stack:!1,entries:{...t}},r=e instanceof Error?x("message",e)?e.message:e.toString():e;x("stack",e)&&(n.stack=e.stack),x("code",e)&&(n.entries.code=e.code),x("name",e)&&(n.entries.name=e.name),ae(ne(To(r,{type:"error"}),Nn(n))),n.stack===!1&&process.exit(0);}var Te=(e,t)=>n=>{ae(ne(To(n.message,{type:"error"}),Nn({stack:n.stack,entries:{...t,code:n.code,name:n.name,details:e}})));};function Dd(e,t){let n=W({type:"error"}).Break("FILE ERROR");return function(r){ae(n.Wrap(r.message).Newline().Context({stack:r.stack,entries:{code:r.code,details:e,...t,name:r.name}}).toLine());}}function ar(e,t){e.fileName=t.base;let n=S(),r,s=W({type:"error"}).NL.Wrap(e.message.split(`
`)[0],H.bold).NL;if(x("codeFrame",e)){s.Newline();let a=e.codeFrame.split(`
`),l=e.rawCodeFrame.split(`
`),p=0;for(;a.length!==0;){if(x("line",n)===!1){let f=l[p].trimStart();if(f[0]===">"){let m=f.slice(1).trimStart().match(/^\d+/);m!==null&&(r=Number(m[0]));}}s.Line(a.shift()),p=p+1;}s.Newline();}let o=[],u=e.stack.split(`
`);for(;u.length!==0;)o.push(F.red+u.shift());i.errors.add(o.join(`
`)),ae(s.NL.Context({stack:!0,entries:{line:r,name:e.name,file:G+t.relative,processor:Mr("JSON")}}).toString());}function Mo(e,t){let n=W({type:"error"}).NL.Wrap(t.sassMessage,H.bold).Newline();if(x("span",t)){let{span:r}=t,s=x("context",r)?r.context:r.text;if(s.length===0)return "";n.Newline();let{start:o,end:u}=r,a=De(u.line+1).length;if(o.line===u.line){let l=a-De(u.line).length;o.line>1&&n.Line(`${" ".repeat(l)+A(`${u.line}`)} ${F.trim}`),l=a-De(u.line+1).length,n.Line(`${" ".repeat(l)+A(`${u.line+1}`)} ${F.trim} ${s.trimEnd()}`),n.Line(`${" ".repeat(a-1)+nr} ${F.redTrim} ${" ".repeat(u.column)+h("^")}`);}else {let p=s.slice(r.start.offset,r.end.offset).split(`
`),f=r.start.line+1;for(let m of p){let d=De(f++),y=a-d.length,b=y===0?"":" ".repeat(y);n.Line(`${b+A(d)} ${F.trim} ${m}`);}}}ae(n.NL.Context({stack:t.sassStack,entries:{line:t.span.start.line,name:t.name,input:e.input,cause:t.cause,processor:Mr("SASS Dart")}}).toString());}function Wo(e){let t=W({type:"error"}).NL.Wrap(e.text,H.bold).Newline(),n=e.location,r=De(n.line).length,s=r-De(e.location.line).length;n.line>1&&t.Line(`${" ".repeat(s)+A(`${n.line-1}`)} ${F.trim}`),s=r-De(n.line).length,ae(t.Line(`${" ".repeat(s)+A(`${n.line}`)} ${F.trim} ${n.lineText}`).Line(`${" ".repeat(r-1)+nr} ${F.redTrim} ${" ".repeat(n.column)+h("^")}`).NL.NL.Context({stack:!1,entries:{suggest:k(n.suggestion),line:e.location.line,column:e.location.column,plugin:e.pluginName,namespace:n.namespace,file:G+e.location.file,processor:Mr("ESBuild")}}).toString());}function qo(e,t){let n=[],r=Bn(t.stack,{pretty:!0,basePath:i.cwd}).split(`
`);for(;r.length!==0;)n.push(F.red+r.shift());i.errors.add(n.join(`
`)),ae(W({type:"error"}).NL.Wrap(`${t.name}${B} ${t.reason}`,H.bold).Newline().Multiline(t.showSourceCode(!0)).NL.NL.Context({stack:!0,entries:{line:t.line,column:t.column,source:e.input,file:e.input===t.file?void 0:t.file,plugin:A(t.plugin),processor:Mr("PostCSS")}}).toString());}c();var Kl=yt(mo());function On(e,t={}){let n=J({showPercentage:!0,barColor:"neonGreen",percentColor:"whiteBright",barSize:40,clearOnComplete:!1},t),r=0;function s(f){return F.line+f+" ".repeat(Math.max(0,n.barSize-f.length))}function o(f,m=!1){return (m?"\u25B1":"\u25B0").repeat(f)}function u(){n.clearOnComplete&&console.clear();}function a(f=1){let m=r+f;r=Math.min(m,e),r===e&&u();}function l(f=1){let m=r-f;r=Math.max(m,0);}function p(f){let m=Math.round(r/e*n.barSize),d=o(m),y=o(n.barSize-m,!0),b=Kl.default[n.barColor](d)+I(y);return n.showPercentage&&(b+=(f||k)(` ${String(Math.round(r/e*100))}%`)),s(b)}return {stop:u,increment:a,decrement:l,render:p,get percent(){return r}}}c();c();var lr={};function qe(e){return Le(e,lr)||(lr[e]=[]),(t,n)=>{de(n)?lr[e].push(Y(t)):lr[e].push(Y(t+B+" "+h(n)));}}function j({option:e,name:t,provided:n,expects:r}){ae(W({type:"error"}).Line("TYPE ERROR",h).NL.Line(`An invalid ${te(e)} type value was provided within your ${h(i.file.base)} file.`).Line(`The ${te(t)} option has an incorrect type. Syncify will not intialize until this is fixed.`).NL.Line(`provided${B} ${Y(Ae(n).toLowerCase())}`).Line(`expected${B} ${A(r.replace(/([|,])/g,D("$1")))}`).Line(`location${B} ${G}${D.underline(i.file.base)}`).NL.Line("How to fix?",D.bold).Line(`You need to change the option value to use the ${A("expected")} type.`,D).Line(`Use the ${w("defineConfig")} named export for type checking`,D).End(i.log.group).BR.toString()),process.exit(0);}function _t({message:e,expected:t,provided:n=void 0,fix:r}){n?t=k(`syncify ${t}`):(n=ql.argv.slice(2).join(" "),t=k(`syncify ${n} ${te(t.replace(/([|,-])/g,D("$1")))}`)),ae(W({type:"error"}).Line("COMMAND ERROR",h).NL.Wrap(e).NL.Line(`provided${B} ${k("$")} ${k("syncify "+n)}`).Line(`expected${B} ${k("$")} ${t}`).NL.Line("How to fix?",D.bold).Wrap(r,D).NL.End(i.log.group).BR.toString()),process.exit(0);}function Xl({type:e,message:t,provided:n,expected:r,fix:s}){Cn.test(n)&&(n=n.replace(Cn,D("$1"))),Cn.test(r)&&(r=r.replace(Cn,D("$1"))),ae(W({type:"error"}).Line("INVALID TARGET",h).NL.Wrap(`Invalid ${te(e)} target provided. `,...t).NL.Line(`provided${B} ${Y(r)}`).Line(`expected${B} ${A(n)}`).NL.Line("How to fix?",D.bold).Wrap(s,D).End(i.log.group).BR.toString()),process.exit(0);}function Dt(e){let t=W({type:"error"}).Line("DEPENDENCY ERROR",h).NL;if(R(e))t.Wrap(`Missing ${te(e)} dependency. You need to install ${te(e)} to use it as a processor.`).NL.Line("How to fix?",D.bold).Line("Install the above module as a development dependency, for example:").NL.Line(`$ pnpm add ${e} -D`,k);else {let n=[`Missing ${te(`${e.length}`)} dependencies. You are attempting to use processor`,"(transforms) which are not yet installed. Install the below modules as development","dependencies or disable the transform:"];t.Wrap(n).Newline();for(let r of e)t.Line(`$ pnpm add ${r} -D`,k);}ae(t.NL.Wrap("If you are using a different package manager please consider adopting pnpm.",D).End(i.log.group).BR.toString()),process.exit(0);}function Zl({option:e,key:t,expects:n,reason:r}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(D(" \u2192 "))),ae(W({type:"error"}).Line("MISSING OPTION",h).NL.Wrap(`Missing ${$o("CB",te(e))} config option. The ${te(t)} option needs to be defined`).NL.Line(`expected${B} ${A(n.replace(/([|,])/g,D("$1")))}`).Line(`location${B} ${D.underline(i.file.base)}`).NL.Line("Why?",D.bold).Wrap(r,D).End(i.log.group).BR.toString()),process.exit(0);}function Fe({option:e,name:t,value:n,expects:r,reason:s=[""]}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(D(" \u2192 "))),ae(W({type:"error"}).Line("INVALID ERROR",h).NL.Wrap(`Invalid ${te(e)} configuration. The ${te(t)} option is invalid. `,...s).NL.Line(`provided${B} ${Y(n)}`).Line(`expected${B} ${A(r.replace(/([|,])/g,D("$1")))}`).NL.Line("How to fix?",D.bold).Line("You need to update the option and use one of the expected values.",D).Line(`Use the ${w("defineConfig")} named export for type checking`,D).End(i.log.group).BR.toString(H)),process.exit(0);}function ec(e){ae(W({type:"error"}).Line("MISSING REFERENCE",h).NL.Line(`You have not provided any ${h("stores")} within your ${te("package.json")} file.`).NL.Line("How to fix?",w.bold).Line(`You need to provide ${te("stores")} via ${te("syncify")} key`,D).Line("passing both your store name and a key > value list of theme targets.",D).NL.Line("{",D).Line('  "syncify": {'.replace(/"/g,w('"')),D).Line('    "stores": {'.replace(/"/g,w('"')),D).Line(`      "domain": "${X("your-store")}"`.replace(/"/g,w('"')),D).Line('      "themes": {}'.replace(/"/g,w('"')),D).Line("    }",D).Line("  }",D).Line("}",D).NL.Line(`Replace the ${w("your-store")} with the name of your .myshopify domain.`,D).Line("Syncify will prompt you and provide a list of theme targets to select from.",D).NL.End(i.log.group).BR.toString()),process.exit(0);}function tc(e){ae(W({type:"nil"}).Line(`${`Missing ${te("syncify.config.js")} configuration`}`,h).BR.Line("Unable to resolve a configuration file within the workspace").BR.Line(`at${B} ${D.underline("~"+e)}`).BR.Line("How to fix?",w.bold).Line("You need to add one the following files to your project",D).BR.Line(` - ${w("syncify.config.ts")}`,D).Line(` - ${w("syncify.config.js")}`,D).Line(` - ${w("syncify.config.mjs")}`,D).Line(` - ${w("syncify.config.cjs")}`,D).Line(` - ${w("syncify.config.json")}`,D).BR.Line(`You can also provide configuration in your ${w("package.json")}`,D).Line(`file using the ${te('"syncify": { "config": {} }')} 'property.`,D).BR.toString(H)),process.exit(0);}function Vs(e){let t=[`Missing ${te(".env")} credentials. Syncify could not resolve credentials within the workspace.`,`Check you have ${te(".env")} or ${te("syncify.env")} file present in the root of your project`];ae(W({type:"error"}).Line("MISSING ENV",h).NL.Wrap(t).NL.End(i.log.group).BR.toString(H)),process.exit(0);}function he(e,t){ae(W({type:"error"}).Line("ERROR",h).NL.Wrap(e).NL.Line("How to fix?",D.bold).Wrap(t,D).NL.End(i.log.group).BR.toString()),process.exit(0);}function jt(e,t){e.indexOf(".")>-1&&(e=$o("CB",re(e.split(".").filter(Boolean).join(D(" \u2192 ")),_,X.bold(t)),{spaced:!0}));let n=i.file.base==="package.json"?`${A("syncify")} config in the ${A("package.json")} file.`:`${A(i.file.base)} file.`;ae(W({type:"error"}).Line("ERROR",h).NL.Line(`Unknown ${te(e)} option provided.`).NL.Line("How to fix?",D.bold).Line(`The ${te(t)} option is invalid or unsupported.`).Line(`You need to remove it from the ${n}`).End(i.log.group).BR.toString()),process.exit(0);}var tt=function(e){if(_n(),e.log.config.silent)return;e.env.tree=!0;let t=W().BR.Top("Syncify").NL.Line(`v${e.version}`,h.whiteBright);e.terminal.cols<80&&t.Newline("red").Error("TERMINAL WIDTH WARNING",h).Newline("red").Error(`Your terminal width is below ${h("100")} columns (currently ${h(`${e.terminal.cols}`)})`).Error("This is not recommended for usage with Syncify (size matters).").Error("Expand your terminal wider for an optimal logging experience."),C(t.toLine());};tt.time=function(){C(Ot(I(`Started in ${v.stop("runtime")}`)));};tt.modes=function(e){let t=W(),n=e.env.prod?"--prod":"--dev";if(e.mode.themes)return C(t.Wrap("Select theme target/s to be inserted into your package.json file.","You will be given a code example after selecting where you will define","a custom target name. If you would like to create a new theme, then run",`the ${te("publish")} resource`,D).toLine());if(e.mode.cache&&(n!==""?n+=` ${G} cache`:n+="cache"),e.mode.clean&&(n!==""?n+=` ${G} clean`:n+="clean"),e.spawn.invoked&&(n!==""?n+=` ${G} build`:n+="build"),e.mode.build&&(n!==""?n+=` ${G} build`:n+="build"),e.mode.export&&(n!==""?n+=` ${G} export`:n+="export"),e.mode.publish&&(n!==""?n+=` ${G} publish`:n+="publish"),e.mode.import&&(n!==""?n+=` ${G} import`:n+="import"),e.mode.watch&&(n!==""?n+=` ${G} watch`:n+="watch",e.mode.hot&&(n+=` ${G} hot`)),n!==""&&(t.Line(n,D),n=""),!hr(e.filters)){t.NL.Line(`Filters${B}`,w.bold);let r=ot(e.filters);for(let s in e.filters){let o=w(e.filters[s].map(u=>pathe.relative(e.cwd,u)).join(", "));t.Line(` ${G} ${s}${B}${r(s)}${o}`,Z);}}C(t.toLine());};tt.spawns=function(e){if(e.mode.build||e.mode.watch){let t=W().Line(`Spawned${B}`,w.bold),n=ot(e.spawn.commands);for(let r in e.spawn.commands){let s=n(r),o=e.spawn.commands[r].pid;t.Line(` ${G} ${Z(r)}${B}${s}PID ${_} #${Ft(`${o}`)}`,D);}C(t.toLine());}};tt.stores=function(e){let t=W(),n=e.sync.themes.length;Lt(e.mode.upload,e.mode.import,e.mode.build,e.mode.clean)&&n>0&&(t.Line(`Editors${B}`,h.white),rc(t,e.sync.themes,"editor")),Ye(e.mode.upload,e.mode.import,e.mode.watch)&&n>0&&(e.mode.upload||e.mode.import?t.NL.Line(`Targets${B}`,h.white):t.NL.Line(`Previews${B}`,h.white),rc(t,e.sync.themes,"preview")),C(t.toLine());};tt.warnings=function(t){if(!t.log.config.warnings)return;let n=ft(lr),r=n.reduce((o,u)=>(o=o+lr[u].length,o),0);if(r===0)return;let s=W({type:"warning"}).Line(`${r} ${Ze("Warning",r)}`,h);for(let o of n){let u=lr[o];if(u.length>0){u.length===r?s.Newline().Line(`${o} ${Ze("Warning",u.length)}`,h).Newline():s.Newline().Line(`${u.length} ${o} ${Ze("Warning",u.length)}`,h);for(let a of u)s.Line(`${Ut} ${a}`,Y);}}jr(s.toString());};function rc(e,t,n){let r=t.reduce((s,{target:o,store:u})=>{let a=u.indexOf(".");return a>s.store&&(s.store=a),o.length>s.theme&&(s.theme=o.length),s},{store:0,theme:0});for(let{target:s,store:o,id:u}of t){let a=o.slice(0,o.indexOf(".")),l=n==="editor"?`https://${o}/admin/themes/${u}/editor`:`https://${o}?preview_theme_id=${u}`;e.Line(re(" ",G,Ft(a)," ".repeat(r.store-a.length),_," ",Ft.bold(s)," ".repeat(r.theme-s.length),_," ",D.underline(l)));}}var dt=Jl();function Js(e){C(Cl(e.width,e.newlines));}function ke(e,{color:t,type:n=null,prefix:r=null,suffix:s=null}={}){n==="error"?r===null?ae(re(Tn(t?t(e):X(e)),xe(s))):ae(Tn((t||X)(L(r,re(e,xe(s)))))):n==="warning"?r===null?C(ur(re(t?t(e):Y(e),xe(s)))):C(ur((t||Y)(L(r,re(e,xe(s)))))):r===null?C(Q(re(t?t(e):k(e),xe(s)))):C(Q((t||k)(L(r,re(e,xe(s))))));}function $e(e){e===""?C(`
`):e==="red"?C(F.red):e==="yellow"?C(F.yellow):C(F.line);}function _n(e=!1){if(e===!1&&i.log.config.clear===!1)return;let t=ql.stdout.rows-2;C(t>0?`
`.repeat(t):""),readline.cursorTo(ql.stdout,0,0),readline.clearScreenDown(ql.stdout);}function Je(e){i.log.config.silent||i.env.tree===!1||(C(kn(i.log.group)),i.log.config.clear&&e!==!1&&_n(),R(e)&&(i.log.group=e,C(`
`+Ln(i.log.group))));}function nc(e){i.log.config.silent||i.env.tree===!1||(R(e)?C(Bo(D(e)+" "+xe(qr()))):(_n(),C(F.line+`
`+Bo(re(D(i.log.group),xe(qr()))))));}function gt(e,...t){i.mode.export||i.mode.build||i.log.config.silent||(t.length===2?C(Q(k(L("process",re(h(e),Gt,t[0],xe(t[1])))))):C(Q(k(L("process",re(h(e),xe(t[0])))))));}function Hs(e){if(i.log.config.silent===!0||i.mode.watch===!1)return;v.start();let t=re(e.kind,Gt,Wr(e.namespace)),n=x(e.relative,i.log.changes)?i.log.changes[e.relative]+1:1;i.log.changes[e.relative]=n,i.log.group!==t?($e(),Je(t),i.log.title!==e.namespace&&(i.log.title=e.namespace)):i.log.config.clear&&($e(),Je(t)),i.log.uri!==e.relative&&(i.log.uri=e.input),C(vl(Z(L("changed",re(e.relative,xe(`${n} change${n>1?"s":""}`))))));}function ht(...e){i.mode.export||i.mode.build||i.log.config.silent||(e.length===1?C(Q(k(L("minified",h(e[0]))))):e.length===4?C(Q(k(L("minified",re(h(e[0]),_,e[1],Es,e[2],G,"saved",e[3]))))):C(Q(k(L("minified",re(h(e[0]),Es,e[1],G,"saved",e[2],xe(v.now())))))));}function ze(e,{hot:t=!1}={}){i.mode.export||i.mode.build||i.log.config.silent||(i.warnings[e]&&C(ur(Y(L("warning",re(De(i.warnings[e].size),Ze("warning",i.warnings[e].size),Br.warning))))),C(Q(vs(L("syncing",e)))),V.pending>(t?0:2)&&C(Q(We(L("queued",re(e,G,h(ks(V.pending)),"in queue"))))));}function jn(e,t){return C(Q(We(L("prompt",e))),kn(i.log.group)),T(t)&&Go__default.default.notify(t).notify(),()=>C(Ln(i.log.group))}function Uo(e,t){if(i.mode.watch){if(i.log.queue.add([e,t.domain,v.stop()]),i.log.idle)return;i.log.idle=!0,V.onIdle().then(()=>{for(let[n,r,s]of i.log.queue)C(Q(ce(L("uploaded",re(h(n),_,r,xe(s))))));i.log.queue.clear(),i.log.idle=!1;});}else C(Q(ce(L("uploaded",re(h(e),_,t.domain,xe(v.stop()))))));}function sc(e){if(!i.log.config.silent)if(i.mode.watch){if(i.log.queue.add([e.target,e.store,v.stop()]),i.log.idle)return;i.log.idle=!0,V.onIdle().then(()=>{for(let[t,n,r]of i.log.queue)C(Q(ce(L("uploaded",h(t),n,r))));i.log.queue.clear(),i.log.idle=!1;});}else C(Q(ce(L("uploaded",h(e.target),e.store,v.stop()))));}function It(e,t){C(Tn(H(L("invalid",e)))),Go__default.default.notify({title:"Syncify Error",sound:"Pop",open:e,subtitle:e,message:"Invalid error"}).notify(),t&&ae($l(t,{type:"error",color:H.bold}));}function me(e,{suffix:t=null,notify:n=null}={}){ae(Tn(H(L("error",t?e+" "+xe(t):e)))),n!==null&&Go__default.default.notify(n).notify();}function Vo(e){return function(...t){i.spawn.invoked||(i.spawn.invoked=!0),i.log.group!=="Spawn"&&(C(kn(i.log.group)),i.log.group!=="Syncify"&&_n(),C(Ln("Spawn")),i.log.group="Spawn"),i.log.title!==e&&(C(El(Z(e))),i.log.title=e),Io.call(this,t.toString());}}function Pe(e,t){t?C(ur(Y(L("warning",e)+xe(t)))):C(ur(Y(L("warning",e))));}function Jo(e,t){C(Q(We(L("retrying",e,t.target,t.store))));}function ic(e,t){C(Q(Ma(L("deleted",e,t.target,t.store))));}function Ne(e,...t){i.mode.build||(t.length>0?C(Q(k(L("transform",re(h(e),_,t[0],t.length===2?re(_,t[1]):t.length===3?re(_,t[1],xe(t[2])):""))))):C(Q(k(L("transform",h(e))))));}function Ho(e,t){C(Q(k(L("zipped",re(h("ZIP"),e,xe(t))))));}function Et(e,t){i.mode.export||i.mode.build||C(Q(L("skipped",re(R(e)?e:e.key,xe(t)))));}function Ys(e){C(Ot(k.bold(e)));}function Qs(e){C(Q(wt(L("reloaded",re(h("HOT RELOAD"),xe(v.now(e)))))));}function oc(e,t){i.mode.build||C(Q(Er(L("exported",re(h(e),_,h(t))))));}function Ks(e,t){C(Q(k(L("version",re(e.number,Es,e.update.number,xe(t))))));}async function Mn(e,t){let n=ge(i.sync.stores[t.sidx].client,{method:"get",url:t.url,params:{"asset[key]":e}});return br(n).then(({data:r})=>r.asset.value).catch(()=>!1)}async function Xs(e,t){let n=ge(i.sync.stores[t.theme.sidx].client,{method:"put",url:t.theme.url,data:{asset:{key:t.key,value:e}}});return br(n).then(()=>!0).catch(r=>(me(t.key),mt(t.key,r.response),!1))}async function Yo(e,t){let n=ge(t,{method:"get",url:e.url});try{let{data:r}=await br(n);return r}catch(r){if(r.response&&(r.response.status===429||r.response.status===500))t.params["asset[key]"]&&(Jo(t.params["asset[key]"],e),V.add(()=>Yo(e,t)));else {if(i.mode.upload)throw r.response;t.params["asset[key]"]&&(me(t.params["asset[key]"]),mt(t.params["asset[key]"],r.response));}}}var In;async function Wn(e,t,n){return V.isPaused?void 0:(V.concurrency>2?(In>=20&&V.concurrency--,In>=32&&V.concurrency--,In>=39&&await je(500)):V.concurrency<3&&In<30&&V.concurrency++,i.mode.upload===!1&&i.mode.import===!1&&v.start(),await br(n).then(({headers:s,data:o})=>{if(i.mode.import===!1&&n.method==="get")return o;n.method==="delete"?ic(t.relative,e):i.mode.watch?(i.mode.hot===!0&&t.type!==10&&t.type!==9&&Qs(),sc(e)):i.mode.upload?Xe.emit("upload",{status:0,get theme(){return e},get file(){return t}}):i.mode.import&&Xe.emit("import",{status:0,get theme(){return e},get file(){return t},get data(){return o}}),In=parseInt(s["x-shopify-shop-api-call-limit"].slice(0,2),10);}).catch(s=>{if(s.response&&(s.response.status===429||s.response.status===500))i.mode.upload===!1&&i.mode.import===!1&&Jo(t.key,e),V.add(()=>Wn(e,t,n)),i.mode.upload?Xe.emit("upload",{status:1,get theme(){return e},get file(){return t}}):i.mode.import&&Xe.emit("import",{status:1,get theme(){return e},get file(){return t}});else {if(i.mode.upload)return Xe.emit("upload",{status:2,error:s.response,get theme(){return e},get file(){return t}});if(i.mode.import)if(s.response===void 0)Xe.emit("import",{status:3,get theme(){return e},get file(){return t}});else return Xe.emit("import",{status:2,error:s.response,get theme(){return e},get file(){return t}});else me(t.key,{suffix:"shopify rejected the request",notify:{title:"Request Error",message:`Failed to sync ${t.key}`}}),s.isAxiosError&&mt(t.relative,s.response);}return ls}))}c();async function uc(e,t){if(is(arguments.length,1))return n=>uc(e,n);if(Lt(Le("namespace",t),Le("key",t))){It("invalid fields");return}return wi__default.default.get("metafields.json",e.client).then(({data:n})=>n.metafields.find(r=>t.namespace===r.namespace&&t.key===r.key)).catch(n=>{console.log(n);})}async function Ko(e,t){return is(arguments.length,1)?n=>Ko(e,n):(t.type="json",t.namespace="email",t.value_type="json_string",t.key="eng",wi__default.default.post("metafields.json",{metafield:t},e.client).then(({data:n})=>(console.log("created",n),n.metafield)).catch(n=>{if(console.log(n),!e.queue)return Se(t.namespace,n.response);if(xr(n.response.status)){V.add(()=>Ko(e,t));return}else return Se(e.store,n.response)}))}async function Xo(e,t,n){return is(arguments.length,1)?(r,s)=>Xo(e,r,s):wi__default.default.put(`metafields/${t}.json`,{metafield:n},e.client).then(r=>(console.log("created"),r.data.metafield)).catch(r=>{if(!e.queue)return Se(n.namespace,r.response);if(xr(r.response.status))V.add(()=>Xo(e,t,n));else return Se(e.store,r.response)})}async function Zs(e,t){if(is(arguments.length,1))return r=>Zs(e,r);let n=await uc(e,t);return n?Xo(e,n.id,J(t,{id:n.id,type:"json"})).catch(r=>{if(!e.queue)return Se(t.namespace,r.response);if(xr(r.response.status))V.add(()=>Zs(e,t));else return Se(e.store,r.response)}):Ko(e,t)}function ei({stores:e,themes:t}){return {assets:async(n,r,s)=>{let o=de(s)?{method:n,params:{"asset[key]":r.key}}:{method:n,data:{asset:{key:r.key,value:s}}};await V.add(()=>kt(t,async u=>{i.mode.upload&&v.start(r.uuid),await Wn(u,r,J({url:u.url},e[u.sidx].client,o));}));},pages:async(n,r,s)=>{await V.add(()=>kt(e,async o=>{i.mode.upload&&v.start(),console.log(s);}));},metafields:n=>V.add(function(){return pa(async function(r){await Zs(r,n);},e)})}}c();c();c();function cr(e){return $(e)?e.filter(t=>/\*/.test(t)):/\*/.test(e)?e:null}function rt(e){if($(e))return e.map(rt);if(e.indexOf("/")===-1)return e;let t=pathe.dirname(e),n=t.lastIndexOf("/")+1;return t.slice(n)}function eu(e){if($(e))return e.map(eu);let t=e.lastIndexOf("/");if(t===-1)return e;let n=e.indexOf("*");return n===-1?e.slice(0,t):e.slice(0,n)}function Yr(e){let t=new RegExp(`^\\.?\\/?${e}\\/`);return function n(r){if($(r))return r.map(n);let s=r.charCodeAt(0)===33;return s&&(r=r.slice(1)),t.test(r)?s?"!"+r:r:(r.charCodeAt(0)===46&&r.charCodeAt(1)===46&&r.charCodeAt(2)===47&&he(`Invalid path defined at: ${B} ${Y(`"${r}"`)}`,["Paths must be relative to source"]),(s?"!":"")+pathe.join(e,r))}}var lc=e=>t=>{if(t.indexOf("*")!==-1&&he(`Base directory path cannot contain glob${B} ${Y(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"]),t.charCodeAt(0)===46){if(t.length===1)return e+"/";t.charCodeAt(1)===47?t=t.slice(1):he(`Directory path is invalid at${B} ${Y(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"]);}if(t.charCodeAt(0)===47){if(t.length===1)return e+"/";t=t.slice(1);}if(/^[a-zA-Z0-9_-]+/.test(t))return t=pathe.join(e,t),ma(t).charCodeAt(0)===47?t:t+"/";he(`Directory path is invalid at${B} ${Y(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"]);};function fc(e){let t=i.svg.filter(n=>n.input.has(e.input)?!0:n.match(e.input)?(n.input.add(e.input),!0):!1);return de(t)||it(e,"data",{get(){return t}}),e}function qn(e){let t=i.style.find(n=>n.watch(e.input));return de(t)||(it(e,"data",{get(){return t}}),t.snippet?(e.namespace="snippets",e.key=pathe.join("snippets",t.rename)):e.key=pathe.join("assets",t.rename),e.output?e.data.rename!==pathe.basename(e.output)&&(t.snippet?e.output=pathe.join(i.dirs.output,e.key):e.output=pathe.join(eu(e.output),e.data.rename)):e.output=pathe.join(i.dirs.output,e.key)),e}function zn(e){let t=i.script.filter(n=>n.watch.has(e.input));return t.length===0||it(e,"data",{get(){return t}}),e}function tu(e,t){return it(t,"data",{get(){return e}}),t}function ru(e){if(i.section.prefixDir){if(e.base.endsWith("-group.json")||Vt(i.section.global)&&i.section.global.test(e.input))return e;let t=rt(e.input);if(i.section.baseDir.has(t))return e;let n=rt(e.input)+i.section.separator+e.base;e.name=n,e.key=pathe.join(e.namespace,n),e.output=pathe.join(pathe.dirname(e.output),n);}return e}function pc(e){if(i.snippet.prefixDir){if(Vt(i.snippet.global)&&i.snippet.global.test(e.input))return e;let t=rt(e.input);if(i.snippet.baseDir.has(t))return e;let n=t+i.snippet.separator+e.base;e.name=n,e.key=pathe.join(e.namespace,n),e.output=pathe.join(pathe.dirname(e.output),n);}return e}function vd(e){switch(e){case".liquid":return "Liquid";case".json":return "JSON";case".html":return "HTML";case".md":return "Markdown";case".js":case".mjs":return "JavaScript";case".jsx":return "JSX";case".ts":return "TypeScript";case".tsx":return "TSX";case".svg":return "SVG";case".css":return "CSS";case".scss":return "SCSS";case".sass":return "SASS";case".mov":case".mp4":case".webm":case".ogg":return "Video";case".ico":case".jpg":case".png":case".gif":case".pjpg":case".webp":return "Image";case".eot":case".ttf":case".woff":case".woff2":return "Font";case".pdf":return "PDF";case".yaml":case".yml":return "YAML"}return "Unknown"}function Un({name:e,dir:t,ext:n,namespace:r},s){let o=s;return /\[dir\]/.test(o)&&(o=o.replace(/\[dir\]/g,t)),/\[file\]/.test(o)&&(o=o.replace(/\[file\]/g,e)),/\[ext\]/.test(o)&&(o=o.replace(/\[ext\]/g,n)),r==="snippets"&&s.endsWith(".liquid")===!1?o+".liquid":!s.endsWith(".[ext]")||!s.endsWith(n)?/\.[a-z]+$/.test(s)?o:o+n:o}function dc(e,t,n){return e.size=NaN,function(r,s,o){let u;return s===15||s===16?(u=pathe.join(rt(e.dir),e.base),n=null):(u=pathe.join(r,e.base),n=pathe.join(n,u)),o===-1&&(t=i.cache.paths[t]),e.uuid=vt(),e.type=s,e.key=u,e.namespace=r,e.kind=o,e.input=t,e.output=n,e.relative=pathe.relative(i.cwd,t),e}}function Ed(e,t){let n=e;return (r,s)=>J({},n,{uuid:vt(),key:r,namespace:s,output:t,kind:vd(n.ext),relative:pathe.relative(i.cwd,t)})}function ri(e,t){return function n(r){let s=new zr(pathe.parse(r)),o=dc(s,r,t);if(s.ext===".liquid"){if(e.sections.match(r))return ru(o("sections",4,"Liquid"));if(e.snippets.match(r))return pc(o("snippets",3,"Liquid"));if(e.layout.match(r))return o("layout",2,"Liquid");if(e.templates.match(r))return o("layout",1,"Liquid");if(e.customers.match(r))return o("templates/customers",1,"Liquid");if(e.metaobject.match(r))return o("templates/metaobject",1,"Liquid");if(e.transforms.has(r)&&e.transforms.get(r)===9)return qn(o("snippets",9,"CSS"))}else {if(s.ext===".schema"&&e.schema.match(r))return tu(n,o("schema",5,"JSON"));if(s.ext===".json"){if(e.metafields.match(r))return o("metafields",15,"JSON");if(e.sections.match(r))return ru(o("sections",4,"JSON"));if(e.templates.match(r))return o("templates",1,"JSON");if(e.config.match(r))return o("config",7,"JSON");if(e.locales.match(r))return o("locales",8,"JSON");if(e.customers.match(r))return o("templates/customers",1,"JSON");if(e.metaobject.match(r))return o("templates/metaobject",1,"JSON");if(e.schema.match(r))return tu(n,o("schema",5,"JSON"))}}switch(s.ext){case".js":case".mjs":return zn(o("assets",10,"JavaScript"));case".ts":return zn(o("assets",10,"TypeScript"));case".tsx":return zn(o("assets",10,"TSX"));case".jsx":return zn(o("assets",10,"JSX"));case".svg":return fc(o("assets",11,"SVG"));case".css":return qn(o("assets",9,"CSS"));case".scss":return qn(o("assets",9,"SCSS"));case".sass":return qn(o("assets",9,"SASS"));case".md":return o("pages",16,"Markdown");case".html":return o("pages",16,"HTML")}if(e.assets.match(r)){if(i.spawn.invoked)return o("assets",17);switch(s.ext){case".json":return o("assets",14,"JSON");case".svg":return o("assets",14,"SVG");case".css":return o("assets",14,"CSS");case".ico":case".jpg":case".png":case".gif":case".webp":case".pjpg":return o("assets",14,"Image");case".mov":case".mp4":case".webm":case".ogg":return o("assets",14,"Video");case".pdf":return o("assets",14,"PDF");case".eot":case".ttf":case".woff":case".woff2":return o("assets",14,"Font")}}}}function gc(e,t){let n=pathe.join(t,e),r=new zr(pathe.parse(n)),s=Ed(r,n);if(e.startsWith("sections/"))return s(e,"sections");if(e.startsWith("snippets/"))return s(e,"snippets");if(e.startsWith("layout/"))return s(e,"layout");if(e.startsWith("customers/",10))return s(e,"templates/customers");if(e.startsWith("metaobject/",10))return s(e,"templates/metaobject");if(e.startsWith("templates/"))return s(e,"templates");if(e.startsWith("config/"))return s(e,"config");if(e.startsWith("locales/"))return s(e,"locales");if(e.startsWith("assets/"))return s(e,"assets")}var hc=e=>t=>{let n=new zr(pathe.parse(t)),r=dc(n,t,e);switch(pathe.basename(n.dir)){case"sections":return r("sections",4,-1);case"snippets":return r("snippets",3,-1);case"layout":return r("layout",2);case"templates":return r("templates",1,-1);case"customers":return r("templates/customers",1,-1);case"metaobject":return r("templates/metaobject",1,-1);case"config":return r("config",7,-1);case"locales":return r("locales",8,-1);case"assets":return r("assets",14,-1)}};c();async function yc(e,t,n,r){return de(n)||n===!1?r("put",e,t):R(n)?r("put",e,n):at(n)?r("put",e,n.toString()):r("put",e,t)}c();var Vn=/{%-?\s*render\s+['"]hot\.js['"]/;async function Fc(){let e="snippets/hot.js.liquid",[t]=i.sync.themes,n=await fsExtra.readFile(i.hot.snippet),r=await Xs(n.toString(),{theme:t,key:e});return ie(Q(D(` ${G} ${Z(e)} uploaded snippet injection`))),r}function Qr(e){return Vn.test(e)}function wc(e){if(!Qr(e))return Cc(e)}function Kr(e){let t=e.search(Vn);if(t>-1){let n=e.slice(0,t),r=e.slice(e.indexOf("%}")+2);return n+r}return e}function Cc(e){let t=e.indexOf("<head>")+6;return e.slice(0,t)+`
`+i.hot.renderer+`
`+e.slice(t)}async function iu(e){if(!await fsExtra.pathExists(e))return null;let r=(await fsExtra.readFile(e)).toString(),[s]=i.sync.themes,o=pathe.basename(e),u=`layout/${o}`,a=await Mn(`layout/${o}`,s);if(R(a))return Vn.test(a)?(r=Kr(r),await Xs(r,{theme:s,key:u})):!0}async function vc(e){if(!await fsExtra.pathExists(e))return null;let r=(await fsExtra.readFile(e)).toString();Vn.test(r)||(r=Cc(r),await fsExtra.writeFile(e,r),ie(Q(D(` ${G} injected render tag in output layout`))));let[s]=i.sync.themes,o=pathe.basename(e),u=`layout/${o}`,a=await Mn(`layout/${o}`,s);if(R(a))return Vn.test(a)&&(r=Kr(r)),await Xs(r,{theme:s,key:u})?(ie(Q(D(` ${G} uploaded and inject render tag`))),!0):!1}function Td(e){e===0&&he("Empty output directory",[`There are no files within ${Z(pathe.relative(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${Z.bold("syncify build")} command and try again.`]);let t=new Map,n=0;for(let r of i.sync.themes){r.target.length>n&&(n=r.target.length);let s=`${r.store}:${r.target}`;t.has(s)||t.set(s,{active:t.size===0,log:null,size:e,processed:"",failed:0,success:0,retry:0,progress:On(e),get theme(){return r},errors:{remote:new Map,retry:new Set}});}return t}async function Ec(e){Je("Upload"),dt("Preparing",{style:"spinning"}),v.start("upload");let t=ei(i.sync),n=Ie(e),r=hc(i.dirs.output),s=Lm__default.default.sync(`${i.dirs.output}/**`).sort(),o=Td(s.length),u=null;await je(500);function a(f){let m=f.toRaw();u!==null&&(clearInterval(u),u=null),ie(f.toString()),u=setInterval(()=>{m[3]=Q(D(L("Elapsed",k.bold(v.now("upload")))))+`
`,ie(ne(m));},100);}function l(f){dt.stop();let{file:m,theme:d}=f,y=`${d.store}:${d.target}`,b=o.get(y),E=W().NL.Line(Wr(m.namespace),h.whiteBright).NL.Line(L("Elapsed",k.bold(v.now("upload"))),D).Line(L("Duration",k(v.stop(m.uuid))),D).Line(L("Size",k(Ct(m.size))),D).Newline();f.status===0?(b.errors.retry.has(m.input)&&(b.retry-=1,b.errors.retry.delete(m.input)),b.success+=1,b.progress.increment(1),b.processed=Z(m.key)):f.status===1?(b.errors.retry.has(m.input)||(b.retry+=1,b.errors.retry.add(m.input)),b.processed=We(m.key)):f.status===2&&(b.errors.retry.has(m.output)&&(b.retry-=1,b.errors.retry.delete(m.output)),b.errors.remote.has(m.output)||(b.failed+=1,b.progress.increment(1),b.errors.remote.set(m.output,f),b.processed=X(m.key)));for(let[q,{success:z,size:fe,failed:ee,retry:oe,progress:ve,processed:At}]of o){let[Wi,qi]=q.split(":"),tD=`${h(`${z}`)} ${w("of")} ${h(`${fe}`)}`,rD=h(`${oe}`),nD=h(`${ee}`);E.Line(`${h(qi.toUpperCase())}  ${_}  ${Wi}`,k).NL.Line(At).NL.Line(L("uploaded",tD),k).Line(L("retrying",rD),oe>0?We:k).Line(L("failures",nD),ee>0?X:k).NL.Insert(ve.render()).Newline();}a(E);}Xe.on("upload",l),await je(500);for(let f of s){let m=r(f),d;try{if(d=(await fsExtra.readFile(m.output)).toString(),m.namespace==="layout"&&Qr(d)&&(d=Kr(d)),m.size=Oe(d),!n)await t.assets("put",m,d);else {let b=e.apply({...m},d);await yc(m,d,b,t.assets);}}catch(y){Te("Error reading output file",{file:m.key,source:m.relative})(y);}}await V.onIdle(),clearInterval(u),ie.clear(),Je("Errors");let p=!1;for(let{errors:f,theme:m,failed:d,success:y,size:b}of o.values())if(f.remote.size>0){let E=h(`${m.target.toUpperCase()} THEME`),q=h(`${d}`),z=`${h(`${y}`)} ${w("of")} ${h(`${b}`)}`;C(W().Line(`${E}  ${_}  ${m.store}`).NL.Line(L("uploaded",z),ce).Line(L("failures",q),X).NL.toString());let fe=1;for(let ee of f.remote.values()){let oe=`${(fe<10?"0":"")+fe++}`;$e(),ke(X.bold(`ERROR ${oe}`)),mt(ee.file.input,ee.error);}Js(),p=!0;}await je(500),p||C(Ot(D("No errors!"))),ie(Ot("Uploaded Completed")),process.exit(0);}c();c();function Rd(e,t){let{type:n,relative:r,kind:s,key:o,output:u}=e;return async function(a){n!==17&&(i.mode.watch&&i.watch.unwatch(u),await fsExtra.writeFile(u,a).catch(Te("Error writing asset to output directory",{file:r,source:r}))),i.mode.hot&&(ze(o,{hot:!0}),s==="JavaScript"?i.wss.script(e.uuid,pathe.basename(o)):s==="CSS"&&i.wss.stylesheet(e.uuid,pathe.basename(o))),i.env.sync!==0&&i.mode.build===!1&&await t("put",e,a);}}async function ni(e,t,n){let r=Rd(e,t),s=await fsExtra.readFile(e.input).catch(Te("Error reading asset file",{file:e.relative,source:e.relative}));if(s){let o=s.toString();if(Za(o))return i.mode.watch&&Et(e,"empty file"),null;if(!Ie(n))return r(o);let u=n.apply({...e},o);if(de(u)||u===!1)return r(o);if(Tt(u))return r(u);if(at(u))return r(u.toString());await r(o);}return null}c();c();c();var di=yt(Lc(),1),Pf=yt(Nc(),1),Of=yt(kf(),1);c();var Di=`
`,Nf="\r",Rf=function(){function e(t){this.length=t.length;for(var n=[0],r=0;r<t.length;)switch(t[r]){case Di:r+=Di.length,n.push(r);break;case Nf:r+=Nf.length,t[r]===Di&&(r+=Di.length),n.push(r);break;default:r++;break}this.offsets=n;}return e.prototype.locationForIndex=function(t){if(t<0||t>this.length)return null;for(var n=0,r=this.offsets;r[n+1]<=t;)n++;var s=t-r[n];return {line:n,column:s}},e.prototype.indexForLocation=function(t){var n=t.line,r=t.column;return n<0||n>=this.offsets.length||r<0||r>this.lengthOfLine(n)?null:this.offsets[n]+r},e.prototype.lengthOfLine=function(t){var n=this.offsets[t],r=t===this.offsets.length-1?this.length:this.offsets[t+1];return r-n},e}();var fr=(0, di.default)("JSONError",{fileName:di.default.append("in %s"),codeFrame:di.default.append(`

%s
`)});function pr(e,t,n){typeof t=="string"&&(n=t,t=null);try{try{return JSON.parse(e,t)}catch(r){throw (0,Pf.default)(e,t),r}}catch(r){r.message=r.message.replace(/\n/g,"");let s=r.message.match(/in JSON at position (\d+) while parsing/),o=new fr(r);if(n&&(o.fileName=n),s&&s.length>0){let u=new Rf(e),a=Number(s[1]),l=u.locationForIndex(a),p=({highlightCode:f})=>(0, Of.codeFrameColumns)(e,{start:{line:l.line+1,column:l.column+1}},{highlightCode:f});o.codeFrame=p({highlightCode:!0}),o.rawCodeFrame=p({highlightCode:!1});}throw o}}c();function xu(e,t){return x(t,i.warnings)?i.warnings[t].has(e)?i.warnings[t].get(e):i.warnings[t].set(e,new Set).get(e):(i.warnings[t]=new Map([[e,new Set]]),i.warnings[t].get(e))}function Nr(e,t){let n=xu("schema",e.input),r=W({type:"warning"}).NL.Wrap(t.message,Y).Context({stack:!1,entries:{reference:t.$ref,schema:t.schema,section:e.relative,shared:t.shared}});n.add(r.toString());}var _f=e=>(t,n)=>{let r=xu("sass",e.input),s=W({type:"warning"}).NL.Wrap(t,Y);if(x("span",n)){let{span:u}=n,p=(x("context",u)?u.context:u.text).slice(u.start.offset,u.end.offset).split(`
`);if(p.length<15){let f=De(u.end.line).length,m=u.start.line+1;for(let d of p){let y=De(m++),b=f-y.length,E=b===0?"":" ".repeat(b);s.Trim(`   ${E+A(y)} ${F.trim} ${d}`);}}}let o=s.NL.Wrap(n.stack,Y).NL.Context({stack:!1,entries:{source:e.relative,deprecated:n.deprecation?"Yes":"No"}}).toString();r.has(o)||r.add(o),i.mode.build||C(ur(Y(L("warning",re(De(r.size),Ze("warning",r.size)))+Br.warning)));};function jf(e,t){let n=xu("postcss",e.input),r=ne(Sl(t.node.toString(),{line:"yellow",span:pt(t.endLine)?{start:t.line,end:t.endLine}:{start:t.line,end:t.endLine}}),Ao({stack:!1,entries:{column:t.column,file:e.relative,plugin:t.plugin}}));n.has(r)||(n.add(r),jr(r));}c();function If(e){return i.terser.liquid.minifySchema===!1?i.processor.json.useTab?JSON.stringify(e,null,"	".repeat(i.processor.json.indent)):JSON.stringify(e,null,i.processor.json.indent):JSON.stringify(e,null,0)}async function R0(e){let n=(await fsExtra.readFile(e.input)).toString(),r=n.search(/{%-?\s*schema/);if(r<0)return [n,null,null];let s=n.indexOf("%}",r+2)+2,o=n.slice(s),u=s+o.search(/{%-?\s*endschema/);if(u<0)return me("Missing {% endschema %} tag in file.",{suffix:e.relative,notify:{title:"Invalid Syntax",message:"Missing {% endschema %} tag in file."}}),null;try{let a=pr(n.slice(s,u));return [n.slice(0,s),a,n.slice(u)]}catch(a){return me(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),a instanceof fr&&ar(a,e),null}}function P0(e,t){let n=[];for(let r=0,s=t.length;r<s;r++){if(!x("$ref",t[r])){n.push(t[r]);continue}let[o,u]=t[r].$ref.split(".");if(i.section.shared.has(o)){let a=i.section.shared.get(o);x(u,a.schema)?$(a.schema[u])?n.push(...a.schema[u]):T(a.schema[u])&&(x("settings",a.schema[u])?n.push(...a.schema[u].settings):n.push(a.schema[u])):i.mode.build?Nr(e,{shared:a.uri,$ref:t[r].$ref,message:"unknown schema key",schema:"settings"}):Pe(`undefined $ref ${h(u)} in ${h(o)} `,e.base);}else i.mode.build?Nr(e,{shared:u,$ref:t[r].$ref,message:"unknown schema",schema:"settings"}):Pe(`unknown $ref ${h(t[r].$ref)} `,e.base);}return n}function O0(e,t){let n=[];for(let r=0,s=t.length;r<s;r++)if(x("$ref",t[r])){let[o,u]=t[r].$ref.split(".");if(i.section.shared.has(o)){let a=i.section.shared.get(o);x(u,a.schema)?$(a.schema[u])?n.push(...a.schema[u]):n.push(a.schema[u]):i.mode.build?Nr(e,{shared:a.uri,$ref:t[r].$ref,message:"unknown schema key",schema:"blocks"}):Pe(`undefined $ref ${h(u)} in ${h(o)} `,e.base);}else i.mode.build?Nr(e,{shared:o,$ref:t[r].$ref,message:"unknown schema",schema:"settings"}):Pe(`unknown $ref ${h(t[r].$ref)} `,e.base);}else {let o={};for(let u in t[r])u!=="settings"&&(o[u]=t[r][u]);if(o.settings=[],x("settings",t[r]))for(let u of t[r].settings)if(x("$ref",u)){let[a,l]=u.$ref.split(".");if(i.section.shared.has(a)){let p=i.section.shared.get(a);x(l,p.schema)?$(p.schema[l])?o.settings.push(...p.schema[l]):T(p.schema[l])&&(x("settings",p.schema[l])?o.settings.push(...p.schema[l].settings):o.settings.push(p.schema[l])):i.mode.build?Nr(e,{shared:p.uri,$ref:u.$ref,message:"unknown schema key",schema:"blocks"}):Pe(`undefined $ref ${h(l)} in ${h(a)} `,e.base);}else i.mode.build?Nr(e,{shared:l,$ref:u.$ref,message:"unknown schema",schema:"blocks"}):Pe(`unknown $ref ${h(u.$ref)} `,e.base);}else o.settings.push(u);n.push(o);}return n}async function _0(e){try{let t=await fsExtra.readFile(e.input),n=Ls(e.input);if(x(e.input,i.cache.schema)&&i.cache.checksum[e.input]===n&&i.section.shared.has(e.name))return i.section.shared.get(e.name);i.cache.checksum[e.input]=n;let r=t.toString();if(r.trim().length===0)return Pe("empty file","no shared schema defined"),null;let s=pr(r.toString());x("$schema",s)&&delete s.$schema,x("$description",s)&&delete s.$description;for(let o in s)if(T(s[o]))x("$description",s[o])&&delete s[o].$description;else if($(s[o]))for(let u of s[o])x("$description",u)&&delete u.$description;return i.section.shared.set(e.name,{uri:e.input,schema:s}).get(e.name)}catch(t){return me(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),t instanceof fr&&ar(t,e),null}}async function wu(e){let t=await R0(e);if(t===null)return null;let[n,r,s]=t;if(r===null)return n;let o=be(r);return o("settings")&&(r.settings=P0(e,r.settings)),o("blocks")&&(r.blocks=O0(e,r.blocks)),ne(n.trimEnd(),`
`,If(r),`
`,s.trimStart())}async function Wf(e,t,n){let r=await _0(e);if(r===null)return null;let s=tr(i.cache.schema[r.uri]),o=await kt(s,u=>it(e.data(u),"data",{get(){return i.cache.sections[u]}}));gt("Shared Schema",`${o.length} ${Ze("section",o.length)}`);for(let u of o){let a=await wu(u);ze(u.key),await t("put",u,a),i.mode.hot&&(e.type===4?i.wss.section(u.name):u.type!==10&&u.type!==9&&await V.onIdle().then(()=>i.wss.replace()));}}var M0=/{%-?\s*#[\s\S]+?%}/g,W0=/{%-?\s*comment\s*-?%}[\s\S]+?{%-?\s*endcomment\s*-?%}/g,q0=/{%-?\s*liquid[\s\S]+?%}/g,z0=/[^,:'"a-zA-Z0-9=] +[^'"a-zA-Z0-9=}{]/g;function gi(e){return i.terser.liquid.removeComments?e.replace(W0,"").replace(M0,""):e}function G0(e){return e.replace(q0,t=>`
`+t.replace(/#.*?$/gm,"")+`
`)}function U0(e,t){if(!i.terser.liquid.minifySchema)return gi(t);let n=t.search(/{%-?\s*schema/);if(n>-1){let r=t.indexOf("%}",n+2)+2,s=t.slice(r),o=r+s.search(/{%-?\s*endschema/);if(o>-1){let u=JSON.parse(t.slice(r,o)),a=JSON.stringify(u,null,0),l=t.slice(0,r)+a+t.slice(o);return gi(l)}It(e.relative);}return gi(t)}function V0(e){return i.terser.liquid.stripDashes,e}async function J0(e,t){try{return await htmlMinifierTerser.minify(t,i.terser.markup)}catch(n){return It(e.relative),console.error(n),null}}var H0=e=>async t=>{if(e.type===2&&i.mode.hot&&Qr(t)===!1&&(t=wc(t)),!i.mode.terse)return await fsExtra.writeFile(e.output,t),Ne(`${e.namespace} \u2192 ${Pt(e.size)}`),t;let n;if(e.base.endsWith(".js.liquid"))n=t.replace(z0,"").replace(/(?<=[:,]) +(?=['"{[])/g,"").replace(/{{%/g,"{ {%").replace(/%}}/g,"%} }").replace(/(?<=[%}]})\s+(?=[\]}])/g," ").replace(/>\s+(?=[{[])/,">").replace(/(?<=[}\]])\s<\//g,"</");else if(e.base.endsWith(".json.liquid"))n=JSON.stringify(JSON.parse(t),null,0);else {let o=e.type===4?U0(e,t):gi(t),u=await J0(e,o);n=G0(u);}if(gt("HTML Terser",v.now()),Wt(n))return await fsExtra.writeFile(e.output,t),t;let r=V0(n).replace(/^\s+/gm,"");await fsExtra.writeFile(e.output,r);let s=ut(t,e.size);return s.isSmaller?Ne(`${e.namespace} ${s.before} \u2192 gzip ${s.gzip}`):ht("Liquid",s.before,s.after,s.saved),r};async function Qt(e,t){i.mode.watch&&v.start();let r=(await fsExtra.readFile(e.input)).toString();if(i.mode.build&&e.namespace==="layout"&&Qr(r)&&(r=Kr(r)),e.type===4){let u=await wu(e);if(u===null)return;r=u;}e.size=Oe(r);let s=H0(e);if(!Tt("Function",t))return s(r);let o=t.apply({...e},r);return Tt("Undefined",o)||o===!1?s(r):Tt("String",o)?s(o):Buffer.isBuffer(o)?s(o.toString()):s(r)}c();function vu(e,t){try{return pr(t)}catch(n){return me(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),n instanceof fr&&ar(n,e),null}}function K0(e,t=0){try{return JSON.stringify(e,null,t)}catch(n){return console.log(n),null}}async function rn(e,t,n=0){let r=K0(t,n);if(Wt(r))return i.mode.watch&&v.stop(),t;if(n===0){let s=ut(r,e.size);ht("JSON",s.before,s.after,s.saved);}else Ne(e.namespace,Pt(e.size));return e.type===15||fsExtra.writeFile(e.output,r).catch(Te("Error writing JSON",{file:e.relative})),r}async function Kt(e,t){i.mode.watch&&v.start();let n=await fsExtra.readFile(e.input).catch(Te("Error reading JSON file",{file:e.relative}));if(at(n)){let r=n.toString();if(e.size=Oe(r),r.trim().length===0)return Et(e,"empty file"),null;if(e.type===7&&e.name==="settings_data")for(let a of i.sync.themes){await Mn("config/settings_data.json",a);}let s=vu(e,r);if(s===null)return null;if(K(s))return Et(e,"empty file"),null;let o=i.processor.json.indent;if(i.mode.terse&&(e.type===14?i.terser.json.assets&&(o=0):e.type===8?i.terser.json.locales&&(o=0):e.type===1?i.terser.json.templates&&(o=0):e.type===15?i.terser.json.metafields&&(o=0):e.type===6?i.terser.json.metaobject&&(o=0):e.type===4?i.terser.json.groups&&(o=0):e.type===7&&i.terser.json.config&&(o=0)),!Ie(t))return rn(e,s,o);let u=t.apply({...e},s);if(de(u))return rn(e,s,o);if($(u)||T(u))return rn(e,De(u),o);if(R(u))return rn(e,vu(e,u),o);if(at(u))return rn(e,vu(e,u.toString()),o);await rn(e,s,o);}}c();var Xn=null;function Gf(){return Xn=ho("esbuild"),Wt(Xn)?(Xn=null,!1):!0}async function Uf(e){i.processor.esbuild.loaded&&e.watch.clear();let t=await Xn.build(e.esbuild);i.mode.terse&&i.mode.build&&(e.size=Oe(t.outputFiles[0].text)),i.mode.watch?await Vf(e,t.metafile.inputs):(e.watch.has(e.input)||e.watch.add(e.input),i.watch.has(e.input)||i.watch.add(e.input));}async function Vf(e,t){let n=[],{cwd:r,watch:s,mode:o}=i;for(let u in t){if(u.indexOf("/node_modules/")>-1)continue;let a=pathe.join(r,u);e.watch.has(a)||e.watch.add(a),s.has(a)||s.add(a),o.watch&&n.push(a);}o.watch&&i.processor.esbuild.loaded&&await Xa().then(()=>{for(let u of e.watch)u.indexOf("/node_modules/")>-1||e.watchCustom!==null&&e.watchCustom(u)||x(u.slice(r.length+1),t)||(e.watch.delete(u),s.unwatch(u));});}function Z0(e,t){return t.length>0?`<script ${t.join(" ")}>${e}</script>`:`<script>${e}</script>`}function eg(e){return Tt("Function",e)?function(t,n){let r=e.apply({...t},n);return r===!1?(ke("cancelled"),null):Tt("String",r)?(ke("augment"),r):at(r)?(ke("augment"),r.toString()):n}:!1}async function hi(e,t,n){if(!e.data)return;i.mode.watch&&v.start(),i.mode.hot&&v.start(e.uuid);let r=eg(n),s=e.data.length;for(let o of e.data){let{key:u,input:a,output:l,snippet:p,attrs:f,esbuild:{format:m}}=o;try{let{metafile:d,outputFiles:y,warnings:b}=await Xn.build(o.esbuild);s>1&&($e(),ke(pathe.relative(i.cwd,a))),i.mode.watch&&await Vf(o,d.inputs),b.length>0&&void 0;for(let{text:E,path:q}of y)if(q.endsWith(".map")){let z=pathe.join(i.dirs.sourcemaps.scripts,`${e.base}.map`);fsExtra.writeFile(z,E).catch(Te("Error writing JavaScript Source Map to cache",{file:pathe.relative(i.cwd,z),source:e.relative}));}else {if(i.mode.terse)if(isNaN(o.size))Ne(e.kind,`${h(m.toUpperCase())} bundle`),ht(Ct(E));else {let{before:fe,after:ee,saved:oe}=ut(E,o.size);Ne(`${h(m.toUpperCase())} bundle \u2192 ${h(Ct(E))}`),ht(null,fe,ee,oe);}else Ne(`${h(m.toUpperCase())} bundle \u2192 ${h(Ct(E))}`);let z;if(p){if(z=Z0(E,f),r&&(z=r(e,z),z===null))continue;await fsExtra.writeFile(l,z).catch(Te("Error writing inline <script> snippet",{file:e.relative})),oc("script","snippet");}else {if(z=E,r&&(z=r(e,z),z===null))continue;await fsExtra.writeFile(l,z).catch(Te("Error writing JavaScript asset",{file:e.relative}));}i.mode.hot?(ze(u,{hot:!0}),i.wss.script(e.uuid,pathe.basename(u)),await t("put",o,z)):i.mode.build||(ze(u),await t("put",o,z));}}catch(d){x("errors",d)&&(v.clear(),me(e.relative,{notify:{title:"JavaScript Error",message:`Transform failed for ${e.base}`}}),i.errors.add(a),d.errors.forEach(Wo));}}s>1&&$e();}c();var yi=null,Su=null;async function $u(e){if(e==="postcss")return yi=(await import('postcss')).default,ue(yi)===!1;if(e==="sass")return Su=lt("sass"),ue(Su)===!1}function sg(e,t){let n=Ie(t)?{...e}:!1;return async function(r){if(ue(r))return null;let s;if(n!==!1){let u=t.apply({...e},Buffer.from(r));de(u)||u===!1?s=r:(R(u)||at(u))&&(s=De(u));}else s=r;fsExtra.writeFile(e.output,s).catch(Te("Error writing stylesheet to output",{input:e.relative,output:pathe.relative(i.cwd,e.output)}));let o=ut(r,e.size);return o.isSmaller?e.kind==="SCSS"||e.kind==="SASS"?Ne(e.kind,h("CSS"),o.before):Ne("CSS",o.before,`gzip ${o.gzip}`):ht("CSS",o.before,o.after,o.saved),i.mode.hot&&i.wss.stylesheet(e.uuid,pathe.basename(e.key)),s}}async function ig(e){let{data:t}=e;if(le(t.sass)&&t.sass===!1)return Jf(e);let n=T(t.sass)?ge(i.processor.sass.config,t.sass):i.processor.sass.config;if(e.ext===".scss"||e.ext===".sass"){i.mode.watch&&v.start();try{let{css:r,sourceMap:s}=Su.compile(t.input,{loadPaths:n.include,sourceMapIncludeSources:t.postcss,sourceMap:n.sourcemap,style:n.style,alertColor:!1,alertAscii:!1,quietDeps:n.quietDeps,charset:t.snippet===!1,logger:{debug:o=>console.log("DEBUG",o),warn:_f(e)}});if(n.sourcemap){let o=pathe.join(i.dirs.sourcemaps.styles,e.base+".map");fsExtra.writeFile(o,JSON.stringify(s)).catch(Te("Error writing SASS Source Map file to the cache directory",{file:pathe.relative(i.cwd,o),source:e.relative}));}return gt("SASS Dart",v.stop()),e.size=Oe(r),{css:r,map:s}}catch(r){return i.mode.watch&&(v.clear(),me(e.relative,{notify:{title:"SCSS Transform Error",message:`SASS Dart failed to process ${e.base}`}}),Mo(e,r)),null}}return Jf(e)}async function Jf(e){try{let t=await fsExtra.readFile(e.input);return e.size=Oe(t),{css:t.toString(),map:null}}catch(t){return v.clear(),me(e.relative,{notify:{title:"Read Error",message:`File ${e.base} could not be read`}}),et(t,{source:e.relative,transform:"style"}),null}}async function og(e,t,n){let{data:r}=e;try{i.mode.watch&&v.start();let s=le(e.data.postcss)?i.processor.postcss.config:e.data.postcss,o=$(s)?s:s.plugins,u=await yi(o).process(t,{from:r.rename,to:r.rename,map:n?{prev:n,inline:!1,absolute:!0}:null});i.mode.watch&&gt("PostCSS",v.stop());let a=u.warnings();if(a.length>0)for(let l of a)jf(e,l);return u.css.toString()}catch(s){return i.mode.watch&&(v.clear(),me(e.relative,{notify:{title:"PostCSS Transform Error",message:`PostCSS failed to process ${e.base}`}}),qo(e,s)),null}}function Hf(e,t){return t.length>0?`<style ${t.join(" ")}>${e}</style>`:`<style>${e}</style>`}async function bi(e,t){i.mode.watch&&v.start(),i.mode.hot&&v.start(e.uuid);let n=sg(e,t);try{let r=await ig(e);if(r===null)return null;if(ue(yi)||!e.data.postcss&&!e.data.snippet)return n(r.css);if(e.data.postcss){let s=await og(e,r.css,r.map);return s===null?null:e.data.snippet?n(Hf(s,e.data.attrs)):n(s)}return e.data.snippet?n(Hf(r.css,e.data.attrs)):n(r.css)}catch(r){return console.log(r),null}}c();var Bu=null,Au=null;async function Lu(e){if(e==="svg-sprite")return Au=(await import('svg-sprite')).default,Wt(Au)===!1;if(e==="svgo")return Bu=(await import('svgo')).default,Wt(Bu)===!1}async function ag(e){let t=await fsExtra.readFile(e);return [e,t.toString(),Oe(t)]}function lg(e){return new Promise(function(t,n){e.compile((r,s)=>{if(r)return n(r);for(let o in s)for(let u in s[o])t(s[o][u].contents.toString());});})}function cg(e,t,n){async function r(s){let o=J({},e);i.mode.watch&&v.start(),o.kind="Sprite",s.snippet?(o.namespace="snippets",o.key=pathe.join("snippets",Un(o,s.rename)),o.output=pathe.join(i.dirs.output,o.key)):(o.key=pathe.join("assets",Un(o,s.rename)),o.output=pathe.join(i.dirs.output,o.key));let u=s.sprite===!0?i.processor.sprite.config:s.sprite,a=new Au(u),l=await kt(tr(s.input),ag).catch(Te("Error reading an SVG file",{file:o.base,source:o.relative}));if(l){let p=l.filter(([y,b])=>Zf(b)?(Et(pathe.relative(i.cwd,y),"Liquid Detected"),!1):!0);o.size=0;for(let[y,b,E]of p)a.add(y,null,b),o.size=o.size+E;let f=await lg(a),m=p.length;gt("SVG Sprite",`${m} ${Ze("SVG",m)}`,v.stop()),await fsExtra.writeFile(o.output,f).catch(Te("Error writing SVG Sprite",{file:o.key,caller:e.relative}));let d=ut(f,o.size);d.isSmaller?Ne(`${o.kind} ${d.before}`,`gzip ${d.gzip}`):ht(o.kind,d.before,d.after,d.saved),t&&(ze(o.key),await t("put",o,f));}}return r}function Zf(e){return /^(?:{{[\s\S]+?}}|{%[\s\S]+?%})|[^"'](?:{{[\s\S]+?}}|{%[\s\S]+?%})[^'"]/m.test(e)}function fg(e){if(/<path[^>]*[a-zA-Z"'\s](>)(?!\s*<\/path>)/g.test(e)){let n=`${D(`<${w("path")}>`)}`,r=`${ce(`<${w("path")} />`)}`;return Ne("SVG",n,r,"patched solidus"),e.replace(/(<path[^>]*[a-zA-Z"'\s])(>)(?!\s*<\/path>)/g,"$1 /$2")}return e}function pg(e,t,n){let r=J({},e);async function s(o){i.mode.watch&&v.start(),o.snippet?(r.namespace="snippets",r.key=pathe.join("snippets",Un(r,o.rename)),r.output=pathe.join(i.dirs.output,r.key)):(r.key=pathe.join("assets",Un(r,o.rename)),r.output=pathe.join(i.dirs.output,r.key));let u=o.svgo===!0?i.processor.svgo:o.svgo,l=(await fsExtra.readFile(r.input)).toString();if(Zf(l))return Et(r,"Liquid Detected"),null;let p=fg(l);r.size=Oe(p);let f;try{f=Bu.optimize(p,u);}catch(y){return me(r.relative,{notify:{title:"Transform Error",message:`SVGO failed to optimize ${r.key}`}}),et(y,{source:r.relative,output:r.key,processor:"SVGO"}),null}gt("SVGO",v.stop());let{data:m}=f,d=ut(m,r.size);d.isSmaller?Ne(`${r.kind} ${d.before} \u2192 gzip ${d.gzip}`):ht(r.kind,d.before,d.after,d.saved),await fsExtra.writeFile(r.output,m).catch(Te("Error writing SVG",{file:r.key,caller:e.relative})),t&&(ze(r.key),await t("put",r,m));}return s}async function xi(e,t,n){i.mode.watch&&v.start();let r=cg(e,t),s=pg(e,t),o=e.data.length;for(let u=0;u<o;u++){let a=e.data[u];u>0&&i.mode.watch&&Hs(e),a.format==="sprite"?await r(a):a.format==="file"&&await s(a);}}c();var $t=new bs;function dg(e){let t=fsExtra.readFileSync(e),n=tp__default.default.gunzipSync(t);return rp__default.default.decode(n)}function Dr(e,t){return async()=>{let n=await rp__default.default.encodeAsync(t,{omitUndefinedProperties:!0,canonical:!0}),r=tp__default.default.gzipSync(n);return r[9]=3,Dg__default.default(e,r)}}async function np(e){i.cache.uri=Fr(null);let t=pathe.join(i.cwd,"node_modules",".cache");fsExtra.existsSync(t)||fsExtra.mkdirSync(t);let n=pathe.join(t,"syncify");fsExtra.existsSync(n)||fsExtra.mkdirSync(n);for(let r of Fs)i.cache.uri[r]=pathe.join(n,`${r}.bin`),fsExtra.existsSync(i.cache.uri[r])?i.cache[r]=dg(i.cache.uri[r]):(i.cache[r]={},$t.add(Dr(i.cache.uri[r],i.cache[r])));if(x("hotSnippet",i.cache.build)||(i.cache.build.hotSnippet=[]),e.cache)return gg()}function gg(e=null){if(e===null){for(let t of Fs)hr(i.cache[t])||(i.cache[t]={},$t.add(Dr(i.cache.uri[t],i.cache[t])));return $t.onIdle()}return i.cache[e]={},$t.add(Dr(i.cache.uri[e],i.cache[e]))}function sp(){return $t.onIdle()}function nn(e=null){if(e===null){for(let t of Fs)hr(i.cache[t])||$t.add(Dr(i.cache.uri[t],i.cache[t]));return $t.onIdle()}else return $t.add(Dr(i.cache.uri[e],i.cache[e]))}function ip(e,t=NaN){let n=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return isNaN(t)===!1?ct(`${n}.${t}`,i.cache.pages)?i.cache.pages[n][t]:(x(n,i.cache.pages)?i.cache.pages[n][t]={}:i.cache.pages[n]={[t]:{}},$t.add(Dr(i.cache.uri.pages,i.cache.pages)),i.cache.pages[n][t]):(x(n,i.cache.pages)||(i.cache.pages[n]={},$t.add(Dr(i.cache.uri.pages,i.cache.pages))),i.cache.pages[n])}function Zn(e,t){let n=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return x(n,i.cache.pages)?i.cache.pages[n][t.id]=t:i.cache.pages[n]={[t.id]:t},$t.add(Dr(i.cache.uri.pages,i.cache.pages)),i.cache.pages[n][t.id]}function xg(){let e=S({stats:S({total:0,errors:0,skipped:0,bundled:0})});for(let t of ["styles","scripts","svgs","sections","layouts","metaobject","templates","snippets","locales","configs","schema","pages","metafields","assets"])e[t]=S({group:t,time:"",size:0,files:[],report:null});return e}function Fg(e){let t=null;function n(){ie(e.toRaw().join(""));}return {begin(r){t===null&&(t=timers.setInterval(n,r));},clear(){clearInterval(t),t=null;}}}async function Fi(e){v.start("build"),i.mode.export||nc("Build");let t=W().Newline(),n=Fg(t),r=new Set,s=xg(),o=K(i.filters)===!1,u=ri(i.paths,i.dirs.output),a=Tm__default.default(tr(i.watch.values())),l=await Lm__default.default("**",{absolute:!0,cwd:i.dirs.input}),p=i.cache.paths;n.begin(100);for(let d of l.filter(a)){let y=u(d);if(!de(y))switch(y.type){case 9:s.styles.files.push(y);break;case 10:s.scripts.files.push(y);break;case 4:s.sections.files.push(y);break;case 2:s.layouts.files.push(y);break;case 3:s.snippets.files.push(y);break;case 8:s.locales.files.push(y);break;case 7:s.configs.files.push(y);break;case 1:s.templates.files.push(y);break;case 16:s.pages.files.push(y);break;case 14:s.assets.files.push(y);break;case 15:s.metafields.files.push(y);break;case 11:for(let{uuid:b,format:E,input:q}of y.data)if(!r.has(b))if(r.add(b),E==="sprite")s.svgs.files.push(y);else for(let z of q)s.svgs.files.push(u(z));break}}function f(d,y){return v.start(d.group),async function(b){v.start(b.uuid),s.stats.total+=1;try{p[b.output]=b.input;let E=b.ext===".json"?await Kt(b,e):await y(b,e);return E===null||isNaN(b.size)?(s.stats.skipped+=1,S({name:b.base,input:b.relative,time:v.stop(b.uuid),output:b.key,error:"Skipped File"})):(s.stats.bundled+=1,S({name:b.base,input:b.relative,output:b.key,error:null,time:v.stop(b.uuid),size:ut(E,b.size)}))}catch(E){return s.stats.errors+=1,S({name:b.base,input:b.relative,output:b.key,time:v.stop(b.uuid),error:E.message})}}}async function m(d,y){let b=o&&x(d,i.filters)?i.filters[d]:null;if(b&&b.includes(d)===!1)return 0;let E=s[d];E.size=E.files.length,E.report=await kt(E.files,f(E,y),{stopOnError:!1}),E.time=v.stop(d);let q=E.report.length,z=h(q<10?` ${q}`:`${q}`);t.Line(L(d,`${z} ${Ze("file",q)} ${xe(E.time)}`));}await m("svgs",xi),await m("layouts",Qt),await m("templates",Qt),await m("sections",Qt),await m("snippets",Qt),await m("locales",Kt),await m("configs",Kt),await m("assets",ni),await m("styles",bi),await m("scripts",hi),await nn(),v.pause("build"),n.clear(),i.mode.export===!1&&i.mode.publish===!1&&(ie(t.Remove(0).NL.Dash("Completed",D).NL.Line(L("version",`${i.vc.number}`)).Line(L("processed",`${h(`${s.stats.total}`)} files`)).Line(L("bundled",`${h(`${s.stats.bundled}`)} files`)).Line(L("skipped",`${h(`${s.stats.skipped}`)} files`)).Line(L("duration",v.now("build"))).Line(L("errors",h(`${s.stats.errors}`))).NL.End(i.log.group).BR.toString(k)),process.exit(0));}c();c();c();function wg(e){return e==="boolean"||e==="color"||e==="date"||e==="date_time"||e==="dimension"||e==="json"||e==="money"||e==="multi_line_text_field"||e==="number_decimal"||e==="number_integer"||e==="rating"||e==="rich_text_field"||e==="single_line_text_field"||e==="url"||e==="volume"||e==="weight"}function op(e,t){for(let n of t)for(let r of ["key","type","value","namespace","description"]){if(r!=="description"&&!Le(r,n))return It(e.relative,[`Missing ${A.bold(r)} property key value in a ${Y.bold("metafields")}`,"value of page frontmatter. Frontmatter metafields require you provide the following keys:","",`${D("-")} ${w("key")}`,`${D("-")} ${w("type")}`,`${D("-")} ${w("value")}`,`${D("-")} ${w("namespace")}`,"",`${D("Update the metafield entry to include")} ${w(r)}`]),!1;if(r==="type"){let s=n[r];if(!wg(s))return It(e.relative,[`Invalid type ${A.bold(s)} provided in a page frontmatter ${Y.bold("metafields")}`,`value. Frontmatter metafields ${h("must")} be one of following types:`,"",`${D("-")} ${w("boolean")}`,`${D("-")} ${w("color")}`,`${D("-")} ${w("date")}`,`${D("-")} ${w("date_time")}`,`${D("-")} ${w("dimension")}`,`${D("-")} ${w("json")}`,`${D("-")} ${w("money")}`,`${D("-")} ${w("multi_line_text_field")}`,`${D("-")} ${w("number_decimal")}`,`${D("-")} ${w("number_integer")}`,`${D("-")} ${w("rating")}`,`${D("-")} ${w("rich_text_field")}`,`${D("-")} ${w("single_line_text_field")}`,`${D("-")} ${w("url")}`,`${D("-")} ${w("volume")}`,`${D("-")} ${w("weigh")}`,"",`${D("Update the metafield entry to an accepted")} ${w("type")}`]),!1}}return !0}c();async function up(e){return wi__default.default.get("pages.json",e.client).then(({data:t})=>t.pages).catch(t=>mt(e.store,t.response))}async function ap(e,t){if(Lt(Le("handle",t),Le("title",t))){console.log("invalid fields");return}return wi__default.default.get("pages.json",e.client).then(({data:n})=>Le("handle",t)&&Le("title",t)?n.pages.find(r=>t.title===r.title&&t.handle===r.handle):Le("handle",t)?n.pages.find(r=>t.handle===r.handle):Le("title",t)?n.pages.find(r=>t.title===r.title):void 0).catch(n=>{console.log(n);})}async function Ci(e,t){i.mode.upload||v.start();let n=await wi__default.default.post("/pages.json",{page:t},e.client).then(({data:r})=>(Uo("page",e),r.page)).catch(r=>{xr(r.response.status)?V.add(()=>Ci(e,t)):ct("response.data",r.response)&&mt(t.title,r.response);});if(n)return Zn(e.domain,n),n}async function Nu(e,t,n){let{mode:r}=i;r.upload||v.start();let s=`pages/${n.id}.json`,o=await wi__default.default.put(s,{page:n},e.client).then(({data:u})=>(r.watch?Uo("page",e):r.upload&&Xe.emit("upload","uploaded",n,{key:t.key,namespace:t.namespace,fileSize:Ct(n.body_html)}),u.page)).catch(u=>{xr(u.response.status)?V.add(()=>Nu(e,t,n)):console.log(u);});if(o)return o}function Tg(e){let t=new turndown.Turndown(i.page.import);return t.use(turndown.gfm),t.turndown(e)}async function kg(e){let t=jn("No matching pages, select an option",{title:"No matching pages",message:"Open CLI and select an option"}),n=await vi__default.default({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:[{title:"Create Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Select Page",description:`Select a page to overwrite on ${e.domain}`,value:2},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}]});return {resume:t,action:n.action}}async function Ng(e){let t=await up(e);if(!t)return;let n=t.map(s=>({title:s.title,description:`https://admin.shopify.com/store/${e.store.toLowerCase()}/pages/${s.id}`,value:s.id}));return n.push({title:tui.hr(20,!1),disabled:!0,selected:!1},{title:"Create New Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}),(await vi__default.default({type:"select",name:"action",message:"Choose Page",hint:" ",instructions:!1,choices:n})).action}async function Rg(e){let t=[{title:"View Source",description:"Prints the page source in the CLI",value:5},{title:"Update Local",description:"Update the local source with remote version",value:3},{title:"Overwrite Remote",description:"Overwrite the remote version with local source",value:6},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}],n=jn("Remote version is newer than local version",{title:"Remote \u2192 Local",message:"Remote version has changed"}),r=await vi__default.default({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t});if(r.action===5){$e(""),C(e.body_html),$e("");let s=await vi__default.default({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t.slice(1)});return {resume:n,action:s.action}}else return {resume:n,action:r.action}}function Pg(e,t){let n={};if(x("title",t)?n.title=`${t.title}`:n.title=Wr(e.name.replace(/[._-]/g," ")),x("handle",t)){let r,s=t.handle;/^[./]{1,2}/.test(s)&&(r=s,s=s.replace(/^[./]{1,2}/,""),Pe(`handle ${Gt} ${r} ${_} ${s}`,"fixed start")),/^pages\//.test(s)&&(r=s,s=s.replace(/^pages\//,""),Pe(`handle ${Gt} ${r} ${_} ${s}`,"fixed sub-path")),/[_/]/.test(t.handle)&&(r=s,s=s.replace(/[_/]/g,"-"),Pe(`handle ${Gt} ${r} ${_} ${s}`,"fixed invalid characters")),n.handle=s;}else x("title",t)?n.handle=Ya(t.title):n.handle=e.name.toLowerCase();if(x("author",t)&&i.page.author!==""){let r,s=t.author;/\//.test(t.author)&&(r=t.author,s=r.replace(/\//g," "),Pe(`author ${Gt} ${r} ${_} ${s}`,"fixed invalid characters")),n.author=s;}else t.author=i.page.author;return x("published",t)?le(t.published)?n.published=t.published:(Pe(`published ${Gt} expected boolean, got ${typeof t.published}`,"defaulted to false"),n.published=!1):n.published=!0,x("template_suffix",t)&&(x("template",t)?(Pe("duplicate template_suffix references","using template"),delete t.template_suffix):(t.template=t.template_suffix,delete t.template_suffix)),x("template",t)?n.template_suffix=t.template:i.page.suffixDir&&Vt(i.page.global)&&i.page.global.test(e.input)!==!1&&(n.template_suffix=rt(e.input)),x("metafield",t)&&(Pe("use metafields instead of metafield","sync will still process"),t.metafields=t.metafield,delete t.metafield),x("metafields",t)?T(t.metafields)&&(n.metafields=[t.metafields]):n.metafields=void 0,n}async function lp(e,t){if(i.sync.stores.length>1)return Et(e,"pages do not support multistore sync"),null;let n=await fsExtra.readFile(e.input);if(hr(n.toString()))return i.mode.watch&&Et(e,"empty file"),null;let r=Sg__default.default(n),{data:s,content:o}={...r},u=Pg(e,s);if($(u.metafields)&&!op(e,u.metafields))return null;e.kind==="Markdown"?(v.start(),u.body_html=Bg__default.default(i.page.export).render(o),Ne(`${h("Markdown")} ${_} ${h("HTML")} ${G} ${v.stop()}`)):(Ne("HTML"),u.body_html=o);let a=i.sync.stores[0],l=a.store.toLowerCase(),p=await ap(a,{handle:u.handle});if($(p))return It(e.relative,[`Multiple pages returned when matching on handle ${A.bold(u.handle)}`,"Syncify is unsure of to handle this request and has cancelled the sync. Please","check the provided handle in your webshop."]),null;let f=ip(l);if(T(p)&&(u.id=p.id,f=Zn(l,p)),de(p)&&i.page.safeSync){let d=await kg(a);if(d.action===2){let y=await Ng(a);if(y===4)return d.resume();if(y===1)return d.resume(),ze(`/pages/${u.handle} ${_} ${u.title} ${D(`${G} ${e.relative}`)}`),Ci(a,u);u.id=y,d.resume();}else return d.action===1?(d.resume(),ze(`/pages/${u.handle} ${_} ${u.title} ${D(`${G} ${e.relative}`)}`),Ci(a,u)):d.resume()}if(i.page.safeSync&&T(p)){let d=new Date(p.updated_at).getTime(),y=new Date(f.updated_at).getTime();if(d>y&&p.body_html!==u.body_html){let b=await Rg(p);if(b.action===3){b.resume();let E=p.body_html;if(i.page.importLanguage==="markdown"){let q=Tg(E);Ne(`${e.name}.html ${_} ${e.base}`),E=Sg.stringify(`
`+q,r.data);}i.watch.unwatch(e.input),await fsExtra.writeFile(e.input,E),Zn(a.domain,p),i.watch.add(e.input);}else {if(b.action===4)return b.resume();b.action===6&&b.resume();}}}if(i.mode.build)return u.body_html;ze(`/pages/${u.handle} ${_} ${u.title} ${D(`${G} ${e.relative}`)}`),await Nu(a,e,u)&&await nn("pages");}function cp(e){let t=ei(i.sync),n=ri(i.paths,i.dirs.output);i.mode.hot&&i.wss.connected(),i.watch.on("all",function(s,o){let u=n(o);if(!de(u)&&u.base!==i.file.base){if(u.type!==17&&Hs(u),s==="change"||s==="add")r(u);else if(s==="unlink")return u.type===16?t.pages("delete",u):t.assets("delete",u)}});async function r(s){try{let o=null;switch(s.type){case 10:return hi(s,t.assets,e);case 16:return lp(s,e);case 11:return xi(s,t.assets,e);case 14:case 17:return ni(s,t.assets,e);case 5:return Wf(s,t.assets,e);case 9:o=await bi(s,e);break;case 2:case 3:o=await Qt(s,e);break;case 4:s.kind==="JSON"?o=await Kt(s,e):o=await Qt(s,e);break;case 1:s.kind==="JSON"?o=await Kt(s,e):o=await Qt(s,e);break;case 7:case 8:o=await Kt(s,e);break;case 15:return o=await Kt(s,e),t.metafields({value:o,namespace:s.namespace,key:s.key})}ue(o)||(ze(s.key),await t.assets("put",s,o),i.mode.hot&&(s.type===4?i.wss.section(s.name):s.type!==9&&await V.onIdle().then(()=>i.wss.replace())));}catch(o){console.error(o),me(o);}}}c();c();async function Ei(e){return wi__default.default.get("themes.json",e.client).then(({data:t})=>t.themes).catch(t=>mt(e.store,t.response))}var sn={pointer(e,t){let n=this.state.index===t?I("\u251C "):I("\u2502 ");return t===0?I("\u2502 ")+`
`+n:n},prefix:I("\u2502 "),styles:{primary:ce,success:ce,danger:H.bold,warning:Y,muted:D,disabled:D,typing:D},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}}};async function fp(e){let t=0,r=(await Ei(e)).filter(({role:y})=>y!=="demo"),s=ot(r,"name"),o=r.map(y=>(y.name.length>t&&(t=y.name.length),{name:y.name,message:y.name,hint:`${s(y.name)} ${G} ${D(y.role)}`,value:y}));o.push({role:"separator",message:I("\u2500".repeat(t))},{name:"create",message:"Create Theme"},{name:"create",message:"Remove Theme"}),i.sync.stores.length>1&&o.push({role:"separator",message:I("\u2500".repeat(t))},{name:"store",message:"Select Stores",hint:`${s("Select Stores")} ${G} ${D("go back and choose store")}`});let{targets:u}=await enquirer.prompt({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:sn,choices:o,result(y){return Ir(this.map(y))},format(y){if($(y)&&y.length>0)return Z(`${y.join(k(", "))}`)}}),a={domain:e.store.toLowerCase(),themes:{}},l=[];for(let y of u)a.themes["${"+y.name+"}"]=y.id,l.push({name:y.name,message:y.name,validate(b,E,q){if(q&&q.name===y.name){if(/[A-Z]/.test(b))return `
`+Qe.redBright("  Target name must be lowercase");if(/[0-9]/.test(b))return `
`+Qe.redBright("  Target name cannot contain numbers");if(/[ ]/.test(b))return `
`+Qe.redBright("  Target name cannot contain spaces");if(/-/.test(b))return `
`+Qe.redBright("  Target name cannot contain dashes")}return !0}});sn.styles.primary=Z.italic,sn.styles.typing=ce;let p=JSON.stringify(a,null,2),f=await enquirer.prompt({name:"stores",type:"snippet",required:u.map(({name:y})=>y),message:"Theme Targets",newline:`
`,format(){return this.state.submitted===!0&&this.state.completed!==100?ce(`${this.state.completed}% completed`):` ${_}  ${We(`${this.state.completed}% completed`)}`},theme:sn,fields:l,template:p}),m={syncify:JSON.parse(f.stores.result)},d=await enquirer.prompt({name:"save",type:"confirm",message:"Save Settings",theme:sn,initial:!0,newline:`
`,format(){return /^[ty1]/i.test(this.input)?"Yes":"No"},footer:F.line+["",D("The following store and theme references will be saved"),D("to your package.json file on the syncify key property."),"",JSON.stringify(m.syncify,null,2).split(`
`).join(`
`+F.line),""].join(`
`+F.line)});console.log(d);}async function _g(){let e=ot(i.sync.stores,"store"),t=i.sync.stores.map(r=>({name:r.domain,message:r.store,hint:`${e(r.store)} ${G} ${D(`https://${r.domain}`)}`,value:r})),{store:n}=await enquirer.prompt({name:"store",type:"select",message:"Select Stores",choices:t,theme:sn,result(){return this.focused.value},format(r){return ce(r)}});return fp(n)}async function pp(){return i.sync.stores.length>1?_g():fp(i.sync.stores[0])}c();async function Mg(){let e=new Map,t=0;for(let n of i.sync.themes){n.target.length>t&&(t=n.target.length);let r=i.sync.stores[n.sidx],s=`${n.store}:${n.target}`,{assets:o}=await Yo(n,r.client);e.has(s)||e.set(s,{active:e.size===0,log:null,number:e.size+1,size:o.length,transfers:0,warning:0,failed:0,success:0,retry:0,progress:On(o.length),get files(){return o},get theme(){return n},errors:{local:new Map,remote:new Map,retry:new Set}});}return e}function Wg(e,t,n){let r=`${h(`${e.success}`)} ${w("of")} ${h(`${e.size}`)}`,s=h(`${e.failed}`),o=h(`${e.theme.target.toUpperCase()}`);return W().Line(L(o,_),Z).NL.Line(`completed in ${D(n)}`).NL.Line(L("synced",r),k).Line(L("errors",s),e.failed>0?X:k).Line(L("location",D.underline(t))).NL.Insert(e.progress.render()).Line.toString()}function qg(e){return W().Line(`${h(e.theme.target.toUpperCase())}  ${_}  ${e.theme.store}`,D.dim).NL.Line(`${h(ks(e.number))} in queue`,go).NL.Line(L("synced",`${h("0")} ${w("of")} ${h(`${e.size}`)}`),D.dim).Line(L("retry",h("0")),D.dim).Line(L("errors",h("0")),D.dim).NL.Insert(e.progress.render(D.dim)).NL.toString()}async function Dp(e){let n=0;v.start("import"),Je("Import"),dt("Preparing",{style:"spinning"});let r=await Mg();await je(500);function s(o){dt.stop();let{theme:u,file:a}=o,l=`${u.store}:${u.target}`,p=r.get(l),f=`https://${u.store}?preview_theme_id=${u.id}`,m=W().NL.Line(L("Duration",k(v.now("import"))),D).Line(L("Transfers",k(`${n++}`)),D).Line(L("Syncing",Ft(`${h(u.target)}  ${_}  ${u.store}`)),D).Line(L("Preview",Rt(f)),D).Ruler(),d="";if(o.status===3)fsExtra.writeFileSync(a.output,""),p.warning+=1,p.transfers+=1,p.progress.increment(1),d=Y(a.key);else if(o.status===0){p.errors.retry.has(a.output)&&(p.retry-=1,p.errors.retry.delete(a.output)),p.success+=1,p.transfers+=1,p.progress.increment(1);let oe=Buffer.from(o.data.value||null,"utf8");fsExtra.writeFileSync(a.output,oe),d=ce(a.key);}else o.status===1?(p.errors.retry.has(a.output)||(p.retry+=1,p.errors.retry.add(a.output)),d=We(a.key)):o.status===2&&(p.errors.retry.has(a.output)&&(p.retry-=1,p.errors.retry.delete(a.output)),p.errors.remote.has(a.output)||(p.failed+=1,p.transfers+=1,p.progress.increment(1),p.errors.remote.set(a.output,o)),d=X(a.key));let y=`${h(`${p.success}`)} ${w("of")} ${h(`${p.size}`)}`,b=h(`${p.retry}`),E=h(`${p.failed}`),q=h(`${p.warning}`),z=W().NL.Line(`${h(p.theme.target.toUpperCase())}  ${_}  ${p.theme.store}`,Z).NL.Line(d).NL.Line(L("synced",y),k).Line(L("retry",b),p.retry>0?We:k).Line(L("warning",q),p.warning>0?Y:k).Line(L("failed",E),p.failed>0?X:k).NL.Insert(p.progress.render()).NL.Ruler(),fe=[m.toString()],ee=0;for(let oe of r.values())oe.active?fe.push(z.toString()):oe.log===null?(ee=ee+1,oe.number=ee,fe.push(qg(oe))):fe.push(oe.log);ie(ne(fe));}Xe.on("import",s),r.size-1;for(let[o,u]of r){let[a,l]=o.split(":"),p=pathe.join(i.dirs.import,a,l);v.start(o),u.active=!0;for(let{key:f}of u.files){let m=gc(f,p),d=J({url:u.theme.url,method:"get",params:{"asset[key]":m.key}},i.sync.stores[u.theme.sidx].client);await V.add(()=>Wn(u.theme,m,d));}await V.onIdle(),u.active=!1,u.log=Wg(r.get(o),pathe.relative(i.cwd,p),v.stop(o));}for(let{errors:o}of r.values())o.remote.size>0;}c();c();async function hp(e){let t=await Lm.glob("templates/*",{cwd:e,absolute:!0}),n=new Set,r=new Set;for(let u of t){let{name:a}=pathe.parse(u);t.filter(p=>pathe.parse(p).name===a).length>1&&!r.has(a)&&r.add(a);}if(r.size===0)return 1;r.size>1?ke(`${h(`${r.size}`)} mismatch template files`,{suffix:"error",type:"error"}):ke(`${h(`${r.size}`)} mismatch template file`,{suffix:"error",type:"error"});let s=jn(`select ${h(".json")} or ${h(".liquid")} template`,{title:"Export Error",message:"Multiple templates detected"}),{action:o}=await vi__default.default([{name:"action",type:"select",message:"Select an Option",hint:" ",instructions:!1,choices:[{title:"Select Templates",description:"Choose which templates to export",value:"select"},{title:"Export .json Templates",description:"Exports the .json templates",value:"json"},{title:"Export .liquid Templates",description:"Exports the .liquid templates",value:"liquid"},{title:"Cancel Export",value:"cancel"}]}]);if(o==="select"){let u=[];for(let a of r)u.push({name:"choice",type:"toggle",message:"templates",hint:" ",active:`${a}.json`,inactive:`${a}.liquid`,onState:({value:l})=>{l?n.add(pathe.join(e,"templates",`${a}.liquid`)):n.add(pathe.join(e,"templates",`${a}.json`));}});return await vi__default.default(u).then(()=>s()),n}else if(o==="json"){for(let u of r)n.add(pathe.join(e,"templates",`${u}.json`));return s(),n}else if(o==="liquid"){for(let u of r)n.add(pathe.join(e,"templates",`${u}.liquid`));return s(),n}else o==="cancel"&&s();return 2}function yp(e){e.assets===0&&e.config===0&&e.templates===0&&e.layout===0&&e.snippets===0&&e.sections===0&&he("Empty output directory",[`There are no files within ${Z(pathe.relative(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${Z.bold("syncify build")} command and try again.`]);}c();c();function Fp(e,t,n=pathe.parse(t).root){let r=t;for(;r!==n;){let s=pathe.join(r,e);if(fsExtra.existsSync(s))return s;if(pathe.extname(s)!==".json"){let o=s+".json";if(fsExtra.existsSync(o))return o}r=pathe.dirname(r);}return null}function Xg(e,t){return pathe.isAbsolute(t)?fsExtra.existsSync(t)?t:null:Fp(t,e)}function Zg(e,t){return pathe.isAbsolute(t)?fsExtra.existsSync(t)?t:null:t.startsWith(".")?Fp(t,e):lt.resolve(t,{paths:[e]})}function wp(e=i.cwd,t="tsconfig.json",n=!1){e=pathe.resolve(e);let r=n?Zg(e,t):Xg(e,t);if(!r)return null;let s=Ts(fsExtra.readFileSync(r,"utf-8")),o=pathe.dirname(r);Le("baseURL",s.compilerOptions)&&(s.compilerOptions.baseUrl=pathe.join(o,s.compilerOptions.baseUrl));let u=[];if(s.extends){let a=$(s.extends)?s.extends:[s.extends],l={};for(let p of a){let f=wp(o,p,!0);f&&(J(l,{...f?.data,compilerOptions:{...l.compilerOptions,...f?.data?.compilerOptions}}),u.push(...f.files));}J(s,{...l,...s,compilerOptions:{...l.compilerOptions,...s.compilerOptions}});}return delete s.extends,{path:r,data:s,files:[...u,r]}}function eh(e,t){return wp(e,t)}function th(e,t){return e.replace(ws,`.bundled_${vt()}.${t==="esm"?"mjs":"cjs"}`)}function rh(e){if(typeof jest>"u")return "cjs";let t=pathe.extname(e);return t===".js"?i.pkg.type==="module"?"esm":"cjs":t===".ts"||t===".mjs"?"esm":"cjs"}function nh(e){return e===null?null:ft(e||{}).map(t=>new RegExp(`^${t.replace(/\*/,".*")}$`))}function bp(e,t){return t?t.some(n=>Vt(n)?n.test(e):e===n||e.startsWith(n+"/")):!1}function sh({external:e,notExternal:t}={}){return {name:"bundle-require:external",setup({onResolve:n}){n({filter:/.*/},async r=>{if(!(r.path.charCodeAt(0)===46||pathe.isAbsolute(r.path))){if(bp(r.path,e))return {external:!0};if(!bp(r.path,t))return {external:!0}}});}}}function ih(){return {name:"bundle-require:inject-file-scope",setup(e){e.initialOptions.define={...e.initialOptions.define,__dirname:"__injected_dirname__",__filename:"__injected_filename__","import.meta.url":"__injected_import_meta_url__"},e.onLoad({filter:ws},async t=>{let n=await fsExtra.readFile(t.path,"utf-8"),r=[`const __injected_filename__ = ${JSON.stringify(t.path)};`,`const __injected_dirname__ = ${JSON.stringify(pathe.dirname(t.path))};`,`const __injected_import_meta_url__ = ${JSON.stringify(url.pathToFileURL(t.path).href)};`];return {contents:ne(r)+n,loader:Ka(pathe.extname(t.path))}});}}}async function Ai(e){if(!ws.test(e.filepath))throw new Error(`${e.filepath} is not a valid JS file`);let t=e.preserveTemporaryFile??!!process.env.BUNDLE_REQUIRE_PRESERVE,n=e.cwd||i.cwd,r=e.format??rh(e.filepath),s=e.tsconfig===null?null:eh(n,e.tsconfig),o=nh(s?.data.compilerOptions?.paths||{});async function u(p){if(!p.outputFiles)throw new Error("[bundle-require] no output files");let{text:f}=p.outputFiles[0],m=e.getOutputFile||th,d=pathe.join(i.dirs.cache,m(e.filepath,r));fsExtra.writeFileSync(d,f,"utf8");let y,b=e.require||Qa;try{y=await b(r==="esm"?url.pathToFileURL(d).href:d,{format:r});}finally{t||await fsExtra.unlink(d);}return {mod:y,dependencies:p.metafile?ft(p.metafile.inputs):[]}}let a=await esbuild.build({...e.esbuildOptions,entryPoints:[e.filepath],absWorkingDir:n,outfile:"out.js",format:r,write:!1,platform:"node",sourcemap:"inline",bundle:!0,metafile:!0,plugins:[...Le("plugins",e.esbuildOptions)?e.esbuildOptions.plugins:[],sh({external:e.external,notExternal:o}),ih()]});return await u(a)}async function Bp(e){let t=null;for(let n of ["syncify.config.js","syncify.config.mjs","syncify.config.cjs","syncify.config.ts","syncify.config.json"]){if(t=pathe.join(e,n),await fsExtra.pathExists(t))break;t=null;}if(t===null)return null;try{if(pathe.extname(t)===".json"){i.file.path=t,i.file.relative=pathe.relative(e,t),i.file.base=pathe.basename(t);let n=await fsExtra.readFile(t);return Ts(n.toString())}else {i.file.path=t,i.file.relative=pathe.relative(e,t),i.file.base=pathe.basename(t);let n=await Ai({cwd:e,filepath:t});return n.mod.syncify||n.mod.default||n.mod}}catch(n){console.log(n);let r=pathe.join(e,"syncify.config.json");return await fsExtra.pathExists(r)?fsExtra.readJson(r):null}}async function ju(e){let t=pathe.join(e,"package.json");if(!await fsExtra.pathExists(t))throw new Error('Missing "package.json" file');try{i.pkg=await fsExtra.readJson(t),ct("syncify.stores",i.pkg)?$(i.pkg.syncify.stores)?i.stores=i.pkg.syncify.stores:T(i.pkg.syncify.stores)&&K(i.pkg.syncify.stores)===!1&&(i.stores=[i.pkg.syncify.stores]):ec(e);}catch(r){throw new Error(r)}}async function Ap(e,t){let n=pathe.join(i.cwd,"package.json");try{let s=(await fsExtra.readFile(n)).toString(),o=s.indexOf('"version"'),u=s.indexOf('"',o+10)+1,a=s.indexOf('"',u+1);return s.slice(u,a)===e?(await fsExtra.writeFile(n,`${s.slice(0,u)}${t}${s.slice(a)}`),await ju(i.cwd),!0):!1}catch(r){throw new Error(r)}}async function Lp(e){let t=pathe.join(e.cwd,".env");if(await fsExtra.pathExists(t)){let n=Cp__default.default.config({path:t});if(n.error)return et(n.error,{path:t}),null;i.env.file=t,i.env.vars=n.parsed;}else if(t=pathe.join(e.cwd,"syncify.env"),await fsExtra.pathExists(t)){let n=Cp__default.default.config({path:t});if(n.error)return et(n.error.message,{path:t}),null;i.env.file=t,i.env.vars=n.parsed;}else e.setup===!1&&Vs(e.cwd);}async function Ti(e){let{themeVersion:t}=i.cache.build;v.start("export"),i.mode.build?(Je("Build"),await Fi(e)):yp(i.stats);let n=await hp(i.dirs.output);if(n===2)return;n===1&&i.mode.build&&v.stop("build"),i.mode.publish?Ys("Exporting"):Je("Export"),$e(),await fsExtra.pathExists(i.dirs.export)||await fsExtra.mkdir(i.dirs.export);let r=new ph__default.default;for(let o of vr){let u=pathe.join(i.dirs.output,o);if(await fsExtra.pathExists(u)){let l=await Lm.glob("*",{cwd:u,absolute:!0});for(let p of l){let f=`${o}/${pathe.basename(p)}`;fsExtra.statSync(p).size===0?(r.addFile(f,xs(" ")),Pe(f,"empty file")):(n===1||n.has(p)===!1)&&r.addLocalFile(p,o);}}}let s=Oe(r.toBuffer());if(i.vc.update!==null){await fsExtra.pathExists(i.vc.update.dir)||await fsExtra.mkdir(i.vc.update.dir),Ks(i.vc,"bump"),Ho(Ct(s),pathe.relative(i.cwd,i.vc.update.zip));try{await r.writeZipPromise(i.vc.update.zip),t=i.vc.update.number;}catch(o){return et(o,{file:i.vc.zip,details:"Failed to write zip file"})}}else {await fsExtra.pathExists(i.vc.dir)?Ks(i.vc,"overwrite"):(await fsExtra.mkdir(i.vc.dir),Ks(i.vc,"created")),Ho(Ct(s),pathe.relative(i.cwd,i.vc.zip));try{await r.writeZipPromise(i.vc.zip);}catch(o){return et(o,{file:i.vc.zip,details:"Failed to write zip file"})}}i.pkg.version!==t&&(await Ap(i.pkg.version,t)?(gt("package.json","version bumped"),i.cache.build.themeVersion=t,await nn("build")):Pe("package.json version failed to bump","manual increment required")),v.stop("export"),i.mode.publish===!1&&(Je(),$e(""),process.exit(0));}c();async function Np(e){await Ti(e),v.start("publish"),Ys("Publishing");let t=Dh__default.default(i.vc.dir),n=mh__default.default.createServer((a,l)=>t(a,l,dh__default.default(a,l))),r=a=>{if(a.code==="EADDRINUSE")return me("EADDRINUSE"),null},s=()=>{n.removeListener("error",r),n.removeListener("connect",s);};n.on("error",r),n.on("connect",s),n.listen(i.publish.tunnelPort),await je(500),v.start("ngrok");let u=`${await kp__default.default.connect({addr:i.publish.tunnelPort,onStatusChange(a){a==="closed"?ke("disconnect",{prefix:"ngrok"}):ke(`${h("connected")} PORT${B}${i.publish.tunnelPort}`,{prefix:"ngrok",suffix:v.stop("ngrok")});}})}/${i.vc.number}.zip`;ke(D(u),{prefix:"server"});for(let a of i.sync.stores)v.start(a.domain),ke(a.domain,{prefix:"webshop",color:Z}),ke(`${h("role")} ${_} ${i.publish.publishRole}`,{prefix:"publish"}),ke(h(`v${i.vc.number}`),{prefix:"version",color:vs}),$e(),await je(1e3),dt("uploading",{style:"spinning",color:ce}),await je(2e3),dt.update("dispatched"),await je(2e3),dt.update("extracting"),await je(2e3),dt.update("processing"),await je(1e3),dt.stop("done"),ke(`${h("published")} ${_} ${a.domain}`,{prefix:"status",color:ce,suffix:v.now(a.domain)});n.close(),await kp__default.default.disconnect(),$e(),Je(),$e(),await vi__default.default([{name:"action",hint:" ",type:"select",message:"Post-Publishing",choices:[{title:"Update Config",value:"config"},{title:"Publish Themes",value:"publish"},{title:"Delete Themes",value:"delete"}]}]);}c();c();var Rp=!1,Pp=!1,Mu=new Set;function ki(e,t){if(!Rp){Rp=!0;for(let n of Mu)n();e&&process.exit(128+t);}}function Ni(e){return Mu.add(e),Pp||(Pp=!0,process.once("exit",ki),process.once("SIGINT",ki.bind(void 0,!0,2)),process.once("SIGTERM",ki.bind(void 0,!0,15)),process.on("message",t=>{t==="shutdown"&&ki(!0,-128);})),()=>Mu.delete(e)}var Rr={enable:!0,output:[]};async function $h(){if(ie(Q(D("validating snippet injection"))),await Fc()){ie(Q(D("validating layouts")));for(let t in i.hot.alive){if(!await fsExtra.pathExists(t)){ie(Q(D("layout has not yet been bundled, building now...")));let r=Lm__default.default.sync(i.config.paths.layout,{cwd:i.dirs.input,absolute:!0});for(let s of r)if(pathe.basename(s)===pathe.basename(t)){let o=await fsExtra.readFile(s);await fsExtra.writeFile(t,o);}ie(Q(D("layout was bundled from source, injecting hot snippet")));}try{await vc(t)||(ie.clear(),me("Failed to inject hot reload render tag",{notify:{title:"HOT Reloading Failed",message:"HOT Reloading is disabled"}}));}catch(r){console.log(r);}}ie.clear();}else ie.clear(),me("Failed to upload snippet");}async function _p(){if(!Rr.enable)return Rr.output.push(F.red,F.red+X("Change the socket port address or kill the session occupying it."),F.red+X("This error typically occurs when multiple Syncify instances are active.")),me(X(`${h("ERROR")} on ${h(`${i.hot.method==="hot"?"HOT":"LIVE"} Reload:`)}`)),C(Rr.output.join(`
`)),null;C(Q(h(`${i.hot.method==="hot"?"HOT Reload":"LIVE Reload"}${B}`))),ie(Q("configuring HOT Reload")),await $h();function e(l){l.setHeader("Access-Control-Allow-Origin","*"),l.setHeader("Cache-Control","public, max-age=0");}let t=Dh__default.default(pathe.join(i.dirs.output,"assets"),{setHeaders:e}),n=mh__default.default.createServer((l,p)=>t(l,p,dh__default.default(l,p))),r=`http://localhost:${i.hot.server}`,s=l=>{if(l.code==="EADDRINUSE")return Rr.output.push(F.red+X(`${h("EADDRINUSE")} ${_} ${r}`),F.red,F.red+X.bold(`Server Port ${i.hot.server} address already in use`),F.red,F.red+X("Change the server port address or kill the session occupying it."),F.red+X("This error typically occurs when multiple Syncify instances are active.")),ie.clear(),C(Rr.output.join(`
`)),i.wss.http.close(),null},o=()=>{ie.done(),i.wss.connected(),n.removeListener("error",s),n.removeListener("connect",o);};n.on("error",s),n.on("connect",o),n.listen(i.hot.server);let u=`${D("PORT")}  ${_} ${Ft(`${i.hot.server}`)}`,a=`${D("PORT")}  ${_} ${Ft(`${i.hot.socket}`)}`;ie(Q(`${Z("server")}  ${_}  ${u}`)),C(Q(`${Z("socket")}  ${_}  ${a}`));for(let l in i.hot.alive)C(Q(`${Z("layout")}  ${_}  ${D(pathe.relative(i.cwd,l))}`));$e();}function jp(){if(i.mode.hot===!1)return;let e=new ws$1.Server({port:i.hot.socket,path:"/ws",skipUTF8Validation:!0});Ni(()=>{e.emit("disconnect"),e.close();});let t=s=>{s.code==="EADDRINUSE"&&(e.close(),Rr.enable=!1,Rr.output.push(F.red+X(`${h("EADDRINUSE")} ${_} ws://localhost:${i.hot.server}`),F.red,F.red+X.bold(`Socket Port ${i.hot.server} address already in use`)));},n=()=>{e.removeAllListeners("script"),e.removeAllListeners("stylesheet"),e.removeAllListeners("section"),e.removeAllListeners("svg"),e.removeAllListeners("assets"),e.removeAllListeners("reload"),e.removeAllListeners("replace");},r=s=>{e.removeListener("error",t),e.prependListener("script",o=>s.send(`script,${o}`)),e.prependListener("stylesheet",o=>s.send(`stylesheet,${o}`)),e.prependListener("section",o=>s.send(`section,${o}`)),e.prependListener("svg",o=>s.send(`svg,${o}`)),e.prependListener("assets",()=>s.send("assets")),e.prependListener("reload",()=>s.send("reload")),e.prependListener("replace",()=>s.send("replace")),e.prependListener("connected",()=>s.send("connected")),e.prependListener("disconnect",()=>s.send("disconnect")),s.addEventListener("message",({data:o})=>Qs(o));};return e.on("close",n),e.on("error",t),e.on("connection",r),{get http(){return e},script:(s,o)=>e.emit("script",`${o},${s}`),stylesheet:(s,o)=>e.emit("stylesheet",`${o},${s}`),section:s=>e.emit("section",s),svg:s=>e.emit("svg",s),assets:()=>e.emit("assets"),reload:()=>e.emit("reload"),replace:()=>e.emit("replace"),connected:()=>e.emit("connected"),disconnect:()=>e.emit("disconnected")}}c();function Ip(e){let t=e.toString().trim().toLowerCase();if(t==="v"){let n=ft(i.errors);for(let r=0,s=n.length;r<s;r++){let o=n[r];if(i.errors[o].size!==0){r>0&&Js(),ke(h.whiteBright(o));for(let u of i.errors[o].values())R(u)&&u.length>0&&ae(u);i.errors[o].clear();}}i.mode.upload&&(Je(),process.exit(0));}else if(t==="s"){for(let n of i.errors)R(n)&&n.length>0&&ae(n);i.errors.clear();}else if(t==="w"){let n=i.warnings[i.log.uri];for(let r of n.keys()){let s=n.get(r);if(s.size===0)continue;let o=W({type:"warning"}).Newline("yellow").Ruler().Newline("yellow").Line(r.toUpperCase(),h.yellow).Newline("yellow");for(let u of s.values())R(u)&&u.length>0&&o.Line(u);jr(o.toString()),s.clear();}}}c();var bm=yt(hm());function xm(e){C(Ia);let t=I("-".repeat(80)),n=`
`+I("\u2500".repeat(80))+`
`,r=`
    ${h("SYNCIFY CLI  "+_+k("  vundefined"))}

    ${k("Please provide a command argument.")}

    ${h("USAGE"+B)}

    $ syncify                    ${D.italic("Show this screen")}
    $ syncify {store} [theme]    ${D.italic("Store and theme targeting")}

    ${h("HELP"+B)}

    -h, --help                   ${D.italic("Print a list of all available commands")}
    -h, --help examples          ${D.italic("Print a list of command examples")}

  `;if(e.help===null){let a=lt("figlet").textSync("  syncify",{font:"Slant",whitespaceBreak:!0});return C(wt.bold.bgBlack(a)+`

`,r)}else {let a=" ".repeat(10)+"syncify",l=lt("figlet").textSync(a,{font:"Slant",whitespaceBreak:!0});C(wt.bold.bgBlack(l)+`
`,n,D(`Scroll up ${wt("\u25B2")} and ${wt("\u25BC")} down using the arrow keys.`),n);}let s=`
    ${h("SYNCIFY CLI  "+_+k("  vundefined"))}

    Below are some usage examples for working with the Syncify CLI.
    The ${D("=")} character is optional and samples are using the ${D("$ sy")} alias.

    ${h("TARGETING"+B)}

    ${D("Target 1 store and 1 theme")}:
    $ sy your-store${D("=")}theme-1

    ${D("Target 1 store and 2 theme")}:
    $ sy your-store${D("=")}theme-1,some-theme,test-theme

    ${D("Target 2 stores and 1 theme")}:
    $ sy ---your-store${D("=")}theme-1 --another-store${D("=")}some-theme

    ${D("Target 2 stores and 4 theme")}:
    $ sy --your-store${D("=")}theme-1,theme-2 --another-store${D("=")}some-theme,test-theme

  ${t}

    ${h("BUILDING"+B)}

    ${D("Build theme from source")}:
    $ sy --build

    ${D("Build theme with terse minification")}:
    $ sy --build --terse

    ${D("Build theme and clean")}:
    $ sy --build --clean --terse

  ${t}

    ${h("WATCHING"+B)}

    ${D("Watch 1 store and 1 theme")}:
    $ sy your-store${D("=")}theme-1 --watch

    ${D("Watch 1 store and 2 themes with hot reloading")}:
    $ sy your-store${D("=")}theme-1,theme-2 --watch --hot

    ${D("Watch 2 stores and 1 theme")}:
    $ sy --your-store${D("=")}theme-1 --another-store${D("=")}some-theme --watch

    ${D("Watch 2 stores and 2 themes")}:
    $ sy --your-store${D("=")}theme-1,theme-2 --another-store${D("=")}some-theme,test-theme --watch

    ${D("Watch 1 store with 2 themes and clean mode with hot live reloads")}:
    $ sy your-store${D("=")}theme-1,theme-2 --watch --clean --hot

    ${D("Watch 1 store with 2 themes in production mode")}:
    $ sy your-store${D("=")}theme-1,theme-2 --prod --watch

  `,o=`
    ${h("SYNCIFY CLI  "+_+k("  vundefined"))}

    Welcome to the Syncify CLI. The command line utility assumes that you have
    defined stores, themes and setup credentials within a ${D(".env")} file.

    ${h("ALIASES"+B)}

      $ sy                         ${D.italic("Shorthand for syncify")}

    ${h("COMMANDS"+B)}

      $ syncify                    ${D.italic("Show this screen")}
      $ syncify {store} [theme]    ${D.italic("Store and theme targeting")}

    ${h("THEMES"+B)}

        --{store} [theme]          ${D.italic("A store reference command (run examples)")}
      -t, --theme [theme]          ${D.italic("A comma seprated list of themes")}

    ${h("PATHS"+B)}

      -c, --config    <path>       ${D.italic("Set config directory path")}
      -i, --input     <path>       ${D.italic("Set input directory path")}
      -o, --output    <path>       ${D.italic("Set output directory path")}

    ${h("MODES"+B)}

      -w, --watch                  ${D.italic("Run watch mode")}
      -b, --build                  ${D.italic("Run build mode from input")}
      -u, --upload                 ${D.italic("Run upload mode theme to stores")}
      -d, --import                 ${D.italic("Run download mode from theme and stores")}
      -e, --export                 ${D.italic("Run export mode and generate theme zip")}
      -p, --publish                ${D.italic("Run publish and create a release")}
      -r, --resource               ${D.italic("Run resource mode, resource name expected")}

    ${h("RESOURCES"+B)}

      -r, --resource themes        ${D.italic("Run the themes resource")}
      -r, --resource assets        ${D.italic("Run the theme assets resource")}
      -r, --resource pages         ${D.italic("Run the pages resource")}
      -r, --resource metafields    ${D.italic("Run the metafields resource")}
      -r, --resource redirects     ${D.italic("Run the redirects resource")}
      -r, --resource files         ${D.italic("Run the files resource")}

    ${h("ENVIRONMENT"+B)}

      --dev                       ${D.italic("Build in development mode (default)")}
      --prod                      ${D.italic("Build in production mode")}
      --hot                       ${D.italic("Run watch with hot-reloads")}

    ${h("OPERATIONS"+B)}

      --clean                     ${D.italic("Clean the output, use with modes")}
      --silent                    ${D.italic("Silent logging, only errors will print")}
      --cache                     ${D.italic("Purges the local .cache references")}

    ${h("TRIGGERS"+B)}

      --spawn  [list]             ${D.italic("Invoke a defined spawn child process/s")}
      --delete [list]             ${D.italic("Delete a remote and local file")}
      --terse  [list]             ${D.italic("invoke minify mode, accepts resource/s")}

    ${h("TRANSFORMS"+B)}

      --script                    ${D.italic("Run the script transform in isolation")}
      --style                     ${D.italic("Run the style transform in isolation")}
      --svg                       ${D.italic("Run the svg transform in isolation")}
      --image                     ${D.italic("Run the image transform in isolation")}

    ${h("UTILITY"+B)}

      -f, --filter <path>         ${D.italic("Filter operation to be used with modes")}

    ${h("VERSIONING"+B)}

      --bump patch                ${D.italic("Apply a patch version bump, use in export mode")}
      --bump minor                ${D.italic("Apply a minor version bump, use in export mode")}
      --bump major                ${D.italic("Apply a major version bump, use in export mode")}

    ${h("STRAPS"+B)}

      --strap dusk                ${D.italic("Import and generate a dusk strap")}
      --strap dawn                ${D.italic("Import and generate a dawn strap")}
      --strap silk                ${D.italic("Import and generate a silk strap")}

    ${h("HELP"+B)}

      -h, --help                  ${D.italic("Print this screen")}
      -h, --help examples         ${D.italic("Print a list of command examples")}

    ${t}

    ${D("BY \u039D\u0399\u039A\u039F\u039B\u0391\u03A3 \u03A3\u0391\u0392\u0392\u0399\u0394\u0397\u03A3")}

    ${D.underline("https://github.com/panoply")}
    ${D.underline("https://x.com/niksavvidis")}

  `;readline.emitKeypressEvents(process.stdin);let u=(0, bm.default)().setContent(e.help==="examples"?s:o).setStart({x:0,y:11}).setSize({width:100,height:30}).setWrapOptions({trim:!1,hard:!1,wordWrap:!1}).print();C(n,D(`Type ${wt.bold("Q")} or press ${wt.bold("esc")} key to quit and exit this screen`),n),ql.stdout.cursorTo(0,40),ql.stdin.setRawMode(!0),ql.stdin.on("keypress",(a,l)=>{l.name==="up"&&u.scroll(-2).print(),l.name==="down"&&u.scroll(2).print(),l.name==="q"&&process.exit(),l.name==="escape"&&process.exit();});}c();c();async function wm(){let{dirs:e}=i;return await _i(e.cache),await _i(e.sourcemaps.root),Promise.all([_i(e.sourcemaps.scripts),_i(e.sourcemaps.styles)])}async function Ku(e){if(e||(e=i.dirs.output),await fsExtra.pathExists(e)){if(i.mode.clean)try{await fsExtra.emptyDir(e);}catch(n){console.error(n);}}else try{await fsExtra.mkdir(e);}catch(n){throw new Error(n)}for(let n of vr){let r=pathe.join(e,n),s=await fsExtra.pathExists(r),o=n.startsWith("templates/")?n.slice(10):n;if(s)i.stats[o]=fsExtra.readdirSync(r).length;else try{await fsExtra.mkdir(r),i.stats[o]=0;}catch(u){throw new Error(u)}}}function Cm(e){let t=lc(i.cwd);for(let[n,r]of Ba){let s;if(n==="cache"){i.dirs[n]=pathe.join(i.cwd,r,".syncify"),i.dirs.sourcemaps=Fr(null),i.dirs.sourcemaps.root=pathe.join(i.dirs[n],"sourcemaps"),i.dirs.sourcemaps.scripts=pathe.join(i.dirs.sourcemaps.root,"scripts"),i.dirs.sourcemaps.styles=pathe.join(i.dirs.sourcemaps.root,"styles");continue}if(n==="import"){i.mode.import?x("output",e)?i.dirs[n]=t(e.output):i.dirs[n]=t(i.config.import):i.dirs[n]=t(i.config.import);continue}else if(n==="export"){i.mode.export?x("output",e)?i.dirs[n]=t(e.output):i.dirs[n]=t(i.config.export):i.dirs[n]=t(i.config.export);continue}else if(x(n,e)&&e[n]===r)if(i.config[n]===r){i.dirs[n]=t(e[n]);continue}else s=i.config[n];else R(e[n])?s=e[n]:s=i.config[n];R(s)?i.dirs[n]=t(s):j({option:"config",name:n,provided:s,expects:"string"});}i.watch.add(i.file.path);}async function vm(){let{dirs:e,sync:t,mode:n}=i;if(!n.import)return;if(!await fsExtra.pathExists(e.import))try{await fsExtra.mkdir(e.import);}catch(s){throw new Error(s)}for(let s in t.themes){let{store:o,target:u}=t.themes[s],a=pathe.join(e.import,o);if(await fsExtra.pathExists(a)){if(n.clean)try{await fsExtra.emptyDir(a);}catch(p){console.error(p);}}else try{await fsExtra.mkdir(a);}catch(p){throw new Error(p)}await Ku(pathe.join(a,u));}}async function _i(e){if($(e)){for(let t of e)if(!await fsExtra.pathExists(t))try{await fsExtra.mkdir(t);}catch(r){throw new Error(r)}}else if(!await fsExtra.pathExists(e))try{await fsExtra.mkdir(e);}catch(n){throw new Error(n)}}c();function Em(){if(!x("processors",i.config)||!x("json",i.config.processors))return;let{json:e}=i.config.processors;if(!ue(e)&&!(T(e)&&K(e))){T(e)||j({option:"processors",name:"json",expects:"{}",provided:typeof e});for(let t in e){if(t==="indent")if(pt(e[t])){i.processor.json[t]=e[t];continue}else j({option:"json",name:t,provided:e[t],expects:"number"});if(t==="useTab")if(le(e[t])){i.processor.json[t]=e[t];continue}else j({option:"json",name:t,provided:e[t],expects:"boolean"});if(t==="exclude"){let n=R(e[t])?[e[t]]:e[t];if($(n)){i.processor.json[t]=Tm__default.default(n);continue}else j({option:"json",name:t,provided:n[t],expects:"string | string[]"});}}}}c();function Sm(e){let t=Ye(e.pages,e.metafields,e.redirects),n=Ye(e.style,e.script,e.image,e.svg),r=Ye(t,e.upload,e.import)?!1:e.watch;if(i.mode=J(i.mode,{watch:r,dev:!e.prod,prod:e.prod,setup:e.setup,hot:os(e.watch,e.hot),interactive:e.interactive,redirects:e.redirects,metafields:e.metafields,pages:e.pages,pull:e.pull,cache:os(e.build,e.cache),force:e.force,views:e.views,script:n?e.script:!1,style:n?e.style:!1,image:n?e.image:!1,svg:n?e.svg:!1,terse:Ye(e.terse,e.prod),clean:Ye(t,n,e.upload)?!1:os(e.export,e.build)||e.clean,build:Ye(e.watch,e.import)?!1:e.build,upload:Ye(n,r)?!1:e.upload,export:e.export,import:Ye(t,n,e.upload,e.watch,e.build)?!1:e.import,publish:e.publish,release:R(e.release),themes:e._[0]==="themes"}),i.mode.themes){e._=[];return}t2(i.mode,e),i.mode.release&&(i.mode.clean=!0,i.mode.build=!0,i.mode.export=!0,i.mode.publish=!0),i.mode.build&&Lt(i.mode.script,i.mode.style,i.mode.svg,i.mode.pages,i.mode.metafields,i.mode.image)&&(i.mode.script=!0,i.mode.style=!0,i.mode.svg=!0,i.mode.image=!0,i.mode.views=!0);}function t2(e,t){if(t.cache&&t.build===!1&&_t({expected:"-b, --build",message:["Cache resets can only be executed along side build operations"],fix:[`Attempting to purge cache outside ${h("build")} mode Syncify requires you to pass`,"the build mode flags when executing a cache reset, for example:",`

`,`${k("$")} ${w(`syncify ${i.argv} ${A("-b --cache")}`)}`,`

`,`Run ${D("syncify --help")} for more information, or pass an execution`,`operation mode as per the ${k("expected")} value.`,`

`]}),Ir(e).every(n=>n===!1)&&_t({expected:"--<cmd>",message:["Execution is unclear, you have not provided Syncify with a valid operation","mode to execute"],fix:["Syncify requires that you provide an operation. In most cases, this","error occurs when you have forgotten to pass the mode, for example:",`

`,`${k("$")} ${k(`syncify ${Bs}${te("mode")}${As}`)}`,`

`,`Run ${A("syncify --help")} for more information`]}),e.export){let n=ft(e);n.push("filter","delete","spawn","resource");for(let r of n)if(!(r==="build"||r==="clean"||r==="cache"||r==="export")&&e[r]){let s=n.filter(l=>l!=="build"&&l!=="clean"&&l!=="export");s.push("f\\b","u\\b","w\\b","s\\b","d\\b","r\\b");let o=s.map(l=>l==="filter"||l==="f"||l==="resource"||l==="-r"?`--?${l}.*?(?=(--?${s.join("|--?")}))`:`--?${l}`).join("|"),u=new RegExp(`(--?${s.join("|--?")})`,"g"),a=new RegExp(`(${o})`,"g");return _t({message:[`Bad command ${Ss}argv${$s} sequence passed with ${A("export")} mode.`,"Theme exports are performed in isolation. You command includes","execution modes that cannot be run when exporting theme/s"],provided:i.argv.replace(u,H("$1")).replace(/(--export)/,A("$1")),expected:i.argv.replace(a,"").replace(/(--export)/,A("$1")),fix:[`Removed the flags marked ${H("red")} as shown in provided aboved.`]})}}}c();function $m(){if(!x("snippets",i.config.views))return;let{snippets:e}=i.config.views;if(!ue(e)&&!(T(e)&&K(e))){T(e)||j({option:"views",name:"snippets",expects:"{}",provided:typeof e});for(let t in i.snippet){if(t==="prefixDir")if(le(e[t])){i.snippet[t]=e[t];continue}else j({option:"views.snippets",name:t,provided:e[t],expects:"boolean"});if(t==="separator")if(R(e[t]))if(/[.@:_-]/.test(e[t])){i.section[t]=e[t];continue}else Fe({option:"views.snippets",name:t,value:e[t],expects:"@ | _ | : | - | ."});else j({option:"views.snippets",name:t,provided:e[t],expects:"string"});if(t==="global"){let n=R(e[t])?[e[t]]:e[t];if($(n)){if(n.length>0){i.snippet[t]=new RegExp(`${n.join("|")}`);continue}}else j({option:"views.snippets",name:t,provided:e[t],expects:"string | string[]"});}}}}c();async function Am(){if(!x("sections",i.config.views))return;let{sections:e}=i.config.views;if(!ue(i.config.views.sections)&&!(T(e)&&K(e))){T(e)||j({option:"views",name:"sections",expects:"{}",provided:typeof e});for(let t in i.section){if(t==="prefixDir")if(le(e[t])){i.section[t]=e[t];continue}else j({option:"views.sections",name:t,provided:e[t],expects:"boolean"});if(t==="separator")if(R(e[t]))if(/[@:_-]/.test(e[t])){i.section[t]=e[t];continue}else Fe({option:"view.sections",name:t,value:e[t],expects:"@ | _ | : | -"});else j({option:"views.sections",name:t,provided:e[t],expects:"string"});if(t==="global"){let n=R(e[t])?[e[t]]:e[t];if($(n)){if(n.length>0){i.section[t]=new RegExp(`${n.join("|")}`);continue}}else j({option:"views.sections",name:t,provided:e[t],expects:"string | string[]"});}t==="shared"&&i.paths.schema.input!==null&&i.paths.schema.input.size>0&&(await n2(),await s2(),it(i.section,"schema",{get(){return i.cache.schema}}));}}}async function n2(){for(let e of i.paths.schema.input){let t=pathe.extname(e),n=pathe.basename(e,t);i.section.shared.has(n)&&he(`Duplicated shared schema file name ${h.yellow(n+t)} detected.`,["Shared Schema JSON file names must be unique across the workspace.","Update the file name and try again."]);try{let s=(await fsExtra.readFile(e)).toString();if(s.trim().length===0)continue;let o=pr(s.toString());x("$schema",o)&&delete o.$schema,x("$description",o)&&delete o.$description;for(let u in o)if(T(o[u]))x("$description",o[u])&&delete o[u].$description;else if($(o[u]))for(let a of o[u])x("$description",a)&&delete a.$description;i.cache.schema[e]=new Set,i.section.shared.set(n,{uri:e,schema:o});}catch(r){return me(pathe.relative(i.cwd,e),{notify:{title:"JSON Error",message:`Error when parsing ${pathe.basename(e)}`}}),r instanceof fr&&ar(r,{relative:pathe.relative(i.cwd,e),base:pathe.basename(e)}),null}}}async function s2(){let{shared:e}=i.section,t=qe("Section Schema");for(let n of i.paths.sections.input){let r=await fsExtra.readFile(n),s=Ls(r);if(x(n,i.cache.schema)&&i.cache.checksum[n]===s)continue;i.cache.checksum[n]=s;let o=r.toString(),u=o.search(/{%-?\s*schema/);if(u<0)continue;let a=o.indexOf("%}",u+2)+2,l=o.slice(a),p=a+l.search(/{%-?\s*endschema/);if(p<0){t("Liquid Parse Error",pathe.relative(i.cwd,n));continue}try{let f=JSON.parse(o.slice(a,p)),m=be(f);if(m("settings")){for(let d of f.settings)if(x("$ref",d)){let y=d.$ref.split(".")[0];e.has(y)&&i.cache.schema[e.get(y).uri].add(n);}}if(m("blocks"))for(let d of f.blocks){let y=be(d);if(y("$ref")){let b=d.$ref.split(".")[0];e.has(b)&&i.cache.schema[e.get(b).uri].add(n);}if(y("settings")){for(let b of d.settings)if(x("$ref",b)){let E=b.$ref.split(".")[0];e.has(E)&&i.cache.schema[e.get(E).uri].add(n);}}}}catch{x(n,i.cache.sections)&&delete i.cache.sections[n],t("JSON Parse Error",pathe.relative(i.cwd,n));}}}c();c();function km(){let e=[],t=new Set;for(let n in i.env.vars){let r=n.toLowerCase();if(r.endsWith("_api_token"))e.push({domain:`${r.slice(0,r.indexOf("_api_token"))}`,themes:{}});else if(r.endsWith("_api_key")){let s=`${r.slice(0,r.indexOf("_api_key"))}`;t.has(s)||(e.push({domain:s,themes:{}}),t.add(s));}else if(r.endsWith("_api_secret")){let s=`${r.slice(0,r.indexOf("_api_secret"))}`;t.has(s)||(e.push({domain:s,themes:{}}),t.add(s));}}if(e.length>0)return e;Vs(i.cwd);}function Nm(e){let t=e+"_api_token";if(x(t,i.env.vars)||(t=t.toUpperCase()),x(t,i.env.vars))return {baseURL:`https://${e}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":i.env.vars[t]}};let n=e+"_api_key",r=e+"_api_secret";if(x(n,i.env.vars)||(n=n.toUpperCase()),x(r,i.env.vars)||(r=r.toUpperCase()),x(n,i.env.vars)&&x(r,i.env.vars))return {baseURL:`https://${e}.myshopify.com/admin`,auth:{username:i.env.vars[n],password:i.env.vars[r]}};he(`Invalid or missing ${te(e+".myshopify.com")} credentials`,[`Your shop credentials in the ${te.bold(pathe.basename(i.env.file))} file could`,"not be read correctly or are missing. Please check your environment file and ensure","you have provided authorization."]);}function Bt(e,t){let{cwd:n}=i,r=Ie(t)?[]:!1,s=qe("Path Resolver"),o=Yr(i.dirs.input);if($(e)){let u=[];for(let a of e){let l=o(a),p=Lm__default.default.sync(l,{cwd:n,absolute:!0});if(r){let f=t(l);R(f)?r.push(f):$(f)&&r.push(...f);}p.length===0?s("No files can be resolved in",a):u.push(...p);}return r===!1?u:{paths:u,match:Tm__default.default(r)}}if(R(e)){let u=o(e),a=Lm__default.default.sync(u,{cwd:n});if(a.length===0&&s("No files can be resolved in",e),r){let l=t(u);R(l)?r.push(l):$(l)&&r.push(...l);}return r===!1?a:{paths:a,match:Tm__default.default(r)}}j({option:"uri",name:"uri/path",provided:e,expects:"string | string[]"});}function mn(e,t){if(x("assertSnippet",t)||(t.assertSnippet=!0),R(e)){let{paths:n,match:r}=Bt(e,s=>(t.addWatch&&i.watch.add(s),cr(s)));if(n)return t.flatten?n.map(s=>t.assertSnippet?{input:s,rename:pathe.basename(s),snippet:!1}:{input:s,rename:pathe.basename(s)}):t.assertSnippet?{input:n,rename:"[name].[ext]",snippet:!1,match:r}:{input:n,rename:"[name].[ext]",match:r}}else if($(e)){if(e.every(R)){let{paths:n,match:r}=Bt(e,s=>(t.addWatch&&i.watch.add(s),cr(s)));return t.flatten?n.map(s=>t.assertSnippet?{input:s,rename:pathe.basename(s),snippet:!1}:{input:s,rename:pathe.basename(s)}):t.assertSnippet?{input:n,rename:"[name].[ext]",snippet:!1,match:r}:{input:n,rename:"[name].[ext]",match:r}}else if(e.every(T))return e.map(n=>{x("input",n)||Fe({option:"tranform",name:"input",value:n,expects:"{ input: string | string[] }"});let{paths:r,match:s}=Bt(n.input,o=>(t.addWatch&&i.watch.add(o),cr(o)));return n.match=s,n.input=r,t.assertSnippet&&!x("snippet",n)&&(n.snippet=!1),x("rename",n)||(n.rename=n.snippet?"[name].liquid":"[name].[ext]"),n})}else if(T(e)){let n=[];if(x("input",e)){let r=ge(e),{paths:s,match:o}=Bt(r.input,u=>(t.addWatch&&i.watch.add(u),cr(u)));if(t.assertSnippet&&!x("snippet",r)&&(r.snippet=!1),x("rename",r)||(r.rename=r.snippet?"[name].liquid":"[name].[ext]"),t.flatten)for(let u of s)n.push(J(r,{input:u}));else r.input=s,r.match=o,n.push(r);}else for(let r in e){let s={snippet:r.startsWith("snippets/")},o=r.startsWith("assets/"),u=e[r],a=o||s.snippet;if(R(u)){a&&(s.rename=o?r.slice(7):r.slice(9));let{paths:l,match:p}=Bt(u,f=>(t.addWatch&&i.watch.add(f),cr(f)));if(l)if(t.flatten)for(let f of l)n.push(J({},s,{input:f}));else n.push(J({},s,{input:l,match:p}));}else if(T(u)){x("input",u)||Fe({option:"tranform",name:r,value:u,expects:"{ input: string | string[] }"});let{paths:l,match:p}=Bt(u.input,f=>(t.addWatch&&i.watch.add(f),cr(f)));if(l){let f=a?J({},u,s,{rename:o?r.slice(7):r.slice(9)}):J({},s,u);if(t.flatten)for(let m of l)n.push(J({},f,{input:m}));else n.push(J(f,{input:l,match:p}));}}else if($(u))if(u.every(R)){let{paths:l,match:p}=Bt(u,f=>(t.addWatch&&i.watch.add(f),cr(f)));if(a2(r)&&(s.rename=pathe.basename(r)),l)if(t.flatten)for(let f of l)n.push(J({},s,{input:f}));else n.push(J({},s,{input:l,match:p}));}else j({option:"transform",name:r,provided:u,expects:"string[]"});}return n}}function dr(e,t){return !!(x("devDependencies",e)&&x(t,e.devDependencies)||x("dependencies",e)&&x(t,e.dependencies)||x("peerDependencies",e)&&x(t,e.peerDependencies)||x("optionalDependencies",e)&&x(t,e.peerDependencies))}async function u2(e){for(let t of Aa){let n=`${e}.${t}`;if(await fsExtra.pathExists(n))return n}return null}async function Ii(e,t){try{let n=await u2(e);if(n!==null){let r=await Ai({cwd:i.cwd,filepath:n,...t||{}});return {path:n,config:r.mod.syncify||r.mod.default||r.mod}}return null}catch{return null}}function a2(e){return /\[(?:file|dir|ext)\]/.test(e)}function ss(e,t){let n=t,r=rt(e),s=pathe.extname(e),o=pathe.basename(e,s);return de(t)?{dir:r,ext:s,file:o,name:o}:(/(\[dir\])/.test(n)&&(n=n.replace("[dir]",r)),/(\[file\])/.test(n)&&(n=n.replace("[file]",o)),/(\.?\[ext\])/.test(n)&&(n=n.replace(/\.?\[ext\]/,s)),{ext:s,file:o,dir:r,name:t.replace(t,n)})}c();var ea={prefix:I("\u2502 "),styles:{primary:ce,success:ce,danger:H.bold,warning:Y,muted:D,disabled:D,typing:D},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}},pointer(e,t){let n=this.state.index===t?F.stub.trimEnd()+" ":F.trim+" ";return t===0?F.trim+`
`+n:n}};async function Rm(e){let t=0,n={...ea},s=(await Ei(e)).filter(({role:b})=>b!=="demo"),o=ot(s,"name"),u=s.map(b=>(b.name.length>t&&(t=b.name.length),{name:b.name,message:b.name,hint:`${o(b.name)} ${G} ${D(b.role)}`,value:b}));u.push({role:"separator",message:I("\u2500".repeat(t))},{name:"create",message:"Create Theme",value:"create"});let{targets:a}=await enquirer.prompt({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:n,choices:u,result(b){return Ir(this.map(b))},format(b){if($(b)&&b.length>0)return Z(`${b.join(k(", "))}`)}}),l={domain:e.store.toLowerCase(),themes:{}},p=[];for(let b of a)l.themes["${"+b.name+"}"]=b.id,p.push({name:b.name,message:b.name,validate(E,q,z){if(z&&z.name===b.name){if(/[A-Z]/.test(E))return `
`+Qe.redBright("  Target name must be lowercase");if(/[0-9]/.test(E))return `
`+Qe.redBright("  Target name cannot contain numbers");if(/[ ]/.test(E))return `
`+Qe.redBright("  Target name cannot contain spaces");if(/-/.test(E))return `
`+Qe.redBright("  Target name cannot contain dashes")}return !0}});n.styles.primary=Z.italic,n.styles.typing=ce;let f=JSON.stringify(l,null,2),m=await enquirer.prompt({name:"stores",type:"snippet",required:a.map(({name:b})=>b),message:"Theme Targets",newline:`
`,theme:n,fields:p,template:f,format(){return this.state.submitted===!0&&this.state.completed!==100?ce(`${this.state.completed}% completed`):` ${_}  ${We(`${this.state.completed}% completed`)}`}}),d={syncify:JSON.parse(m.stores.result)},y=await enquirer.prompt({name:"save",type:"confirm",message:"Save Settings",theme:n,initial:!0,newline:`
`,format(){return /^[ty1]/i.test(this.input)?"Yes":"No"},footer:F.line+["",D("The following store and theme references will be saved"),D("to your package.json file on the syncify key property."),"",JSON.stringify(d.syncify,null,2).split(`
`).join(`
`+F.line),""].join(`
`+F.line)});console.log(y);}async function Pm(e){let t=Ye(i.mode.metafields,i.mode.pages,i.mode.redirects,i.mode.release,i.mode.publish,i.mode.themes),n=Ye(i.mode.watch,i.mode.upload,i.mode.import),r,s=[],o=!1;e._.length===0&&t&&_t({expected:"syncify <store>",message:["You have not provided store to target, which is required","when running in a resource mode that syncs to a remote source"],fix:["Provide the store target name as the first command argument","followed by themes target/s and other flags."]}),i.mode.themes&&i.stores.length>0?s=km():(r=e._.length===0?i.stores.map(({domain:u})=>u):e._[0].split(","),s=i.stores.filter(({domain:u})=>Ji(u,r)),o=s.length>1);for(let u of s){let a=`${u.domain}.myshopify.com`.toLowerCase(),l=Nm(u.domain),p=i.sync.stores.push({store:u.domain,domain:a,client:l,queue:o})-1;if(i.mode.themes)continue;if(i.mode.metafields||i.mode.pages)return;let f=[];x("theme",e)?f=e.theme.split(","):x(u.domain,e)?f=e[u.domain].split(","):x("themes",u)&&(f=ft(u.themes)),f.length===0&&await Rm(i.sync.stores[p]);for(let m of f)x(m,u.themes)||Xl({type:"theme",expected:ft(u.themes).join(","),provided:m,message:[`Unknown theme target (${A(m)}) provided to ${A(u.domain)} store`,`Your ${A(i.file.base)} file contains no such theme using this name.`],fix:[`Provide an ${A("expected")} theme target or update/add an existing target.`,`You have ${A(`${f.length}`)} theme targets defined for ${A(u.domain)}:`,`

`,`${Ut} ${f.join(`
${Ut} `)}`,`

`]}),i.sync.themes.push({target:m,sidx:p,store:a,id:u.themes[m],url:`/themes/${u.themes[m]}/assets.json`});}if(t&&i.sync.stores.length===0)return _t({expected:"syncify <store>",message:["You have not provided store to target, which is required","when running in a resource mode that syncs to a remote source"],fix:["Provide the store target name as the first command argument followed by themes","target/s and other flags. Based on your current configuration:",`

`,`${Ut} ${w("$")} syncify ${i.stores.join(`
${Ut} ${w("$")} syncify `)}`,`

`]});if(i.sync.themes.length===0&&n)return _t({expected:"-t <theme>",message:["You have not provided a theme to target, which is required","when running this resource mode."],fix:[`Provide a theme name to target following a ${A("-t")} or ${A("--theme")} flag.`,"Theme targets should be passed as the 2nd argument, the 1st argument should be store name/s."]});i.sync.stores.length===0&&he("Unknown, missing or invalid store/theme targets",["Check your store config"]),i.sync.stores.length===1&&i.sync.themes.length===1?i.env.sync=1:(i.sync.stores.length>1||i.sync.themes.length>1)&&(i.env.sync=2);}c();async function _m(){let e=Yr(i.dirs.input),t=qe("Path Resolution"),n=be(i.config.paths);for(let r of Cr){let s;if(r==="customers")s=n(r)?$(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])]:[e("templates/customers")];else if(r==="metaobject")s=n(r)?$(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])]:[e("templates/metaobject")];else if(n(r))if(s=$(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])],r==="snippets")for(let o of s)i.snippet.baseDir.add(rt(pathe.dirname(o)));else if(r==="sections")for(let o of s)i.section.baseDir.add(rt(pathe.dirname(o)));else r==="assets"&&s.push(pathe.join(i.dirs.output,"assets/*"));else r==="redirects"&&n(r)?s=[pathe.join(i.cwd,i.config.paths[r])]:s=[e(r)];for(let o of s){if(r!=="metafields"&&r!=="redirects"){let u=await Lm__default.default(o,{cwd:i.cwd});if(u.length===0){if(r==="assets"&&o===pathe.join(i.dirs.output,"assets/*"))continue;t("No files could be resolved in",pathe.relative(i.cwd,o));}else {if(i.paths[r].input===null)i.paths[r].input=new Set(u);else for(let a of u)i.paths[r].input.add(a);i.watch.add(o);}}i.paths[r].match=Tm__default.default(s);}}}c();function ra(e){let t=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{1,2})$/);if(!t)throw new Error("Unable to parse: "+e);return {patch:parseInt(t[3],10),minor:parseInt(t[2],10),major:parseInt(t[1],10)}}function jm(e){if(x("syncifyVersion",i.cache.build)||(i.cache.build.syncifyVersion=i.version),x("themeVersion",i.cache.build)||(i.cache.build.themeVersion=i.pkg.version),i.cache.build.themeVersion!==i.pkg.number){i.vc.update=ra(i.pkg.version),i.vc.update.number=i.pkg.version,i.vc.update.dir=pathe.join(i.dirs.export,`v${i.vc.major}`),i.vc.update.zip=pathe.join(i.vc.update.dir,`${i.vc.number}.zip`);let{patch:t,minor:n,major:r}=ra(i.cache.build.themeVersion);i.vc.number=i.cache.build.themeVersion,i.vc.patch=t,i.vc.minor=n,i.vc.major=r,i.vc.dir=pathe.join(i.dirs.export,`v${i.vc.major}`),i.vc.zip=pathe.join(i.vc.dir,`${i.vc.number}.zip`);}else {let{patch:t,minor:n,major:r}=ra(i.pkg.version);i.vc.number=i.pkg.version,i.vc.patch=t,i.vc.minor=n,i.vc.major=r,i.vc.dir=pathe.join(i.dirs.export,`v${i.vc.major}`),i.vc.zip=pathe.join(i.vc.dir,`${i.vc.number}.zip`);}e.release!==null&&(i.vc.update=S(i.vc),e.release==="patch"?(i.vc.update.patch=i.vc.patch+1,i.vc.update.bump="patch"):e.release==="minor"?(i.vc.update.minor=i.vc.minor+1,i.vc.update.bump="minor"):e.release==="major"&&(i.vc.update.major=i.vc.major+1,i.vc.update.bump="major",i.vc.update.dir=pathe.join(i.dirs.export,`v${i.vc.update.major}`)),i.vc.update.number=`${i.vc.update.major}.${i.vc.update.minor}.${i.vc.update.patch}`,i.vc.update.zip=pathe.join(i.vc.update.dir,`${i.vc.update.number}.zip`));}c();c();function na(e,t,n){let r=crossSpawn.spawn(t.cmd,t.args,{stdio:"pipe"});t.pid=r.pid,async function s(){if(i.env.ready===!1)return await je(100),s();r.stdio[0].on("data",n.bind({name:e,type:"stdin"})),r.stdio[0].on("data",n.bind({name:e,type:"stdout"})),r.stdio[2].on("data",n.bind({name:e,type:"stderr"})),i.spawn.streams.set(e,r);}();}function Im(){let{mode:e,spawn:t,config:n}=i;if(!x("spawn",n)||ue(n.spawn))return;T(n.spawn)||j({option:"config",name:"spawn",provided:n.spawn,expects:"{ build: {}, watch: {} }"});let r=be(n.spawn),s=null;if(e.build&&r("build")&&(s="build"),e.watch&&r("watch")&&(s="watch"),!(ue(e)||ue(n.spawn[s]))&&(T(n.spawn[s])||j({option:"spawn",name:s,provided:n.spawn[s],expects:"{ build: {}, watch: {} }"}),!K(n.spawn[s]))){for(let o in n.spawn[s]){let u=n.spawn[s][o];if(R(u)){i.spawn.commands[o]=S();let a=u.trimStart().indexOf(" ")>-1?u.trimStart().split(" "):[u];i.spawn.commands[o].cmd=a.shift().trim(),i.spawn.commands[o].args=a,i.spawn.commands[o].pid=NaN,na(o,i.spawn.commands[o],Vo(o));}else if($(u)){let a=u.shift().trim();i.spawn.commands[o]=S({cmd:a,args:u,pid:NaN}),na(o,i.spawn.commands[o],Vo(o));}else j({option:"spawn",name:s,provided:n.spawn[s],expects:"string | string[]"});}tt.spawns(i),Ni(()=>{V.pause(),V.clear(),$e(""),t.streams.forEach((o,u)=>{C(`- ${D(`pid: #${o.pid} (${u}) process exited`)}`),m2__default.default(o.pid);}),$e(""),t.streams.clear(),process.exit(0);});}}c();async function Wm(){if(!x("script",i.config.transform)||!i.config.transform.script||K(i.config.transform.script))return;let e=qe("Script Transform"),{esbuild:t}=i.processor,{script:n}=i.config.transform;if(t.installed=dr(i.pkg,"esbuild"),t.installed){Gf()||he("failed to import ESBuild",["Ensure you have installed esbuild in your project"]);let u=await Ii("esbuild.config");u!==null&&(t.file=u.path,t.config=ge(t.config,u.config));}else Dt("esbuild");x("entryPoints",t.config)&&(e("processor option is not allowed and was omitted","entryPoints"),delete t.config.entryPoints);let r=mn(n,{addWatch:!1,flatten:!0}),s=Hi(["input","watch","rename","snippet"]);x("absWorkingDir",t.config)||(t.config.absWorkingDir=i.cwd);for(let o of r){let u=o.snippet?"snippets":"assets",{name:a}=ss(o.input,o.rename),l;a.endsWith(".js")===!1&&a.endsWith(".mjs")===!1?l=a+".js":a.endsWith(".cjs")?Fe({option:"transform.script",name:"rename",value:a,expects:".js | .mjs",reason:["You cannot use cjs extensions in web environments"]}):l=a,o.snippet===!0&&l.endsWith(".liquid")===!1&&(l=l+".liquid");let p=be(o),f=S();if(o.snippet){if(f.snippet=!0,f.namespace="snippets",f.type=3,p("attrs")&&K(o.attrs)===!1)if($(o.attrs))for(let m=0;m<o.attrs.length;m++){let d=o.attrs[m];$(d)?f.attrs.push(d.join("")):j({option:"style",name:`attrs[${m}]`,provided:d,expects:"string[]"});}else j({option:"style",name:"attrs",provided:o.attrs,expects:"[ string[] ]"});}else f.snippet=!1,f.namespace="assets",f.type=10;if(f.uuid=vt(),f.snippet=o.snippet,f.input=o.input,f.output=pathe.join(i.dirs.output,u,l),f.key=pathe.join(u,l),f.attrs=[],f.size=NaN,f.watch=null,f.watchCustom=null,f.esbuild=null,t.config.outfile=f.output,i.mode.watch&&i.watch.unwatch(f.output),p("esbuild"))if(le(o.esbuild)||ue(o.esbuild))K(s)?f.esbuild=ge(t.config):f.esbuild=ge(t.config,s);else if(T(o.esbuild)){let m=be(o.esbuild);for(let d in ["entryPoints","outdir","watch","absWorkingDir","watch","write","logLevel","incremental"])d==="entryPoints"&&m(d)?e('Option is not allowed, use Syncify "input" instead',d):d==="outdir"&&m(d)?e("Option is not allowed, Syncify will handle output",d):d==="watch"&&m(d)?e("Option is not allowed, declare watch using Syncify",d):m(d)&&e("Option is not allowed and will be ignored",d);m("plugins")&&x("plugins",t.config)&&o.esbuild.plugins.unshift(...t.config.plugins),K(s)?f.esbuild=ge(t.config,o.esbuild):f.esbuild=ge(t.config,o.esbuild,s);}else j({option:"script",name:"esbuild",provided:typeof o.esbuild,expects:"boolean | null | {}"});else K(s)?f.esbuild=t.config:f.esbuild=ge(t.config,s);if(f.esbuild.entryPoints=[f.input],i.mode.watch)if(!p("watch"))f.watch=new Set;else {$(o.watch)||j({option:"script",name:"watch",provided:o.watch,expects:"string[]"});let m=Bt(o.watch);f.watchCustom=Tm__default.default(m),f.watch=new Set(m);}else f.watch=new Set;try{await Uf(f);}catch(m){throw new Error(m)}i.mode.terse&&(f.esbuild=ge(f.esbuild,i.terser.script,{exclude:void 0})),i.script.push(f);}t.loaded=!0;}c();async function Gm(){if(!x("style",i.config.transform)||!i.config.transform.style||K(i.config.transform.style))return;let{postcss:e,sass:t}=i.processor,n=qe("Style Transform");if(t.installed=dr(i.pkg,"sass"),t.installed&&(await $u("sass")||he("Unable to dynamically import SASS",["Ensure you have installed sass"])),e.installed=dr(i.pkg,"postcss"),e.installed){await $u("postcss")||he("Unable to dynamically import PostCSS",["Ensure you have installed postcss"]);let u=await Ii("postcss.config",{tsconfig:null});u!==null&&(e.file=u.path,e.config=u.config);}let r=mn(i.config.transform.style,{addWatch:!1,flatten:!0}),s=Yr(i.config.input);for(let o of r){let u=be(o),a=S();if(a.uuid=vt(),a.input=o.input,a.watch=null,a.attrs=[],a.postcss=!1,a.sass=!1,a.tailwind=!1,u("postcss"))if(e.installed||Dt("postcss"),$(o.postcss))a.postcss=o.postcss;else {let f=T(o.postcss);le(o.postcss)||f?o.postcss!==!1&&ue(o.postcss)===!1&&(e.installed||Dt("postcss"),a.postcss=f?ge(e.config,o.postcss):!0):j({option:"style",name:"postcss",provided:a.postcss,expects:"boolean | {}"});}else a.postcss=e.installed;if(u("sass")&&o.sass!==!1&&t.installed===!0){let f=T(o.sass);if((le(o.sass)||f)&&ue(o.sass)===!1)if(t.installed||Dt("sass"),f===!1)it(a,"sass",{get(){return o.sass}});else {a.sass=ge(t.config,o.sass);for(let m in o.sass)if(m==="sourcemap"||m==="warnings"||m==="quietDeps")le(o.sass[m])?a.sass[m]=o.sass[m]:j({option:"sass",name:m,provided:o.sass[m],expects:"boolean"});else if(m==="style")R(o.sass[m])===!1&&j({option:"sass",name:m,provided:o.sass[m],expects:"string"}),o.sass[m]==="expanded"||o.sass[m]==="compressed"?a.sass[m]=o.sass[m]:Fe({option:"sass",name:m,value:o.sass[m],expects:"expanded | compressed"});else if(m==="includePaths")if($(o.sass[m])){let d=[];for(let y of o.sass[m]){let b=pathe.join(i.cwd,y);await fsExtra.exists(b)?d.push(b):n("Cannot resolve sass includePath entry",y);}a.sass[m]=d;}else j({option:"sass",name:m,provided:o.sass[m],expects:"string[]"});}else j({option:"style",name:"sass",provided:o.sass,expects:"boolean | {}"});o.snippet===!1&&!/\.s[ac]ss/.test(pathe.extname(a.input))&&n("Input is not a sass file",a.input);}let l=ss(o.rename);u("rename")&&ue(o)===!1&&(R(o.rename)===!1&&j({option:"styles",name:"rename",provided:o.rename,expects:"string"}),l=ss(a.input,o.rename),/[a-zA-Z0-9_.-]+/.test(l.name)===!1&&j({option:"sass",name:"rename",provided:l,expects:"Characters: [a-zA-Z0-9_.-]"}),l.name.endsWith(".css")?a.rename=l.name:l.name.endsWith(".scss")?l.name=l.name.replace(".scss",".css"):l.name.endsWith(".sass")?l.name=l.name.replace(".sass",".css"):l.name.endsWith(".liquid")||(l.name=l.name+".css"));let p=[];if(i.mode.watch&&u("watch")){$(o.watch)||j({option:"styles",name:"watch",provided:o.watch,expects:"string[]"});for(let f of o.watch){let m=await Lm__default.default(pathe.join(i.cwd,s(f)));m.length===0&&f[0]!=="!"&&n("Cannot resolve watch glob/path uri",f);for(let d of m)await fsExtra.exists(d)?p.push(d):n("No file exists in path",d);}p.push(a.input);for(let f of p)i.watch.add(f);a.watch=Tm__default.default(p);}else a.watch=Tm__default.default([a.input]),i.watch.add(a.input);if(T(a.sass)&&(a.sass.include.unshift(i.cwd,pathe.join(i.cwd,l.dir)),ct("sass.include",o)&&(a.sass.include=o.sass.include.map(f=>pathe.join(i.cwd,f)))),u("snippet")&&(le(o.snippet)||j({option:"styles",name:"snippet",provided:o.snippet,expects:"boolean"}),a.snippet=o.snippet,a.snippet===!0&&u("attrs")&&K(o.attrs)===!1))if($(o.attrs))for(let f=0;f<o.attrs.length;f++){let m=o.attrs[f];$(m)?a.attrs.push(m.join("")):j({option:"style",name:`attrs[${f}]`,provided:m,expects:"string[]"});}else j({option:"style",name:"attrs",provided:o.attrs,expects:"[ string[] ]"});a.snippet?(x("rename",a)||(a.rename=l.name),(l.name.endsWith(".liquid")===!1||a.rename.endsWith(".liquid")===!1)&&(a.rename=l.name+".liquid"),i.paths.transforms.set(a.input,9),i.mode.watch&&i.watch.unwatch(pathe.join(i.dirs.output,"snippets",a.rename))):(a.rename=l.name,i.mode.watch&&i.watch.unwatch(pathe.join(i.dirs.output,"assets",l.name))),i.style.push(a);}}c();async function Um(){if(!x("svg",i.config.transform)||!i.config.transform.svg||K(i.config.transform.svg))return;let{sprite:e,svgo:t}=i.processor,n=qe("SVG Transform");t.installed=dr(i.pkg,"svgo"),t.installed&&(await Lu("svgo")||he("Unable to dynamically import SVGO",["Ensure you have installed svgo"])),e.installed=dr(i.pkg,"svg-sprite"),e.installed&&(await Lu("svg-sprite")||he("Unable to dynamically import SVG Sprite",["Ensure you have installed svg-sprite"])),e.installed===!1&&t.installed===!1&&Dt(["svgo","svg-sprite"]);let r=mn(i.config.transform.svg,{addWatch:!0,flatten:!1});for(let s of r){let o=s.input.filter(l=>pathe.extname(l)===".svg"?!0:(n("Excluded file which is not an SVG type",pathe.relative(i.cwd,l)),!1));if(o.length===0){n("No SVG file paths were resolved");continue}let u=be(s),a=S();a.uuid=vt(),a.input=new Set(o),a.format=null,a.match=s.match,a.rename=s.rename,a.snippet=s.snippet,u("svgo")&&u("sprite")&&Fe({option:"transform",name:"svg",value:"svgo AND sprite",expects:"svgo OR sprite"}),u("format")?s.format==="file"||s.format==="sprite"?(a.format=s.format,s.format==="file"?(a.svgo=!0,t.installed||Dt("svgo")):(a.sprite=!0,e.installed||Dt("svg-sprite"))):Fe({option:"transform > svg",name:"format",value:s.format,expects:'"sprite" | "file"'}):u("svgo")?(t.installed||Dt("svgo"),a.format="file",a.svgo=T(s.svgo)?ge(t.config,s.svgo):!0):u("sprite")?(e.installed||Dt("svg-sprite"),a.format="sprite",a.sprite=T(s.sprite)?ge(e.config,s.sprite):!0):t.installed&&e.installed?Zl({option:"transform.svg",key:"format",expects:"sprite | file",reason:[`SVG transforms require you to define ${te("format")} when both SVGO and SVG Sprite`,"processors are installed. Syncify needs to knows how is should handle the input and","which processor to use for the transform."]}):t.installed&&!e.installed?(a.format="file",a.svgo=!0):e.installed&&!t.installed?(a.format="sprite",a.sprite=!0):jt("transform > svg","Cannot resolve processor, try defining a format."),i.svg.push(a);}}c();async function Vm(){if(i.mode.watch!==!0){if(i.cache.build.hotSnippet.length>0){for(let n of i.cache.build.hotSnippet)await iu(n);i.cache.build.hotSnippet=[];}return}if(i.mode.hot===!1&&i.config.hot===!1){if(i.cache.build.hotSnippet.length>0){for(let n of i.cache.build.hotSnippet)await iu(n);i.cache.build.hotSnippet=[];}return}i.mode.hot===!1&&i.config.hot===!0&&(i.mode.hot=!0);let e=qe("HOT Reloads");if(i.env.sync>1){e("HOT Reloads can only be used on 1 store");return}else if(i.sync.themes.length>1){e("HOT Reloads can only be used on 1 theme");return}if(Lt(T(i.config.hot),le(i.config.hot),ue(i.config.hot))&&j({option:"config",name:"hot",provided:i.config.hot,expects:"boolean | {}"}),T(i.config.hot)&&K(i.config.hot)===!1){let n=be(i.hot);for(let r in i.config.hot)n(r)||jt(`hot.${r}`,i.config.hot[r]),r==="label"?i.config.hot[r]==="visible"||i.config.hot[r]==="hidden"?i.hot[r]=i.config.hot[r]:Fe({option:"hot",name:r,value:i.config.hot[r],expects:"visible | hidden"}):r==="strategy"?i.config.hot[r]==="hydrate"||i.config.hot[r]==="replace"?i.hot[r]=i.config.hot[r]:Fe({option:"hot",name:r,value:i.config.hot[r],expects:"hydrate | replace"}):r==="method"?i.config.hot[r]==="hot"||i.config.hot[r]==="refresh"?i.hot[r]=i.config.hot[r]:Fe({option:"hot",name:r,value:i.config.hot[r],expects:"hot | refresh"}):r==="scroll"?i.config.hot[r]==="preserved"||i.config.hot[r]==="top"?i.hot[r]=i.config.hot[r]:Fe({option:"hot",name:r,value:i.config.hot[r],expects:"preserved | top"}):typeof i.hot[r]==typeof i.config.hot[r]?i.hot[r]=i.config.hot[r]:j({option:"hot",name:r,provided:i.config.hot[r],expects:typeof i.hot[r]});}i.hot.snippet=pathe.join(i.cwd,"node_modules","@syncify/cli","hot.js.liquid"),i.hot.output=pathe.join(i.dirs.output,"snippets","hot.js.liquid");let t=pathe.join(i.dirs.output,"layout");for(let n of i.hot.layouts){let r=pathe.join(t,n);i.hot.alive[r]=!1,i.cache.build.hotSnippet.includes(t)||i.cache.build.hotSnippet.push(t);}i.hot.renderer="{% render 'hot.js'"+["",`server: ${i.hot.server}`,`socket: ${i.hot.socket}`,`strategy: "${i.hot.strategy}"`,`scroll: "${i.hot.scroll}"`,`label: "${i.hot.label}"`,`history: "${i.hot.history}`,`method: "${i.hot.method}"`].join(", ")+" %}",i.wss=jp();}c();function sa(e,t){let n=[],r=S();i.mode.upload?(r.base="output",r.from="output",r.dirs=vr.map(s=>`${w("-")} ${A(s)}`),r.fix=[`The ${A("--filter")} (or ${A("-f")}) flag command argument expects you`,"provide a theme output directory as the starting point. Filtering begins with","a Shopify output directory name, for example:","",`${w("$")} ${w(`syncify --filter ${A("sections/file.liquid")}`)}`,`${w("$")} ${w(`syncify --filter ${A("snippets/*")}`)}`,`${w("$")} ${w(`syncify --filter ${A("templates/*.json")}`)}`,`${w("$")} ${w(`syncify --filter ${A("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${h(r.base)} directory`,"based on the starting point directory name. You can pass glob star matches following the",`directory namespace or starting point ignores (${A("!")}) as long the directory can match.`]):(r.base="input",r.from="paths",r.dirs=Cr.map(s=>`${w("-")} ${A(s)}`),r.fix=[`The ${A("--filter")} (or ${A("-f")}) flag command argument expects you`,`provide a ${xt.bold("paths")} key name as the starting point. Filtering begins with`,"a Shopify output directory name, for example:","",`${w("$")} ${w(`syncify --filter ${A("sections/file.liquid")}`)}`,`${w("$")} ${w(`syncify --filter ${A("snippets/*")}`)}`,`${w("$")} ${w(`syncify --filter ${A("templates/*.json")}`)}`,`${w("$")} ${w(`syncify --filter ${A("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${h(r.base)} directory`,`based on the starting point ${h("paths")} name. You can pass glob star matches following the`,`starting point or ignores (${A("!")}) as long the reference can match.`]),e==="pattern"?(n.push(`Invalid ${A("--filter")} pattern provided. You cannot pass starting point`),t[0]==="*"?n.push(`glob (${A("*")}) stars as filters, Syncify does not support this.`):t[0]==="/"?n.push(`path (${A("/")}) roots as filters, Syncify does not support this.`):t[0]==="."&&n.push(`dot paths (${A(".")})  as filters, Syncify does not support this.`),n.push(`Use a starting point reference name based on the ${A(r.from)} key property`,`in your ${A(i.file.base)} file.`)):n.push(`Invalid directory provided. The ${A("--filter")} pattern expects the starting point`,"directory path be one of the following:","",...r.dirs,""),_t({message:n,expected:"--filter <dir>",fix:r.fix});}function Jm(e,t,n){if((t[0]==="*"||t[0]==="/"||t[0]===".")&&sa("pattern",t),t[0]==="!"){n.test(t.slice(1))||sa("dir",t);return}n.test(t)||sa("dir",t);let r=t.slice(0,t.indexOf("/"));$(i.filters[r])||(i.filters[r]=[]),i.filters[r].push(pathe.join(e,t));}function Hm(e){if(!x("filter",e))return;let t=i.mode.upload?i.dirs.output:i.dirs.input,n=e.filter.replace(/\s+/g," ").trim(),r=i.mode.upload?new RegExp(`^(${vr.join("|")})`):new RegExp(`^(${Cr.join("|")})`);if(n.indexOf(",")>-1){let s=n.split(",").filter(Boolean).map(o=>o.trim());for(let o of s)Jm(t,o,r);}else Jm(t,n,r);}c();function Ym(){let{terser:e,mode:t}=i;if(le(i.config.terser)){if(t.terse===!1&&i.config.terser===!1)return;t.terse===!1&&i.config.terser===!0&&(t.terse=!0);}let n=qe("terser configuration");if(typeof i.config.terser=="object")for(let r in i.config.terser){if(i.config.terser[r]===!1||ue(i.config.terser[r])){i.mode.terse===!0&&(i.terse[r]=!0);continue}if(r==="script"&&i.processor.esbuild.installed===!1&&(T(i.config.terser[r])&&K(i.config.terser[r])===!1||le(i.config.terser[r])&&i.config.terser[r]===!0)&&he("esbuild is not installed",La),le(i.config.terser[r]))i.terser[r]=i.config.terser[r];else if(T(e[r])){if(K(e[r]))continue;for(let s in i.config.terser[r]){if(s==="exclude"){K(i.config.terser[r][s])||(e[r][s]=Bt(i.config.terser[r][s]));continue}x(s,e[r])||jt(`terser.${r}`,s),s==="mangleProps"?!ue(i.config.terser[r][s])&&!Vt(e[r][s])&&j({option:`terser.${r}`,name:s,provided:`${typeof i.config.terser[r][s]} (${i.config.terser[r][s]})`,expects:"Regex | string | undefined"}):!ue(i.config.terser[r][s])&&typeof e[r][s]!=typeof i.config.terser[r][s]&&j({option:`terser.${r}`,name:s,provided:typeof i.config.terser[r][s],expects:typeof e[r][s]}),s==="collapseWhitespace"?e.markup.collapseWhitespace=i.config.terser[r][s]:e[r][s]=i.config.terser[r][s];}}else n("unkown option provided",r);}}c();function Qm(){if(!be(i.config.views)("pages"))return;let{pages:e}=i.config.views;if(!T(e)&&!ue(e)&&j({option:"views",name:"pages",provided:typeof e,expects:"{}"}),K(e))return;let t=be(e);for(let n in e)if(t(n)||jt("pages",n),n==="language")R(e[n])?e[n]==="markdown"||e[n]==="html"?i.page[n]=e[n]:Fe({option:"views.pages",name:n,value:e[n],expects:"markdown | html"}):j({option:"views.pages",name:n,provided:e[n],expects:"markdown | html"});else if(n==="author"){if(ue(e[n]))continue;R(e[n])?i.page[n]=e[n]:j({option:"views.pages",name:n,provided:e[n],expects:"string"});}else if(n==="suffixDir"||n==="safeSync"){if(ue(e[n]))continue;le(e[n])?i.page[n]=e[n]:j({option:"views.pages",name:n,provided:e[n],expects:"object"});}else if(n==="global"){if(ue(e[n]))continue;if($(e[n])){if(e[n].length>0){i.page[n]=new RegExp(`${e[n].join("|")}`);continue}}else j({option:"views.pages",name:n,provided:e[n],expects:"string | string[]"});}}c();async function Km(){if(T(i.config.publish)&&K(i.config.publish)===!1)for(let e in i.config.publish)x(e,i.publish)||jt(`publish.${e}`,i.config.publish[e]),e==="tunnelPort"?pt(i.config.publish[e])&&isNaN(i.config.publish[e])===!1?i.publish[e]=i.config.publish[e]:Fe({option:"publish",name:e,value:i.config.hot[e],expects:"visible | hidden"}):e==="publishRole"?i.config.publish[e]==="main"||i.config.publish[e]==="unpublished"||i.config.publish[e]==="development"?i.publish[e]=i.config.publish[e]:Fe({option:"publish",name:e,value:i.config.hot[e],expects:"main | unpublished | development"}):e==="bindVersion"?le(i.config.publish[e])?i.publish[e]=i.config.publish[e]:j({option:"bindVersion",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}):e==="themeLimit"&&(pt(i.config.publish[e])?i.config.publish[e]>5?Fe({option:"publish",name:e,value:i.config.hot[e],expects:"1 - 5",reason:["Syncify requries a theme limit between 1 and 5."]}):i.publish[e]=i.config.publish[e]:j({option:"themeLimit",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}));(i.mode.publish===!0||i.mode.release===!0)&&(x("ngrok_auth_token",i.env.vars)||he("Missing ngrok auth token",["Theme publishing requires an ngrok authorisation token",`This is easy to obtain, visit ${Rt("https://ngrok.com")}`,`and create a ${h("free")} account to get a token.`,"",`Once you have obtained an auth token, provide it in your ${D(".env")}`,"file, use the following environment variable name:","",`${k('ngrok_auth_token = ""')}`]));}async function Xm(e,t){if(v.start("runtime"),tt(i),await Lp(e),await ju(e.cwd),await E2(e),await np(e),F2(e),Sm(e),i.mode.setup||(process.env.SYNCIFY_ENV=i.env.dev?"dev":"prod",process.env.SYNCIFY_WATCH=String(i.mode.watch),Cm(e),jm(e),Hm(e),tt.modes(i),await Pm(e),w2(e.watch||e.upload),C2(),Km(),Im(),await Promise.all([wm(),Ku(),vm(),_m()]).catch(r=>{et(r,{details:"Directory and path generation error"});}),i.mode.themes))return;Qm(),Em(),$m(),v2(),i.mode.build||tt.stores(i);let n=await Promise.all([Am(),Wm(),Gm(),Um(),Vm(),sp()]).catch(r=>{et(r,{details:"Runtime error"});});return Ym(),tt.warnings(i),i.mode.build||tt.time(),n}function F2(e){i.restart=!1,i.cli=e,i.cwd=e.cwd,i.env.cli=e.cli,i.env.prod=e.prod,i.env.dev=e.dev&&!e.prod,i.terminal.wrap=Math.round(i.terminal.cols-i.terminal.cols/3);let t=be(i.config.log);t("silent")&&(i.log.config.silent=i.config.log.silent),t("clear")&&(i.log.config.clear=i.config.log.clear),t("stats")&&(i.log.config.stats=i.config.log.stats),t("warnings")&&(i.log.config.warnings=i.config.log.warnings);}function w2(e){e&&(i.watch=new chokidar.FSWatcher({persistent:!0,ignoreInitial:!0,usePolling:!0,interval:75,binaryInterval:100,ignored:["**/*.map"],ignorePermissionErrors:!0}),i.watch=Object.defineProperties(i.watch,{has:{value(t,n=i.cwd){return i.watch._watched.has(n)?i.watch._watched.get(n).items.has(t):!1}},paths:{get(){return tr(i.watch.values())}},watching:{get(){return i.watch._watched}}}));}function C2(){if(x("processors",i.config)&&T(process.config))for(let e in i.config.processors)K(i.config.processors[e])||($(i.config.processors[e])?i.processor[e].config=i.config.processors[e]:T(i.config.processors[e])&&(i.processor[e].config=ge(i.processor[e].config,i.config.processors[e])));}function v2(){if(x("plugins",i.config)&&$(i.config.plugins))for(let e of i.config.plugins)x("onInit",e)&&e.onInit.call({...i},i.config),x("onChange",e)&&i.plugins.onChange.push([e.name,e.onChange]),x("onTransform",e)&&i.plugins.onTransform.push([e.name,e.onTransform]),i.mode.watch&&(x("onWatch",e)&&i.plugins.onWatch.push([e.name,e.onWatch]),x("onReload",e)&&i.plugins.onReload.push([e.name,e.onReload])),i.mode.build&&x("onBuild",e)&&i.plugins.onBuild.push([e.name,e.onBuild]);}async function E2(e){let t=await Bp(e.cwd);t!==null?i.config=t:x("syncify",i.pkg)&&(x("config",i.pkg.syncify)?i.config=i.pkg.syncify.config:x("stores",i.pkg.syncify)||e.setup===!1&&tc(e.cwd));}c();c();async function Zm(e){return br.get("/oauth/access_scopes.json",e).then(({data:t})=>t).catch(t=>!1)}async function eD(){let e=W({type:"info"}),t={store:null,domain:null,token:null,ngrok:null,version:null,scopes:{read_content:!1,read_files:!1,read_online_store_pages:!1,read_themes:!1,write_content:!1,write_files:!1,write_online_store_pages:!1,write_themes:!1}},n=J({},ea,{pointer(f,m){return this.state.index===m?F.stub.trimEnd()+" ":F.trim+" "}}),r=[`Existing Setup${B}  `,`Shopify Domain${B}  `,`Admin API Token${B} `,`Ngrok API Token${B} `];if(i.env.file!==null)return C(e.Line("Environment references exist, setup can only be used for new installations.").NL.End(i.log.group).BR.toString());let{domain:s}=await enquirer.prompt({type:"input",name:"domain",message:r[1],required:!0,format(f){return f+".myshopify.com"},validate(f){return this.state.symbols.pointer="  ",f===".myshopify.com"||f.length===0?"Enter myshopify.com domain name":!0},theme:n}),{token:o}=await enquirer.prompt({type:"input",name:"token",required:!0,message:r[2],theme:n,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Admin API Token":!0}}),{ngrok:u}=await enquirer.prompt({type:"input",name:"ngrok",required:!0,message:r[3],theme:n,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Ngrok API Token":!0}}),a={baseURL:`https://${s}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":o.trim()}},l=await Zm(a);if(le(l))return C(e.NL.Wrap(`Connection failed on ${te(`${s}.myshopify.com`)}. Please check the API Access Token`,"is correct and you have set the correct scopes, then try again.",H).NL.End(i.log.group).BR.toString());for(let{handle:f}of l.access_scopes)f in t.scopes&&(t.scopes[f]=!0,e.Line(`${qa} ${f}`));let p=0;for(let f in t.scopes)t.scopes[f]===!1&&(e.Line(`${nr} ${f}`,H),p=p+1);if(p>0)return C(e.NL.Wrap("Syncify requires read and write access to all the above resources.","Provide access to all scopes in red above and try again.",H).NL.End(i.log.group).BR.toString());C(e.toLine()),t.store=s,t.domain=`${s}.myshopify.com`,t.token=o.trim(),t.ngrok=u.trim();}c();async function oa(e,t,n){if(Le("_",e)&&(e._=e._.slice(1)),ql.argv.slice(2).length===0||e.help==="examples"||R(e.help)&&e.help.length===0)return xm(e);if(await Xm(e),i.mode.setup)return eD();if(i.mode.themes)return pp();process.stdin.on("data",Ip),i.mode.hot&&await _p();try{if(i.env.ready=!0,i.mode.build&&i.mode.export===!1)return Fi(n);if(i.mode.watch)return cp(n);if(i.mode.upload)return Ec(n);if(i.mode.import)return Dp(n);if(i.mode.export&&i.mode.publish===!1)return Ti(n);if(i.mode.publish)return Np(n);if(i.mode.interactive)return console.log("TODO: --interactive is not yet supported");if(i.mode.metafields)return console.log("TODO: --metafields is not yet supported")}catch(r){console.log(r);}}oa(A2__default.default(ql.argv.slice(1),{alias:{config:"c",input:"i",output:"o",build:"b",watch:"w",upload:"u",publish:"p",theme:"t",help:"h",spawn:"s",resource:"r",filter:"f",delete:"d"},default:{cwd:process.cwd(),config:".",input:"source",cli:!0,dev:!0,prod:!1,setup:!1,import:!1,export:!1,build:!1,watch:!1,upload:!1,terse:!1,hot:!1,interactive:!1,publish:!1,release:!1,views:!1,script:!1,style:!1,svg:!1,image:!1,metafields:!1,pages:!1,redirects:!1,doctor:!1,clean:!1,silent:!1,force:!1,cache:!1,bump:null,help:null,strap:!1},boolean:["build","watch","upload","import","export","hot","terse","interactive","setup","dev","prod","metafields","pages","redirects","clean","silent","pull","force","test","cache","doctor","strap","views","script","style","svg","image"],string:["input","output","config","theme","spawn","del","release","bump","resource","filter","help","strap"]})).catch(console.error);
