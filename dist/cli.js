var Dg=Object.create;var sa=Object.defineProperty;var bg=Object.getOwnPropertyDescriptor;var wg=Object.getOwnPropertyNames;var xg=Object.getPrototypeOf,Sg=Object.prototype.hasOwnProperty;var Fg=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ic=(e,t)=>{for(var r in t)sa(e,r,{get:t[r],enumerable:!0})},vg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wg(t))!Sg.call(e,s)&&s!==r&&sa(e,s,{get:()=>t[s],enumerable:!(n=bg(t,s))||n.enumerable});return e};var Y=(e,t,r)=>(r=e!=null?Dg(xg(e)):{},vg(t||!e||!e.__esModule?sa(r,"default",{value:e,enumerable:!0}):r,e));var Cg,y,l=Fg(()=>{Cg=()=>typeof document>"u"?new URL(`file:${__filename}`).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,y=Cg()});var mf=oe((CF,Ca)=>{"use strict";l();var l0=Object.prototype.hasOwnProperty,St="~";function bs(){}Object.create&&(bs.prototype=Object.create(null),new bs().__proto__||(St=!1));function f0(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function pf(e,t,r,n,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new f0(r,n||e,s),a=St?St+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function Li(e,t){--e._eventsCount===0?e._events=new bs:delete e._events[t]}function Dt(){this._events=new bs,this._eventsCount=0}Dt.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)l0.call(r,n)&&t.push(St?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Dt.prototype.listeners=function(t){var r=St?St+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,a=new Array(o);s<o;s++)a[s]=n[s].fn;return a};Dt.prototype.listenerCount=function(t){var r=St?St+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Dt.prototype.emit=function(t,r,n,s,o,a){var u=St?St+t:t;if(!this._events[u])return!1;var c=this._events[u],f=arguments.length,p,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,s),!0;case 5:return c.fn.call(c.context,r,n,s,o),!0;case 6:return c.fn.call(c.context,r,n,s,o,a),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];c.fn.apply(c.context,p)}else{var g=c.length,b;for(d=0;d<g;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),f){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,s);break;default:if(!p)for(b=1,p=new Array(f-1);b<f;b++)p[b-1]=arguments[b];c[d].fn.apply(c[d].context,p)}}return!0};Dt.prototype.on=function(t,r,n){return pf(this,t,r,n,!1)};Dt.prototype.once=function(t,r,n){return pf(this,t,r,n,!0)};Dt.prototype.removeListener=function(t,r,n,s){var o=St?St+t:t;if(!this._events[o])return this;if(!r)return Li(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!s||a.once)&&(!n||a.context===n)&&Li(this,o);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==r||s&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=c.length===1?c[0]:c:Li(this,o)}return this};Dt.prototype.removeAllListeners=function(t){var r;return t?(r=St?St+t:t,this._events[r]&&Li(this,r)):(this._events=new bs,this._eventsCount=0),this};Dt.prototype.off=Dt.prototype.removeListener;Dt.prototype.addListener=Dt.prototype.on;Dt.prefixed=St;Dt.EventEmitter=Dt;typeof Ca<"u"&&(Ca.exports=Dt)});var Rs=oe(($E,Xf)=>{"use strict";l();var hy=require("path"),xr="\\\\/",Vf=`[^${xr}]`,kr="\\.",gy="\\+",yy="\\?",Ki="\\/",Dy="(?=.)",Jf="[^/]",tu=`(?:${Ki}|$)`,Yf=`(?:^|${Ki})`,ru=`${kr}{1,2}${tu}`,by=`(?!${kr})`,wy=`(?!${Yf}${ru})`,xy=`(?!${kr}{0,1}${tu})`,Sy=`(?!${ru})`,Fy=`[^.${Ki}]`,vy=`${Jf}*?`,Kf={DOT_LITERAL:kr,PLUS_LITERAL:gy,QMARK_LITERAL:yy,SLASH_LITERAL:Ki,ONE_CHAR:Dy,QMARK:Jf,END_ANCHOR:tu,DOTS_SLASH:ru,NO_DOT:by,NO_DOTS:wy,NO_DOT_SLASH:xy,NO_DOTS_SLASH:Sy,QMARK_NO_DOT:Fy,STAR:vy,START_ANCHOR:Yf},Cy={...Kf,SLASH_LITERAL:`[${xr}]`,QMARK:Vf,STAR:`${Vf}*?`,DOTS_SLASH:`${kr}{1,2}(?:[${xr}]|$)`,NO_DOT:`(?!${kr})`,NO_DOTS:`(?!(?:^|[${xr}])${kr}{1,2}(?:[${xr}]|$))`,NO_DOT_SLASH:`(?!${kr}{0,1}(?:[${xr}]|$))`,NO_DOTS_SLASH:`(?!${kr}{1,2}(?:[${xr}]|$))`,QMARK_NO_DOT:`[^.${xr}]`,START_ANCHOR:`(?:^|[${xr}])`,END_ANCHOR:`(?:[${xr}]|$)`},Ey={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Xf.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ey,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:hy.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Cy:Kf}}});var Xi=oe(kt=>{"use strict";l();var $y=require("path"),Ay=process.platform==="win32",{REGEX_BACKSLASH:Ty,REGEX_REMOVE_BACKSLASH:Ly,REGEX_SPECIAL_CHARS:By,REGEX_SPECIAL_CHARS_GLOBAL:Ry}=Rs();kt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);kt.hasRegexChars=e=>By.test(e);kt.isRegexChar=e=>e.length===1&&kt.hasRegexChars(e);kt.escapeRegex=e=>e.replace(Ry,"\\$1");kt.toPosixSlashes=e=>e.replace(Ty,"/");kt.removeBackslashes=e=>e.replace(Ly,t=>t==="\\"?"":t);kt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};kt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Ay===!0||$y.sep==="\\";kt.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?kt.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};kt.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};kt.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var ip=oe((BE,sp)=>{"use strict";l();var Zf=Xi(),{CHAR_ASTERISK:nu,CHAR_AT:Py,CHAR_BACKWARD_SLASH:Ps,CHAR_COMMA:ky,CHAR_DOT:su,CHAR_EXCLAMATION_MARK:iu,CHAR_FORWARD_SLASH:np,CHAR_LEFT_CURLY_BRACE:ou,CHAR_LEFT_PARENTHESES:au,CHAR_LEFT_SQUARE_BRACKET:Ny,CHAR_PLUS:Oy,CHAR_QUESTION_MARK:Qf,CHAR_RIGHT_CURLY_BRACE:_y,CHAR_RIGHT_PARENTHESES:ep,CHAR_RIGHT_SQUARE_BRACKET:Iy}=Rs(),tp=e=>e===np||e===Ps,rp=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},jy=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],a=[],u=[],c=e,f=-1,p=0,d=0,g=!1,b=!1,D=!1,v=!1,W=!1,j=!1,te=!1,q=!1,Z=!1,Q=!1,We=0,Pe,K,de={value:"",depth:0,isGlob:!1},ke=()=>f>=n,F=()=>c.charCodeAt(f+1),Be=()=>(Pe=K,c.charCodeAt(++f));for(;f<n;){K=Be();let at;if(K===Ps){te=de.backslashes=!0,K=Be(),K===ou&&(j=!0);continue}if(j===!0||K===ou){for(We++;ke()!==!0&&(K=Be());){if(K===Ps){te=de.backslashes=!0,Be();continue}if(K===ou){We++;continue}if(j!==!0&&K===su&&(K=Be())===su){if(g=de.isBrace=!0,D=de.isGlob=!0,Q=!0,s===!0)continue;break}if(j!==!0&&K===ky){if(g=de.isBrace=!0,D=de.isGlob=!0,Q=!0,s===!0)continue;break}if(K===_y&&(We--,We===0)){j=!1,g=de.isBrace=!0,Q=!0;break}}if(s===!0)continue;break}if(K===np){if(o.push(f),a.push(de),de={value:"",depth:0,isGlob:!1},Q===!0)continue;if(Pe===su&&f===p+1){p+=2;continue}d=f+1;continue}if(r.noext!==!0&&(K===Oy||K===Py||K===nu||K===Qf||K===iu)===!0&&F()===au){if(D=de.isGlob=!0,v=de.isExtglob=!0,Q=!0,K===iu&&f===p&&(Z=!0),s===!0){for(;ke()!==!0&&(K=Be());){if(K===Ps){te=de.backslashes=!0,K=Be();continue}if(K===ep){D=de.isGlob=!0,Q=!0;break}}continue}break}if(K===nu){if(Pe===nu&&(W=de.isGlobstar=!0),D=de.isGlob=!0,Q=!0,s===!0)continue;break}if(K===Qf){if(D=de.isGlob=!0,Q=!0,s===!0)continue;break}if(K===Ny){for(;ke()!==!0&&(at=Be());){if(at===Ps){te=de.backslashes=!0,Be();continue}if(at===Iy){b=de.isBracket=!0,D=de.isGlob=!0,Q=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&K===iu&&f===p){q=de.negated=!0,p++;continue}if(r.noparen!==!0&&K===au){if(D=de.isGlob=!0,s===!0){for(;ke()!==!0&&(K=Be());){if(K===au){te=de.backslashes=!0,K=Be();continue}if(K===ep){Q=!0;break}}continue}break}if(D===!0){if(Q=!0,s===!0)continue;break}}r.noext===!0&&(v=!1,D=!1);let $e=c,fr="",x="";p>0&&(fr=c.slice(0,p),c=c.slice(p),d-=p),$e&&D===!0&&d>0?($e=c.slice(0,d),x=c.slice(d)):D===!0?($e="",x=c):$e=c,$e&&$e!==""&&$e!=="/"&&$e!==c&&tp($e.charCodeAt($e.length-1))&&($e=$e.slice(0,-1)),r.unescape===!0&&(x&&(x=Zf.removeBackslashes(x)),$e&&te===!0&&($e=Zf.removeBackslashes($e)));let S={prefix:fr,input:e,start:p,base:$e,glob:x,isBrace:g,isBracket:b,isGlob:D,isExtglob:v,isGlobstar:W,negated:q,negatedExtglob:Z};if(r.tokens===!0&&(S.maxDepth=0,tp(K)||a.push(de),S.tokens=a),r.parts===!0||r.tokens===!0){let at;for(let me=0;me<o.length;me++){let $t=at?at+1:p,Gt=o[me],N=e.slice($t,Gt);r.tokens&&(me===0&&p!==0?(a[me].isPrefix=!0,a[me].value=fr):a[me].value=N,rp(a[me]),S.maxDepth+=a[me].depth),(me!==0||N!=="")&&u.push(N),at=Gt}if(at&&at+1<e.length){let me=e.slice(at+1);u.push(me),r.tokens&&(a[a.length-1].value=me,rp(a[a.length-1]),S.maxDepth+=a[a.length-1].depth)}S.slashes=o,S.parts=u}return S};sp.exports=jy});var up=oe((PE,ap)=>{"use strict";l();var Zi=Rs(),Wt=Xi(),{MAX_LENGTH:Qi,POSIX_REGEX_SOURCE:My,REGEX_NON_SPECIAL_CHARS:Wy,REGEX_SPECIAL_CHARS_BACKREF:qy,REPLACEMENTS:op}=Zi,Hy=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>Wt.escapeRegex(s)).join("..")}return r},qn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,uu=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=op[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Qi,r.maxLength):Qi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},a=[o],u=r.capture?"":"?:",c=Wt.isWindows(t),f=Zi.globChars(c),p=Zi.extglobChars(f),{DOT_LITERAL:d,PLUS_LITERAL:g,SLASH_LITERAL:b,ONE_CHAR:D,DOTS_SLASH:v,NO_DOT:W,NO_DOT_SLASH:j,NO_DOTS_SLASH:te,QMARK:q,QMARK_NO_DOT:Z,STAR:Q,START_ANCHOR:We}=f,Pe=L=>`(${u}(?:(?!${We}${L.dot?v:d}).)*?)`,K=r.dot?"":W,de=r.dot?q:Z,ke=r.bash===!0?Pe(r):Q;r.capture&&(ke=`(${ke})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let F={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=Wt.removePrefix(e,F),s=e.length;let Be=[],$e=[],fr=[],x=o,S,at=()=>F.index===s-1,me=F.peek=(L=1)=>e[F.index+L],$t=F.advance=()=>e[++F.index]||"",Gt=()=>e.slice(F.index+1),N=(L="",ue=0)=>{F.consumed+=L,F.index+=ue},U=L=>{F.output+=L.output!=null?L.output:L.value,N(L.value)},ce=()=>{let L=1;for(;me()==="!"&&(me(2)!=="("||me(3)==="?");)$t(),F.start++,L++;return L%2===0?!1:(F.negated=!0,F.start++,!0)},he=L=>{F[L]++,fr.push(L)},Ie=L=>{F[L]--,fr.pop()},z=L=>{if(x.type==="globstar"){let ue=F.braces>0&&(L.type==="comma"||L.type==="brace"),E=L.extglob===!0||Be.length&&(L.type==="pipe"||L.type==="paren");L.type!=="slash"&&L.type!=="paren"&&!ue&&!E&&(F.output=F.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=ke,F.output+=x.output)}if(Be.length&&L.type!=="paren"&&(Be[Be.length-1].inner+=L.value),(L.value||L.output)&&U(L),x&&x.type==="text"&&L.type==="text"){x.value+=L.value,x.output=(x.output||"")+L.value;return}L.prev=x,a.push(L),x=L},Ve=(L,ue)=>{let E={...p[ue],conditions:1,inner:""};E.prev=x,E.parens=F.parens,E.output=F.output;let J=(r.capture?"(":"")+E.open;he("parens"),z({type:L,value:ue,output:F.output?"":D}),z({type:"paren",extglob:!0,value:$t(),output:J}),Be.push(E)},us=L=>{let ue=L.close+(r.capture?")":""),E;if(L.type==="negate"){let J=ke;if(L.inner&&L.inner.length>1&&L.inner.includes("/")&&(J=Pe(r)),(J!==ke||at()||/^\)+$/.test(Gt()))&&(ue=L.close=`)$))${J}`),L.inner.includes("*")&&(E=Gt())&&/^\.[^\\/.]+$/.test(E)){let Ce=uu(E,{...t,fastpaths:!1}).output;ue=L.close=`)${Ce})${J})`}L.prev.type==="bos"&&(F.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:S,output:ue}),Ie("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let L=!1,ue=e.replace(qy,(E,J,Ce,Je,Re,er)=>Je==="\\"?(L=!0,E):Je==="?"?J?J+Je+(Re?q.repeat(Re.length):""):er===0?de+(Re?q.repeat(Re.length):""):q.repeat(Ce.length):Je==="."?d.repeat(Ce.length):Je==="*"?J?J+Je+(Re?ke:""):ke:J?E:`\\${E}`);return L===!0&&(r.unescape===!0?ue=ue.replace(/\\/g,""):ue=ue.replace(/\\+/g,E=>E.length%2===0?"\\\\":E?"\\":"")),ue===e&&r.contains===!0?(F.output=e,F):(F.output=Wt.wrapOutput(ue,F,t),F)}for(;!at();){if(S=$t(),S==="\0")continue;if(S==="\\"){let E=me();if(E==="/"&&r.bash!==!0||E==="."||E===";")continue;if(!E){S+="\\",z({type:"text",value:S});continue}let J=/^\\+/.exec(Gt()),Ce=0;if(J&&J[0].length>2&&(Ce=J[0].length,F.index+=Ce,Ce%2!==0&&(S+="\\")),r.unescape===!0?S=$t():S+=$t(),F.brackets===0){z({type:"text",value:S});continue}}if(F.brackets>0&&(S!=="]"||x.value==="["||x.value==="[^")){if(r.posix!==!1&&S===":"){let E=x.value.slice(1);if(E.includes("[")&&(x.posix=!0,E.includes(":"))){let J=x.value.lastIndexOf("["),Ce=x.value.slice(0,J),Je=x.value.slice(J+2),Re=My[Je];if(Re){x.value=Ce+Re,F.backtrack=!0,$t(),!o.output&&a.indexOf(x)===1&&(o.output=D);continue}}}(S==="["&&me()!==":"||S==="-"&&me()==="]")&&(S=`\\${S}`),S==="]"&&(x.value==="["||x.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&x.value==="["&&(S="^"),x.value+=S,U({value:S});continue}if(F.quotes===1&&S!=='"'){S=Wt.escapeRegex(S),x.value+=S,U({value:S});continue}if(S==='"'){F.quotes=F.quotes===1?0:1,r.keepQuotes===!0&&z({type:"text",value:S});continue}if(S==="("){he("parens"),z({type:"paren",value:S});continue}if(S===")"){if(F.parens===0&&r.strictBrackets===!0)throw new SyntaxError(qn("opening","("));let E=Be[Be.length-1];if(E&&F.parens===E.parens+1){us(Be.pop());continue}z({type:"paren",value:S,output:F.parens?")":"\\)"}),Ie("parens");continue}if(S==="["){if(r.nobracket===!0||!Gt().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(qn("closing","]"));S=`\\${S}`}else he("brackets");z({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||x&&x.type==="bracket"&&x.value.length===1){z({type:"text",value:S,output:`\\${S}`});continue}if(F.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(qn("opening","["));z({type:"text",value:S,output:`\\${S}`});continue}Ie("brackets");let E=x.value.slice(1);if(x.posix!==!0&&E[0]==="^"&&!E.includes("/")&&(S=`/${S}`),x.value+=S,U({value:S}),r.literalBrackets===!1||Wt.hasRegexChars(E))continue;let J=Wt.escapeRegex(x.value);if(F.output=F.output.slice(0,-x.value.length),r.literalBrackets===!0){F.output+=J,x.value=J;continue}x.value=`(${u}${J}|${x.value})`,F.output+=x.value;continue}if(S==="{"&&r.nobrace!==!0){he("braces");let E={type:"brace",value:S,output:"(",outputIndex:F.output.length,tokensIndex:F.tokens.length};$e.push(E),z(E);continue}if(S==="}"){let E=$e[$e.length-1];if(r.nobrace===!0||!E){z({type:"text",value:S,output:S});continue}let J=")";if(E.dots===!0){let Ce=a.slice(),Je=[];for(let Re=Ce.length-1;Re>=0&&(a.pop(),Ce[Re].type!=="brace");Re--)Ce[Re].type!=="dots"&&Je.unshift(Ce[Re].value);J=Hy(Je,r),F.backtrack=!0}if(E.comma!==!0&&E.dots!==!0){let Ce=F.output.slice(0,E.outputIndex),Je=F.tokens.slice(E.tokensIndex);E.value=E.output="\\{",S=J="\\}",F.output=Ce;for(let Re of Je)F.output+=Re.output||Re.value}z({type:"brace",value:S,output:J}),Ie("braces"),$e.pop();continue}if(S==="|"){Be.length>0&&Be[Be.length-1].conditions++,z({type:"text",value:S});continue}if(S===","){let E=S,J=$e[$e.length-1];J&&fr[fr.length-1]==="braces"&&(J.comma=!0,E="|"),z({type:"comma",value:S,output:E});continue}if(S==="/"){if(x.type==="dot"&&F.index===F.start+1){F.start=F.index+1,F.consumed="",F.output="",a.pop(),x=o;continue}z({type:"slash",value:S,output:b});continue}if(S==="."){if(F.braces>0&&x.type==="dot"){x.value==="."&&(x.output=d);let E=$e[$e.length-1];x.type="dots",x.output+=S,x.value+=S,E.dots=!0;continue}if(F.braces+F.parens===0&&x.type!=="bos"&&x.type!=="slash"){z({type:"text",value:S,output:d});continue}z({type:"dot",value:S,output:d});continue}if(S==="?"){if(!(x&&x.value==="(")&&r.noextglob!==!0&&me()==="("&&me(2)!=="?"){Ve("qmark",S);continue}if(x&&x.type==="paren"){let J=me(),Ce=S;if(J==="<"&&!Wt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(x.value==="("&&!/[!=<:]/.test(J)||J==="<"&&!/<([!=]|\w+>)/.test(Gt()))&&(Ce=`\\${S}`),z({type:"text",value:S,output:Ce});continue}if(r.dot!==!0&&(x.type==="slash"||x.type==="bos")){z({type:"qmark",value:S,output:Z});continue}z({type:"qmark",value:S,output:q});continue}if(S==="!"){if(r.noextglob!==!0&&me()==="("&&(me(2)!=="?"||!/[!=<:]/.test(me(3)))){Ve("negate",S);continue}if(r.nonegate!==!0&&F.index===0){ce();continue}}if(S==="+"){if(r.noextglob!==!0&&me()==="("&&me(2)!=="?"){Ve("plus",S);continue}if(x&&x.value==="("||r.regex===!1){z({type:"plus",value:S,output:g});continue}if(x&&(x.type==="bracket"||x.type==="paren"||x.type==="brace")||F.parens>0){z({type:"plus",value:S});continue}z({type:"plus",value:g});continue}if(S==="@"){if(r.noextglob!==!0&&me()==="("&&me(2)!=="?"){z({type:"at",extglob:!0,value:S,output:""});continue}z({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let E=Wy.exec(Gt());E&&(S+=E[0],F.index+=E[0].length),z({type:"text",value:S});continue}if(x&&(x.type==="globstar"||x.star===!0)){x.type="star",x.star=!0,x.value+=S,x.output=ke,F.backtrack=!0,F.globstar=!0,N(S);continue}let L=Gt();if(r.noextglob!==!0&&/^\([^?]/.test(L)){Ve("star",S);continue}if(x.type==="star"){if(r.noglobstar===!0){N(S);continue}let E=x.prev,J=E.prev,Ce=E.type==="slash"||E.type==="bos",Je=J&&(J.type==="star"||J.type==="globstar");if(r.bash===!0&&(!Ce||L[0]&&L[0]!=="/")){z({type:"star",value:S,output:""});continue}let Re=F.braces>0&&(E.type==="comma"||E.type==="brace"),er=Be.length&&(E.type==="pipe"||E.type==="paren");if(!Ce&&E.type!=="paren"&&!Re&&!er){z({type:"star",value:S,output:""});continue}for(;L.slice(0,3)==="/**";){let Lr=e[F.index+4];if(Lr&&Lr!=="/")break;L=L.slice(3),N("/**",3)}if(E.type==="bos"&&at()){x.type="globstar",x.value+=S,x.output=Pe(r),F.output=x.output,F.globstar=!0,N(S);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&!Je&&at()){F.output=F.output.slice(0,-(E.output+x.output).length),E.output=`(?:${E.output}`,x.type="globstar",x.output=Pe(r)+(r.strictSlashes?")":"|$)"),x.value+=S,F.globstar=!0,F.output+=E.output+x.output,N(S);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&L[0]==="/"){let Lr=L[1]!==void 0?"|$":"";F.output=F.output.slice(0,-(E.output+x.output).length),E.output=`(?:${E.output}`,x.type="globstar",x.output=`${Pe(r)}${b}|${b}${Lr})`,x.value+=S,F.output+=E.output+x.output,F.globstar=!0,N(S+$t()),z({type:"slash",value:"/",output:""});continue}if(E.type==="bos"&&L[0]==="/"){x.type="globstar",x.value+=S,x.output=`(?:^|${b}|${Pe(r)}${b})`,F.output=x.output,F.globstar=!0,N(S+$t()),z({type:"slash",value:"/",output:""});continue}F.output=F.output.slice(0,-x.output.length),x.type="globstar",x.output=Pe(r),x.value+=S,F.output+=x.output,F.globstar=!0,N(S);continue}let ue={type:"star",value:S,output:ke};if(r.bash===!0){ue.output=".*?",(x.type==="bos"||x.type==="slash")&&(ue.output=K+ue.output),z(ue);continue}if(x&&(x.type==="bracket"||x.type==="paren")&&r.regex===!0){ue.output=S,z(ue);continue}(F.index===F.start||x.type==="slash"||x.type==="dot")&&(x.type==="dot"?(F.output+=j,x.output+=j):r.dot===!0?(F.output+=te,x.output+=te):(F.output+=K,x.output+=K),me()!=="*"&&(F.output+=D,x.output+=D)),z(ue)}for(;F.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing","]"));F.output=Wt.escapeLast(F.output,"["),Ie("brackets")}for(;F.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing",")"));F.output=Wt.escapeLast(F.output,"("),Ie("parens")}for(;F.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing","}"));F.output=Wt.escapeLast(F.output,"{"),Ie("braces")}if(r.strictSlashes!==!0&&(x.type==="star"||x.type==="bracket")&&z({type:"maybe_slash",value:"",output:`${b}?`}),F.backtrack===!0){F.output="";for(let L of F.tokens)F.output+=L.output!=null?L.output:L.value,L.suffix&&(F.output+=L.suffix)}return F};uu.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Qi,r.maxLength):Qi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=op[e]||e;let o=Wt.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:u,ONE_CHAR:c,DOTS_SLASH:f,NO_DOT:p,NO_DOTS:d,NO_DOTS_SLASH:g,STAR:b,START_ANCHOR:D}=Zi.globChars(o),v=r.dot?d:p,W=r.dot?g:p,j=r.capture?"":"?:",te={negated:!1,prefix:""},q=r.bash===!0?".*?":b;r.capture&&(q=`(${q})`);let Z=K=>K.noglobstar===!0?q:`(${j}(?:(?!${D}${K.dot?f:a}).)*?)`,Q=K=>{switch(K){case"*":return`${v}${c}${q}`;case".*":return`${a}${c}${q}`;case"*.*":return`${v}${q}${a}${c}${q}`;case"*/*":return`${v}${q}${u}${c}${W}${q}`;case"**":return v+Z(r);case"**/*":return`(?:${v}${Z(r)}${u})?${W}${c}${q}`;case"**/*.*":return`(?:${v}${Z(r)}${u})?${W}${q}${a}${c}${q}`;case"**/.*":return`(?:${v}${Z(r)}${u})?${a}${c}${q}`;default:{let de=/^(.*?)\.(\w+)$/.exec(K);if(!de)return;let ke=Q(de[1]);return ke?ke+a+de[2]:void 0}}},We=Wt.removePrefix(e,te),Pe=Q(We);return Pe&&r.strictSlashes!==!0&&(Pe+=`${u}?`),Pe};ap.exports=uu});var lp=oe((NE,cp)=>{"use strict";l();var Gy=require("path"),Uy=ip(),cu=up(),lu=Xi(),zy=Rs(),Vy=e=>e&&typeof e=="object"&&!Array.isArray(e),Xe=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(g=>Xe(g,t,r));return g=>{for(let b of p){let D=b(g);if(D)return D}return!1}}let n=Vy(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=lu.isWindows(t),a=n?Xe.compileRe(e,t):Xe.makeRe(e,t,!1,!0),u=a.state;delete a.state;let c=()=>!1;if(s.ignore){let p={...t,ignore:null,onMatch:null,onResult:null};c=Xe(s.ignore,p,r)}let f=(p,d=!1)=>{let{isMatch:g,match:b,output:D}=Xe.test(p,a,t,{glob:e,posix:o}),v={glob:e,state:u,regex:a,posix:o,input:p,output:D,match:b,isMatch:g};return typeof s.onResult=="function"&&s.onResult(v),g===!1?(v.isMatch=!1,d?v:!1):c(p)?(typeof s.onIgnore=="function"&&s.onIgnore(v),v.isMatch=!1,d?v:!1):(typeof s.onMatch=="function"&&s.onMatch(v),d?v:!0)};return r&&(f.state=u),f};Xe.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},a=o.format||(s?lu.toPosixSlashes:null),u=e===n,c=u&&a?a(e):e;return u===!1&&(c=a?a(e):e,u=c===n),(u===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?u=Xe.matchBase(e,t,r,s):u=t.exec(c)),{isMatch:!!u,match:u,output:c}};Xe.matchBase=(e,t,r,n=lu.isWindows(r))=>(t instanceof RegExp?t:Xe.makeRe(t,r)).test(Gy.basename(e));Xe.isMatch=(e,t,r)=>Xe(t,r)(e);Xe.parse=(e,t)=>Array.isArray(e)?e.map(r=>Xe.parse(r,t)):cu(e,{...t,fastpaths:!1});Xe.scan=(e,t)=>Uy(e,t);Xe.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},o=s.contains?"":"^",a=s.contains?"":"$",u=`${o}(?:${e.output})${a}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);let c=Xe.toRegex(u,t);return n===!0&&(c.state=e),c};Xe.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=cu.fastpaths(e,t)),s.output||(s=cu(e,t)),Xe.compileRe(s,t,r,n)};Xe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Xe.constants=zy;cp.exports=Xe});var pp=oe((_E,fp)=>{"use strict";l();fp.exports=lp()});var dp=oe((jE,mp)=>{l();mp.exports=function(e,t){if(typeof e!="string")throw new TypeError("expected path to be a string");if(e==="\\"||e==="/")return"/";var r=e.length;if(r<=1)return e;var n="";if(r>4&&e[3]==="\\"){var s=e[2];(s==="?"||s===".")&&e.slice(0,2)==="\\\\"&&(e=e.slice(2),n="//")}var o=e.split(/[/\\]+/);return t!==!1&&o[o.length-1]===""&&o.pop(),n+o.join("/")}});var zr=oe((Dp,bp)=>{"use strict";l();Object.defineProperty(Dp,"__esModule",{value:!0});var yp=pp(),Jy=dp(),hp="!",Yy={returnIndex:!1},Ky=e=>Array.isArray(e)?e:[e],Xy=(e,t)=>{if(typeof e=="function")return e;if(typeof e=="string"){let r=yp(e,t);return n=>e===n||r(n)}return e instanceof RegExp?r=>e.test(r):r=>!1},gp=(e,t,r,n)=>{let s=Array.isArray(r),o=s?r[0]:r;if(!s&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let a=Jy(o,!1);for(let c=0;c<t.length;c++){let f=t[c];if(f(a))return n?-1:!1}let u=s&&[a].concat(r.slice(1));for(let c=0;c<e.length;c++){let f=e[c];if(s?f(...u):f(a))return n?c:!0}return n?-1:!1},fu=(e,t,r=Yy)=>{if(e==null)throw new TypeError("anymatch: specify first argument");let n=typeof r=="boolean"?{returnIndex:r}:r,s=n.returnIndex||!1,o=Ky(e),a=o.filter(c=>typeof c=="string"&&c.charAt(0)===hp).map(c=>c.slice(1)).map(c=>yp(c,n)),u=o.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==hp).map(c=>Xy(c,n));return t==null?(c,f=!1)=>gp(u,a,c,typeof f=="boolean"?f:!1):gp(u,a,t,s)};fu.default=fu;bp.exports=fu});var Mp=oe(no=>{l();Object.defineProperty(no,"__esModule",{value:!0});no.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;no.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!!(e[3]||e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}});var Up=oe(js=>{"use strict";l();Object.defineProperty(js,"__esModule",{value:!0});js.isIdentifierChar=Gp;js.isIdentifierName=gD;js.isIdentifierStart=Hp;var Su="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Wp="\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",mD=new RegExp("["+Su+"]"),dD=new RegExp("["+Su+Wp+"]");Su=Wp=null;var qp=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],hD=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function xu(e,t){let r=65536;for(let n=0,s=t.length;n<s;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}return!1}function Hp(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&mD.test(String.fromCharCode(e)):xu(e,qp)}function Gp(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&dD.test(String.fromCharCode(e)):xu(e,qp)||xu(e,hD)}function gD(e){let t=!0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if((n&64512)===55296&&r+1<e.length){let s=e.charCodeAt(++r);(s&64512)===56320&&(n=65536+((n&1023)<<10)+(s&1023))}if(t){if(t=!1,!Hp(n))return!1}else if(!Gp(n))return!1}return!t}});var Yp=oe(xn=>{"use strict";l();Object.defineProperty(xn,"__esModule",{value:!0});xn.isKeyword=xD;xn.isReservedWord=zp;xn.isStrictBindOnlyReservedWord=Jp;xn.isStrictBindReservedWord=wD;xn.isStrictReservedWord=Vp;var Fu={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},yD=new Set(Fu.keyword),DD=new Set(Fu.strict),bD=new Set(Fu.strictBind);function zp(e,t){return t&&e==="await"||e==="enum"}function Vp(e,t){return zp(e,t)||DD.has(e)}function Jp(e){return bD.has(e)}function wD(e,t){return Vp(e,t)||Jp(e)}function xD(e){return yD.has(e)}});var Kp=oe(vr=>{"use strict";l();Object.defineProperty(vr,"__esModule",{value:!0});Object.defineProperty(vr,"isIdentifierChar",{enumerable:!0,get:function(){return vu.isIdentifierChar}});Object.defineProperty(vr,"isIdentifierName",{enumerable:!0,get:function(){return vu.isIdentifierName}});Object.defineProperty(vr,"isIdentifierStart",{enumerable:!0,get:function(){return vu.isIdentifierStart}});Object.defineProperty(vr,"isKeyword",{enumerable:!0,get:function(){return Ms.isKeyword}});Object.defineProperty(vr,"isReservedWord",{enumerable:!0,get:function(){return Ms.isReservedWord}});Object.defineProperty(vr,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return Ms.isStrictBindOnlyReservedWord}});Object.defineProperty(vr,"isStrictBindReservedWord",{enumerable:!0,get:function(){return Ms.isStrictBindReservedWord}});Object.defineProperty(vr,"isStrictReservedWord",{enumerable:!0,get:function(){return Ms.isStrictReservedWord}});var vu=Up(),Ms=Yp()});var Eu=oe((l3,Cu)=>{l();var Xp=process.argv||[],so=process.env,SD=!("NO_COLOR"in so||Xp.includes("--no-color"))&&("FORCE_COLOR"in so||Xp.includes("--color")||process.platform==="win32"||require!=null&&require("tty").isatty(1)&&so.TERM!=="dumb"||"CI"in so),FD=(e,t,r=e)=>n=>{let s=""+n,o=s.indexOf(t,e.length);return~o?e+vD(s,t,r,o)+t:e+s+t},vD=(e,t,r,n)=>{let s="",o=0;do s+=e.substring(o,n)+r,o=n+t.length,n=e.indexOf(t,o);while(~n);return s+e.substring(o)},Zp=(e=SD)=>{let t=e?FD:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};Cu.exports=Zp();Cu.exports.createColors=Zp});var em=oe((p3,Qp)=>{"use strict";l();var CD=/[|\\{}()[\]^$+*?.]/g;Qp.exports=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(CD,"\\$&")}});var rm=oe((d3,tm)=>{"use strict";l();tm.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var $u=oe((g3,om)=>{l();var Sn=rm(),im={};for(io in Sn)Sn.hasOwnProperty(io)&&(im[Sn[io]]=io);var io,M=om.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Ct in M)if(M.hasOwnProperty(Ct)){if(!("channels"in M[Ct]))throw new Error("missing channels property: "+Ct);if(!("labels"in M[Ct]))throw new Error("missing channel labels property: "+Ct);if(M[Ct].labels.length!==M[Ct].channels)throw new Error("channel and label counts mismatch: "+Ct);nm=M[Ct].channels,sm=M[Ct].labels,delete M[Ct].channels,delete M[Ct].labels,Object.defineProperty(M[Ct],"channels",{value:nm}),Object.defineProperty(M[Ct],"labels",{value:sm})}var nm,sm,Ct;M.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.min(t,r,n),o=Math.max(t,r,n),a=o-s,u,c,f;return o===s?u=0:t===o?u=(r-n)/a:r===o?u=2+(n-t)/a:n===o&&(u=4+(t-r)/a),u=Math.min(u*60,360),u<0&&(u+=360),f=(s+o)/2,o===s?c=0:f<=.5?c=a/(o+s):c=a/(2-o-s),[u,c*100,f*100]};M.rgb.hsv=function(e){var t,r,n,s,o,a=e[0]/255,u=e[1]/255,c=e[2]/255,f=Math.max(a,u,c),p=f-Math.min(a,u,c),d=function(g){return(f-g)/6/p+1/2};return p===0?s=o=0:(o=p/f,t=d(a),r=d(u),n=d(c),a===f?s=n-r:u===f?s=1/3+t-n:c===f&&(s=2/3+r-t),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,f*100]};M.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],s=M.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[s,o*100,n*100]};M.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s,o,a,u;return u=Math.min(1-t,1-r,1-n),s=(1-t-u)/(1-u)||0,o=(1-r-u)/(1-u)||0,a=(1-n-u)/(1-u)||0,[s*100,o*100,a*100,u*100]};function ED(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}M.rgb.keyword=function(e){var t=im[e];if(t)return t;var r=1/0,n;for(var s in Sn)if(Sn.hasOwnProperty(s)){var o=Sn[s],a=ED(e,o);a<r&&(r=a,n=s)}return n};M.keyword.rgb=function(e){return Sn[e]};M.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var s=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,a=t*.0193+r*.1192+n*.9505;return[s*100,o*100,a*100]};M.rgb.lab=function(e){var t=M.rgb.xyz(e),r=t[0],n=t[1],s=t[2],o,a,u;return r/=95.047,n/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=116*n-16,a=500*(r-n),u=200*(n-s),[o,a,u]};M.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,s,o,a,u,c;if(r===0)return c=n*255,[c,c,c];n<.5?o=n*(1+r):o=n+r-n*r,s=2*n-o,u=[0,0,0];for(var f=0;f<3;f++)a=t+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?c=s+(o-s)*6*a:2*a<1?c=o:3*a<2?c=s+(o-s)*(2/3-a)*6:c=s,u[f]=c*255;return u};M.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,s=r,o=Math.max(n,.01),a,u;return n*=2,r*=n<=1?n:2-n,s*=o<=1?o:2-o,u=(n+r)/2,a=n===0?2*s/(o+s):2*r/(n+r),[t,a*100,u*100]};M.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,s=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),u=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,s){case 0:return[n,c,a];case 1:return[u,n,a];case 2:return[a,n,c];case 3:return[a,u,n];case 4:return[c,a,n];case 5:return[n,a,u]}};M.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,s=Math.max(n,.01),o,a,u;return u=(2-r)*n,o=(2-r)*s,a=r*s,a/=o<=1?o:2-o,a=a||0,u/=2,[t,a*100,u*100]};M.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,s=r+n,o,a,u,c;s>1&&(r/=s,n/=s),o=Math.floor(6*t),a=1-n,u=6*t-o,o&1&&(u=1-u),c=r+u*(a-r);var f,p,d;switch(o){default:case 6:case 0:f=a,p=c,d=r;break;case 1:f=c,p=a,d=r;break;case 2:f=r,p=a,d=c;break;case 3:f=r,p=c,d=a;break;case 4:f=c,p=r,d=a;break;case 5:f=a,p=r,d=c;break}return[f*255,p*255,d*255]};M.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,s=e[3]/100,o,a,u;return o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),u=1-Math.min(1,n*(1-s)+s),[o*255,a*255,u*255]};M.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,s,o,a;return s=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,a=t*.0557+r*-.204+n*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};M.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=116*r-16,o=500*(t-r),a=200*(r-n),[s,o,a]};M.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;o=(t+16)/116,s=r/500+o,a=o-n/200;var u=Math.pow(o,3),c=Math.pow(s,3),f=Math.pow(a,3);return o=u>.008856?u:(o-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,a=f>.008856?f:(a-16/116)/7.787,s*=95.047,o*=100,a*=108.883,[s,o,a]};M.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return s=Math.atan2(n,r),o=s*360/2/Math.PI,o<0&&(o+=360),a=Math.sqrt(r*r+n*n),[t,a,o]};M.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return a=n/360*2*Math.PI,s=r*Math.cos(a),o=r*Math.sin(a),[t,s,o]};M.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],s=1 in arguments?arguments[1]:M.rgb.hsv(e)[2];if(s=Math.round(s/50),s===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};M.hsv.ansi16=function(e){return M.rgb.ansi16(M.hsv.rgb(e),e[2])};M.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var s=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return s};M.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,s=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,s,o]};M.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,s=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,s,o]};M.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};M.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(u){return u+u}).join(""));var n=parseInt(r,16),s=n>>16&255,o=n>>8&255,a=n&255;return[s,o,a]};M.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),a=s-o,u,c;return a<1?u=o/(1-a):u=0,a<=0?c=0:s===t?c=(r-n)/a%6:s===r?c=2+(n-t)/a:c=4+(t-r)/a+4,c/=6,c%=1,[c*360,a*100,u*100]};M.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,s=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(s=(r-.5*n)/(1-n)),[e[0],n*100,s*100]};M.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,s=0;return n<1&&(s=(r-n)/(1-n)),[e[0],n*100,s*100]};M.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var s=[0,0,0],o=t%1*6,a=o%1,u=1-a,c=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=u,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=u,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=u}return c=(1-r)*n,[(r*s[0]+c)*255,(r*s[1]+c)*255,(r*s[2]+c)*255]};M.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),s=0;return n>0&&(s=t/n),[e[0],s*100,n*100]};M.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],s*100,n*100]};M.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};M.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,s=n-t,o=0;return s<1&&(o=(n-s)/(1-s)),[e[0],s*100,o*100]};M.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};M.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};M.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};M.gray.hsl=M.gray.hsv=function(e){return[0,0,e[0]]};M.gray.hwb=function(e){return[0,100,e[0]]};M.gray.cmyk=function(e){return[0,0,0,e[0]]};M.gray.lab=function(e){return[e[0],0,0]};M.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};M.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var um=oe((D3,am)=>{l();var oo=$u();function $D(){for(var e={},t=Object.keys(oo),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function AD(e){var t=$D(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),s=Object.keys(oo[n]),o=s.length,a=0;a<o;a++){var u=s[a],c=t[u];c.distance===-1&&(c.distance=t[n].distance+1,c.parent=n,r.unshift(u))}return t}function TD(e,t){return function(r){return t(e(r))}}function LD(e,t){for(var r=[t[e].parent,e],n=oo[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),n=TD(oo[t[s].parent][s],n),s=t[s].parent;return n.conversion=r,n}am.exports=function(e){for(var t=AD(e),r={},n=Object.keys(t),s=n.length,o=0;o<s;o++){var a=n[o],u=t[a];u.parent!==null&&(r[a]=LD(a,t))}return r}});var lm=oe((w3,cm)=>{l();var Au=$u(),BD=um(),Gn={},RD=Object.keys(Au);function PD(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function kD(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var s=n.length,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}RD.forEach(function(e){Gn[e]={},Object.defineProperty(Gn[e],"channels",{value:Au[e].channels}),Object.defineProperty(Gn[e],"labels",{value:Au[e].labels});var t=BD(e),r=Object.keys(t);r.forEach(function(n){var s=t[n];Gn[e][n]=kD(s),Gn[e][n].raw=PD(s)})});cm.exports=Gn});var pm=oe((S3,fm)=>{"use strict";l();var Un=lm(),ao=(e,t)=>function(){return`\x1B[${e.apply(Un,arguments)+t}m`},uo=(e,t)=>function(){let r=e.apply(Un,arguments);return`\x1B[${38+t};5;${r}m`},co=(e,t)=>function(){let r=e.apply(Un,arguments);return`\x1B[${38+t};2;${r[0]};${r[1]};${r[2]}m`};function ND(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.grey=t.color.gray;for(let s of Object.keys(t)){let o=t[s];for(let a of Object.keys(o)){let u=o[a];t[a]={open:`\x1B[${u[0]}m`,close:`\x1B[${u[1]}m`},o[a]=t[a],e.set(u[0],u[1])}Object.defineProperty(t,s,{value:o,enumerable:!1}),Object.defineProperty(t,"codes",{value:e,enumerable:!1})}let r=s=>s,n=(s,o,a)=>[s,o,a];t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi={ansi:ao(r,0)},t.color.ansi256={ansi256:uo(r,0)},t.color.ansi16m={rgb:co(n,0)},t.bgColor.ansi={ansi:ao(r,10)},t.bgColor.ansi256={ansi256:uo(r,10)},t.bgColor.ansi16m={rgb:co(n,10)};for(let s of Object.keys(Un)){if(typeof Un[s]!="object")continue;let o=Un[s];s==="ansi16"&&(s="ansi"),"ansi16"in o&&(t.color.ansi[s]=ao(o.ansi16,0),t.bgColor.ansi[s]=ao(o.ansi16,10)),"ansi256"in o&&(t.color.ansi256[s]=uo(o.ansi256,0),t.bgColor.ansi256[s]=uo(o.ansi256,10)),"rgb"in o&&(t.color.ansi16m[s]=co(o.rgb,0),t.bgColor.ansi16m[s]=co(o.rgb,10))}return t}Object.defineProperty(fm,"exports",{enumerable:!0,get:ND})});var dm=oe((v3,mm)=>{"use strict";l();mm.exports=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1?!0:n<s)}});var gm=oe((E3,hm)=>{"use strict";l();var OD=require("os"),ir=dm(),wt=process.env,zn;ir("no-color")||ir("no-colors")||ir("color=false")?zn=!1:(ir("color")||ir("colors")||ir("color=true")||ir("color=always"))&&(zn=!0);"FORCE_COLOR"in wt&&(zn=wt.FORCE_COLOR.length===0||parseInt(wt.FORCE_COLOR,10)!==0);function _D(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ID(e){if(zn===!1)return 0;if(ir("color=16m")||ir("color=full")||ir("color=truecolor"))return 3;if(ir("color=256"))return 2;if(e&&!e.isTTY&&zn!==!0)return 0;let t=zn?1:0;if(process.platform==="win32"){let r=OD.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in wt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in wt)||wt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in wt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(wt.TEAMCITY_VERSION)?1:0;if(wt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in wt){let r=parseInt((wt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(wt.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(wt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(wt.TERM)||"COLORTERM"in wt?1:(wt.TERM==="dumb",t)}function Tu(e){let t=ID(e);return _D(t)}hm.exports={supportsColor:Tu,stdout:Tu(process.stdout),stderr:Tu(process.stderr)}});var xm=oe((A3,wm)=>{"use strict";l();var jD=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ym=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,MD=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,WD=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,qD=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function bm(e){return e[0]==="u"&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):qD.get(e)||e}function HD(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),s;for(let o of n)if(!isNaN(o))r.push(Number(o));else if(s=o.match(MD))r.push(s[2].replace(WD,(a,u,c)=>u?bm(u):c));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${e}')`);return r}function GD(e){ym.lastIndex=0;let t=[],r;for(;(r=ym.exec(e))!==null;){let n=r[1];if(r[2]){let s=HD(n,r[2]);t.push([n].concat(s))}else t.push([n])}return t}function Dm(e,t){let r={};for(let s of t)for(let o of s.styles)r[o[0]]=s.inverse?null:o.slice(1);let n=e;for(let s of Object.keys(r))if(Array.isArray(r[s])){if(!(s in n))throw new Error(`Unknown Chalk style: ${s}`);r[s].length>0?n=n[s].apply(n,r[s]):n=n[s]}return n}wm.exports=(e,t)=>{let r=[],n=[],s=[];if(t.replace(jD,(o,a,u,c,f,p)=>{if(a)s.push(bm(a));else if(c){let d=s.join("");s=[],n.push(r.length===0?d:Dm(e,r)(d)),r.push({inverse:u,styles:GD(c)})}else if(f){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Dm(e,r)(s.join(""))),s=[],r.pop()}else s.push(p)}),n.push(s.join("")),r.length>0){let o=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return n.join("")}});var Em=oe((L3,qs)=>{"use strict";l();var Bu=em(),rt=pm(),Lu=gm().stdout,UD=xm(),Fm=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),vm=["ansi","ansi","ansi256","ansi16m"],Cm=new Set(["gray"]),Vn=Object.create(null);function Sm(e,t){t=t||{};let r=Lu?Lu.level:0;e.level=t.level===void 0?r:t.level,e.enabled="enabled"in t?t.enabled:e.level>0}function Ws(e){if(!this||!(this instanceof Ws)||this.template){let t={};return Sm(t,e),t.template=function(){let r=[].slice.call(arguments);return JD.apply(null,[t.template].concat(r))},Object.setPrototypeOf(t,Ws.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=Ws,t.template}Sm(this,e)}Fm&&(rt.blue.open="\x1B[94m");for(let e of Object.keys(rt))rt[e].closeRe=new RegExp(Bu(rt[e].close),"g"),Vn[e]={get(){let t=rt[e];return lo.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}};Vn.visible={get(){return lo.call(this,this._styles||[],!0,"visible")}};rt.color.closeRe=new RegExp(Bu(rt.color.close),"g");for(let e of Object.keys(rt.color.ansi))Cm.has(e)||(Vn[e]={get(){let t=this.level;return function(){let n={open:rt.color[vm[t]][e].apply(null,arguments),close:rt.color.close,closeRe:rt.color.closeRe};return lo.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}});rt.bgColor.closeRe=new RegExp(Bu(rt.bgColor.close),"g");for(let e of Object.keys(rt.bgColor.ansi)){if(Cm.has(e))continue;let t="bg"+e[0].toUpperCase()+e.slice(1);Vn[t]={get(){let r=this.level;return function(){let s={open:rt.bgColor[vm[r]][e].apply(null,arguments),close:rt.bgColor.close,closeRe:rt.bgColor.closeRe};return lo.call(this,this._styles?this._styles.concat(s):[s],this._empty,e)}}}}var zD=Object.defineProperties(()=>{},Vn);function lo(e,t,r){let n=function(){return VD.apply(n,arguments)};n._styles=e,n._empty=t;let s=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return s.level},set(o){s.level=o}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return s.enabled},set(o){s.enabled=o}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=zD,n}function VD(){let e=arguments,t=e.length,r=String(arguments[0]);if(t===0)return"";if(t>1)for(let s=1;s<t;s++)r+=" "+e[s];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=rt.dim.open;Fm&&this.hasGrey&&(rt.dim.open="");for(let s of this._styles.slice().reverse())r=s.open+r.replace(s.closeRe,s.open)+s.close,r=r.replace(/\r?\n/g,`${s.close}$&${s.open}`);return rt.dim.open=n,r}function JD(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[t.raw[0]];for(let s=1;s<t.length;s++)n.push(String(r[s-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(t.raw[s]));return UD(e,n.join(""))}Object.defineProperties(Ws.prototype,Vn);qs.exports=Ws();qs.exports.supportsColor=Lu;qs.exports.default=qs.exports});var km=oe(Hs=>{"use strict";l();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.default=r1;Hs.shouldHighlight=Pm;var $m=Mp(),Am=Kp(),Pu=YD(Eu(),!0);function Lm(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Lm=function(n){return n?r:t})(e)}function YD(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Lm(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var Bm=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,Pu.createColors)(!1):Pu.default,Tm=(e,t)=>r=>e(t(r)),KD=new Set(["as","async","from","get","of","set"]);function XD(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:Tm(Tm(e.white,e.bgRed),e.bold)}}var ZD=/\r\n|[\n\r\u2028\u2029]/,QD=/^[()[\]{}]$/,Rm;{let e=/^[a-z][\w-]*$/i,t=function(r,n,s){if(r.type==="name"){if((0,Am.isKeyword)(r.value)||(0,Am.isStrictReservedWord)(r.value,!0)||KD.has(r.value))return"keyword";if(e.test(r.value)&&(s[n-1]==="<"||s.slice(n-2,n)==="</"))return"jsxIdentifier";if(r.value[0]!==r.value[0].toLowerCase())return"capitalized"}return r.type==="punctuator"&&QD.test(r.value)?"bracket":r.type==="invalid"&&(r.value==="@"||r.value==="#")?"punctuator":r.type};Rm=function*(r){let n;for(;n=$m.default.exec(r);){let s=$m.matchToToken(n);yield{type:t(s,n.index,r),value:s.value}}}}function e1(e,t){let r="";for(let{type:n,value:s}of Rm(t)){let o=e[n];o?r+=s.split(ZD).map(a=>o(a)).join(`
`):r+=s}return r}function Pm(e){return Bm.isColorSupported||e.forceColor}var Ru;function t1(e){if(e){var t;return(t=Ru)!=null||(Ru=(0,Pu.createColors)(!0)),Ru}return Bm}function r1(e,t={}){if(e!==""&&Pm(t)){let r=XD(t1(t.forceColor));return e1(r,e)}else return e}{let e,t;Hs.getChalk=({forceColor:r})=>{var n;if((n=e)!=null||(e=Em()),r){var s;return(s=t)!=null||(t=new e.constructor({enabled:!0,level:1})),t}return e}}});var Wm=oe(fo=>{"use strict";l();Object.defineProperty(fo,"__esModule",{value:!0});fo.codeFrameColumns=Mm;fo.default=u1;var Nm=km(),Nu=n1(Eu(),!0);function jm(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(jm=function(n){return n?r:t})(e)}function n1(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=jm(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s1=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,Nu.createColors)(!1):Nu.default,Om=(e,t)=>r=>e(t(r)),ku;function i1(e){if(e){var t;return(t=ku)!=null||(ku=(0,Nu.createColors)(!0)),ku}return s1}var _m=!1;function o1(e){return{gutter:e.gray,marker:Om(e.red,e.bold),message:Om(e.red,e.bold)}}var Im=/\r\n|[\n\r\u2028\u2029]/;function a1(e,t,r){let n=Object.assign({column:0,line:-1},e.start),s=Object.assign({},n,e.end),{linesAbove:o=2,linesBelow:a=3}=r||{},u=n.line,c=n.column,f=s.line,p=s.column,d=Math.max(u-(o+1),0),g=Math.min(t.length,f+a);u===-1&&(d=0),f===-1&&(g=t.length);let b=f-u,D={};if(b)for(let v=0;v<=b;v++){let W=v+u;if(!c)D[W]=!0;else if(v===0){let j=t[W-1].length;D[W]=[c,j-c+1]}else if(v===b)D[W]=[0,p];else{let j=t[W-v].length;D[W]=[0,j]}}else c===p?c?D[u]=[c,0]:D[u]=!0:D[u]=[c,p-c];return{start:d,end:g,markerLines:D}}function Mm(e,t,r={}){let n=(r.highlightCode||r.forceColor)&&(0,Nm.shouldHighlight)(r),s=i1(r.forceColor),o=o1(s),a=(v,W)=>n?v(W):W,u=e.split(Im),{start:c,end:f,markerLines:p}=a1(t,u,r),d=t.start&&typeof t.start.column=="number",g=String(f).length,D=(n?(0,Nm.default)(e,r):e).split(Im,f).slice(c,f).map((v,W)=>{let j=c+1+W,q=` ${` ${j}`.slice(-g)} |`,Z=p[j],Q=!p[j+1];if(Z){let We="";if(Array.isArray(Z)){let Pe=v.slice(0,Math.max(Z[0]-1,0)).replace(/[^\t]/g," "),K=Z[1]||1;We=[`
 `,a(o.gutter,q.replace(/\d/g," "))," ",Pe,a(o.marker,"^").repeat(K)].join(""),Q&&r.message&&(We+=" "+a(o.message,r.message))}return[a(o.marker,">"),a(o.gutter,q),v.length>0?` ${v}`:"",We].join("")}else return` ${a(o.gutter,q)}${v.length>0?` ${v}`:""}`}).join(`
`);return r.message&&!d&&(D=`${" ".repeat(g+1)}${r.message}
${D}`),n?s.reset(D):D}function u1(e,t,r,n={}){if(!_m){_m=!0;let o="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(o,"DeprecationWarning");else{let a=new Error(o);a.name="DeprecationWarning",console.warn(new Error(o))}}return r=Math.max(r,0),Mm(e,{start:{column:r,line:t}},n)}});var nd=oe((lT,Ju)=>{l();(function(){var e;function t(r,n){var s=this instanceof t?this:e;if(s.reset(n),typeof r=="string"&&r.length>0&&s.hash(r),s!==this)return s}t.prototype.hash=function(r){var n,s,o,a,u;switch(u=r.length,this.len+=u,s=this.k1,o=0,this.rem){case 0:s^=u>o?r.charCodeAt(o++)&65535:0;case 1:s^=u>o?(r.charCodeAt(o++)&65535)<<8:0;case 2:s^=u>o?(r.charCodeAt(o++)&65535)<<16:0;case 3:s^=u>o?(r.charCodeAt(o)&255)<<24:0,s^=u>o?(r.charCodeAt(o++)&65280)>>8:0}if(this.rem=u+this.rem&3,u-=this.rem,u>0){for(n=this.h1;s=s*11601+(s&65535)*3432906752&4294967295,s=s<<15|s>>>17,s=s*13715+(s&65535)*461832192&4294967295,n^=s,n=n<<13|n>>>19,n=n*5+3864292196&4294967295,!(o>=u);)s=r.charCodeAt(o++)&65535^(r.charCodeAt(o++)&65535)<<8^(r.charCodeAt(o++)&65535)<<16,a=r.charCodeAt(o++),s^=(a&255)<<24^(a&65280)>>8;switch(s=0,this.rem){case 3:s^=(r.charCodeAt(o+2)&65535)<<16;case 2:s^=(r.charCodeAt(o+1)&65535)<<8;case 1:s^=r.charCodeAt(o)&65535}this.h1=n}return this.k1=s,this},t.prototype.result=function(){var r,n;return r=this.k1,n=this.h1,r>0&&(r=r*11601+(r&65535)*3432906752&4294967295,r=r<<15|r>>>17,r=r*13715+(r&65535)*461832192&4294967295,n^=r),n^=this.len,n^=n>>>16,n=n*51819+(n&65535)*2246770688&4294967295,n^=n>>>13,n=n*44597+(n&65535)*3266445312&4294967295,n^=n>>>16,n>>>0},t.prototype.reset=function(r){return this.h1=typeof r=="number"?r:0,this.rem=this.k1=this.len=0,this},e=new t,typeof Ju<"u"?Ju.exports=t:this.MurmurHash3=t})()});var sd=oe(Cn=>{"use strict";l();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.signals=void 0;Cn.signals=[];Cn.signals.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Cn.signals.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Cn.signals.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT")});var id=oe(Er=>{"use strict";l();var So;Object.defineProperty(Er,"__esModule",{value:!0});Er.unload=Er.load=Er.onExit=Er.signals=void 0;var Fo=sd();Object.defineProperty(Er,"signals",{enumerable:!0,get:function(){return Fo.signals}});var vo=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Yu=Symbol.for("signal-exit emitter"),Ku=globalThis,O1=Object.defineProperty.bind(Object),Xu=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Ku[Yu])return Ku[Yu];O1(Ku,Yu,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let o of this.listeners[t])s=o(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},Co=class{},_1=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),Zu=class extends Co{onExit(){return()=>{}}load(){}unload(){}},Qu=class extends Co{#n=ec.platform==="win32"?"SIGINT":"SIGHUP";#t=new Xu;#e;#a;#o;#i={};#r=!1;constructor(t){super(),this.#e=t,this.#i={};for(let r of Fo.signals)this.#i[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(s+=o.__signal_exit_emitter__.count),n.length===s){this.unload();let a=this.#t.emit("exit",null,r),u=r==="SIGHUP"?this.#n:r;a||t.kill(t.pid,u)}};this.#o=t.reallyExit,this.#a=t.emit}onExit(t,r){if(!vo(this.#e))return()=>{};this.#r===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let t of Fo.signals)try{let r=this.#i[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#s(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#r&&(this.#r=!1,Fo.signals.forEach(t=>{let r=this.#i[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#o,this.#t.count-=1)}#c(t){return vo(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#s(t,...r){let n=this.#a;if(t==="exit"&&vo(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},ec=globalThis.process;So=_1(vo(ec)?new Qu(ec):new Zu),Er.onExit=So.onExit,Er.load=So.load,Er.unload=So.unload});var ad=oe((gT,zs)=>{"use strict";l();zs.exports=G1;zs.exports.sync=U1;zs.exports._getTmpname=tc;zs.exports._cleanupOnExit=rc;var Me=require("fs"),I1=nd(),{onExit:od}=id(),j1=require("path"),{promisify:Zt}=require("util"),Zr={},M1=function(){try{return require("worker_threads").threadId}catch{return 0}}(),W1=0;function tc(e){return e+"."+I1(__filename).hash(String(process.pid)).hash(String(M1)).hash(String(++W1)).result()}function rc(e){return()=>{try{Me.unlinkSync(typeof e=="function"?e():e)}catch{}}}function q1(e){return new Promise(t=>{Zr[e]||(Zr[e]=[]),Zr[e].push(t),Zr[e].length===1&&t()})}function Eo(e){return e.code==="ENOSYS"||(!process.getuid||process.getuid()!==0)&&(e.code==="EINVAL"||e.code==="EPERM")}async function H1(e,t,r={}){typeof r=="string"&&(r={encoding:r});let n,s,o=od(rc(()=>s)),a=j1.resolve(e);try{await q1(a);let u=await Zt(Me.realpath)(e).catch(()=>e);if(s=tc(u),!r.mode||!r.chown){let c=await Zt(Me.stat)(u).catch(()=>{});c&&(r.mode==null&&(r.mode=c.mode),r.chown==null&&process.getuid&&(r.chown={uid:c.uid,gid:c.gid}))}n=await Zt(Me.open)(s,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(s),ArrayBuffer.isView(t)?await Zt(Me.write)(n,t,0,t.length,0):t!=null&&await Zt(Me.write)(n,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&await Zt(Me.fsync)(n),await Zt(Me.close)(n),n=null,r.chown&&await Zt(Me.chown)(s,r.chown.uid,r.chown.gid).catch(c=>{if(!Eo(c))throw c}),r.mode&&await Zt(Me.chmod)(s,r.mode).catch(c=>{if(!Eo(c))throw c}),await Zt(Me.rename)(s,u)}finally{n&&await Zt(Me.close)(n).catch(()=>{}),o(),await Zt(Me.unlink)(s).catch(()=>{}),Zr[a].shift(),Zr[a].length>0?Zr[a][0]():delete Zr[a]}}async function G1(e,t,r,n){r instanceof Function&&(n=r,r={});let s=H1(e,t,r);if(n)try{let o=await s;return n(o)}catch(o){return n(o)}return s}function U1(e,t,r){typeof r=="string"?r={encoding:r}:r||(r={});try{e=Me.realpathSync(e)}catch{}let n=tc(e);if(!r.mode||!r.chown)try{let c=Me.statSync(e);r=Object.assign({},r),r.mode||(r.mode=c.mode),!r.chown&&process.getuid&&(r.chown={uid:c.uid,gid:c.gid})}catch{}let s,o=rc(n),a=od(o),u=!0;try{if(s=Me.openSync(n,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(n),ArrayBuffer.isView(t)?Me.writeSync(s,t,0,t.length,0):t!=null&&Me.writeSync(s,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&Me.fsyncSync(s),Me.closeSync(s),s=null,r.chown)try{Me.chownSync(n,r.chown.uid,r.chown.gid)}catch(c){if(!Eo(c))throw c}if(r.mode)try{Me.chmodSync(n,r.mode)}catch(c){if(!Eo(c))throw c}Me.renameSync(n,e),u=!1}finally{if(s)try{Me.closeSync(s)}catch{}a(),u&&o()}}});var Yd=oe((OL,Jd)=>{"use strict";l();var Vd=require("child_process"),Gd=Vd.spawn,ub=Vd.exec;Jd.exports=function(e,t,r){if(typeof t=="function"&&r===void 0&&(r=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},s={};switch(n[e]=[],s[e]=1,process.platform){case"win32":ub("taskkill /pid "+e+" /T /F",r);break;case"darwin":fc(e,n,s,function(o){return Gd("pgrep",["-P",o])},function(){Ud(n,t,r)});break;default:fc(e,n,s,function(o){return Gd("ps",["-o","pid","--no-headers","--ppid",o])},function(){Ud(n,t,r)});break}};function Ud(e,t,r){var n={};try{Object.keys(e).forEach(function(s){e[s].forEach(function(o){n[o]||(zd(o,t),n[o]=1)}),n[s]||(zd(s,t),n[s]=1)})}catch(s){if(r)return r(s);throw s}if(r)return r()}function zd(e,t){try{process.kill(parseInt(e,10),t)}catch(r){if(r.code!=="ESRCH")throw r}}function fc(e,t,r,n,s){var o=n(e),a="";o.stdout.on("data",function(f){var f=f.toString("ascii");a+=f});var u=function(c){if(delete r[e],c!=0){Object.keys(r).length==0&&s();return}a.match(/\d+/g).forEach(function(f){f=parseInt(f,10),t[e].push(f),t[f]=[],r[f]=1,fc(f,t,r,n,s)})};o.on("close",u)}});var yh=oe((nR,gh)=>{"use strict";l();gh.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var bh=oe((iR,Dh)=>{l();var Zs=1e3,Qs=Zs*60,ei=Qs*60,ti=ei*24,pb=ti*365.25;Dh.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return mb(e);if(r==="number"&&isNaN(e)===!1)return t.long?hb(e):db(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function mb(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*pb;case"days":case"day":case"d":return r*ti;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ei;case"minutes":case"minute":case"mins":case"min":case"m":return r*Qs;case"seconds":case"second":case"secs":case"sec":case"s":return r*Zs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function db(e){return e>=ti?Math.round(e/ti)+"d":e>=ei?Math.round(e/ei)+"h":e>=Qs?Math.round(e/Qs)+"m":e>=Zs?Math.round(e/Zs)+"s":e+"ms"}function hb(e){return qo(e,ti,"day")||qo(e,ei,"hour")||qo(e,Qs,"minute")||qo(e,Zs,"second")||e+" ms"}function qo(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}});var Fc=oe((ve,wh)=>{l();ve=wh.exports=Sc.debug=Sc.default=Sc;ve.coerce=wb;ve.disable=Db;ve.enable=yb;ve.enabled=bb;ve.humanize=bh();ve.names=[];ve.skips=[];ve.formatters={};var xc;function gb(e){var t=0,r;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return ve.colors[Math.abs(t)%ve.colors.length]}function Sc(e){function t(){if(t.enabled){var r=t,n=+new Date,s=n-(xc||n);r.diff=s,r.prev=xc,r.curr=n,xc=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=ve.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(f,p){if(f==="%%")return f;u++;var d=ve.formatters[p];if(typeof d=="function"){var g=o[u];f=d.call(r,g),o.splice(u,1),u--}return f}),ve.formatArgs.call(r,o);var c=t.log||ve.log||console.log.bind(console);c.apply(r,o)}}return t.namespace=e,t.enabled=ve.enabled(e),t.useColors=ve.useColors(),t.color=gb(e),typeof ve.init=="function"&&ve.init(t),t}function yb(e){ve.save(e),ve.names=[],ve.skips=[];for(var t=(typeof e=="string"?e:"").split(/[\s,]+/),r=t.length,n=0;n<r;n++)t[n]&&(e=t[n].replace(/\*/g,".*?"),e[0]==="-"?ve.skips.push(new RegExp("^"+e.substr(1)+"$")):ve.names.push(new RegExp("^"+e+"$")))}function Db(){ve.enable("")}function bb(e){var t,r;for(t=0,r=ve.skips.length;t<r;t++)if(ve.skips[t].test(e))return!1;for(t=0,r=ve.names.length;t<r;t++)if(ve.names[t].test(e))return!0;return!1}function wb(e){return e instanceof Error?e.stack||e.message:e}});var Fh=oe((Et,Sh)=>{l();Et=Sh.exports=Fc();Et.log=Fb;Et.formatArgs=Sb;Et.save=vb;Et.load=xh;Et.useColors=xb;Et.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Cb();Et.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function xb(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Et.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function Sb(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+Et.humanize(this.diff),!!t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(n++,o==="%c"&&(s=n))}),e.splice(s,0,r)}}function Fb(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function vb(e){try{e==null?Et.storage.removeItem("debug"):Et.storage.debug=e}catch{}}function xh(){var e;try{e=Et.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}Et.enable(xh());function Cb(){try{return window.localStorage}catch{}}});var $h=oe((ft,Eh)=>{l();var vh=require("tty"),ri=require("util");ft=Eh.exports=Fc();ft.init=Rb;ft.log=Tb;ft.formatArgs=Ab;ft.save=Lb;ft.load=Ch;ft.useColors=$b;ft.colors=[6,2,3,4,5,1];ft.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(s,o){return o.toUpperCase()}),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});var Zn=parseInt(process.env.DEBUG_FD,10)||2;Zn!==1&&Zn!==2&&ri.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var Eb=Zn===1?process.stdout:Zn===2?process.stderr:Bb(Zn);function $b(){return"colors"in ft.inspectOpts?!!ft.inspectOpts.colors:vh.isatty(Zn)}ft.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,ri.inspect(e,this.inspectOpts).split(`
`).map(function(t){return t.trim()}).join(" ")};ft.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,ri.inspect(e,this.inspectOpts)};function Ab(e){var t=this.namespace,r=this.useColors;if(r){var n=this.color,s="  \x1B[3"+n+";1m"+t+" \x1B[0m";e[0]=s+e[0].split(`
`).join(`
`+s),e.push("\x1B[3"+n+"m+"+ft.humanize(this.diff)+"\x1B[0m")}else e[0]=new Date().toUTCString()+" "+t+" "+e[0]}function Tb(){return Eb.write(ri.format.apply(ri,arguments)+`
`)}function Lb(e){e==null?delete process.env.DEBUG:process.env.DEBUG=e}function Ch(){return process.env.DEBUG}function Bb(e){var t,r=process.binding("tty_wrap");switch(r.guessHandleType(e)){case"TTY":t=new vh.WriteStream(e),t._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var n=require("fs");t=new n.SyncWriteStream(e,{autoClose:!1}),t._type="fs";break;case"PIPE":case"TCP":var s=require("net");t=new s.Socket({fd:e,readable:!1,writable:!0}),t.readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}function Rb(e){e.inspectOpts={};for(var t=Object.keys(ft.inspectOpts),r=0;r<t.length;r++)e.inspectOpts[t[r]]=ft.inspectOpts[t[r]]}ft.enable(Ch())});var Ah=oe((lR,vc)=>{l();typeof process<"u"&&process.type==="renderer"?vc.exports=Fh():vc.exports=$h()});var Ih=oe((hR,_h)=>{"use strict";l();var Oh=require("fs"),$c;function Ob(){try{return Oh.statSync("/.dockerenv"),!0}catch{return!1}}function _b(){try{return Oh.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}_h.exports=()=>($c===void 0&&($c=Ob()||_b()),$c)});var Wh=oe((yR,Ac)=>{"use strict";l();var Ib=require("os"),jb=require("fs"),jh=Ih(),Mh=()=>{if(process.platform!=="linux")return!1;if(Ib.release().toLowerCase().includes("microsoft"))return!jh();try{return jb.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!jh():!1}catch{return!1}};process.env.__IS_WSL_TEST__?Ac.exports=Mh:Ac.exports=Mh()});l();var dg=require("process");l();var lf=require("util");l();l();var Ye=require("process"),Kc=require("child_process"),Xc=require("url"),di=require("path"),Eg=Object.create,Mc=Object.defineProperty,$g=Object.getOwnPropertyDescriptor,Ag=Object.getOwnPropertyNames,Tg=Object.getPrototypeOf,Lg=Object.prototype.hasOwnProperty,Bg=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ag(t))!Lg.call(e,s)&&s!==r&&Mc(e,s,{get:()=>t[s],enumerable:!(n=$g(t,s))||n.enumerable});return e},Pg=(e,t,r)=>(r=e!=null?Eg(Tg(e)):{},Rg(t||!e||!e.__esModule?Mc(r,"default",{value:e,enumerable:!0}):r,e)),kg=Bg((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var{round:r,floor:n,max:s}=Math,o=N=>{let[,U]=/([a-f\d]{3,6})/i.exec(N)||[],ce=U?U.length:0;if(ce===3)U=U[0]+U[0]+U[1]+U[1]+U[2]+U[2];else if(ce!==6)return[0,0,0];let he=parseInt(U,16);return[he>>16&255,he>>8&255,255&he]},a=(N,U,ce)=>N===U&&U===ce?N<8?16:N>248?231:r((N-8)/247*24)+232:16+36*r(N/51)+6*r(U/51)+r(ce/51),u=N=>{let U,ce,he,Ie,z,Ve;return N<8?30+N:N<16?N-8+90:(N>=232?U=ce=he=(10*(N-232)+8)/255:(Ve=(N-=16)%36,U=n(N/36)/5,ce=n(Ve/6)/5,he=Ve%6/5),Ie=2*s(U,ce,he),Ie===0?30:(z=30+(r(he)<<2|r(ce)<<1|r(U)),Ie===2?z+60:z))},c=(N,U,ce)=>u(a(N,U,ce)),f=(N=>{let U=sn=>!!L.find(na=>sn.test(na)),ce=globalThis,he=ce.Deno,Ie=he!=null,z=ce.process||he||{},Ve=z.stdout,us=(Ie?he.build.os:z.platform)==="win32",L=z.argv||z.args||[],ue=z.env||{},E=-1;if(Ie)try{ue=ue.toObject()}catch{E=0}let J="FORCE_COLOR",Ce=ue[J],Je=parseInt(Ce),Re=Ce==="false"?0:isNaN(Je)?3:Je,er="NO_COLOR"in ue||Re===0||U(/^-{1,2}(no-color|color=(false|never))$/),Lr=J in ue&&Re||U(/^-{1,2}color=?(true|always)?$/),hg=(ue.NEXT_RUNTIME||"").indexOf("edge")>-1||"PM2_HOME"in ue&&"pm_id"in ue||(Ie?he.isatty(1):Ve&&"isTTY"in Ve);return er?0:(E<0&&(E=((sn,na,gg)=>{let{TERM:oi,COLORTERM:_c}=sn;return"TF_BUILD"in sn?1:"TEAMCITY_VERSION"in sn?2:"CI"in sn?["GITHUB_ACTIONS","GITEA_ACTIONS"].some(yg=>yg in sn)?3:1:!na||/-mono|dumb/i.test(oi)?0:gg||_c==="truecolor"||_c==="24bit"||oi==="xterm-kitty"?3:/-256(colou?r)?$/i.test(oi)?2:/^screen|^tmux|^xterm|^vt[1-5][0-9]([0-9])?|^ansi|color|cygwin|linux|mintty|rxvt/i.test(oi)?1:3})(ue,hg,us)),Lr&&E===0?3:E)})(),p=f>0,d={open:"",close:""},g=p?(N,U)=>({open:`\x1B[${N}m`,close:`\x1B[${U}m`}):()=>d,b=39,D=49,v=N=>(U,ce,he)=>N(a(U,ce,he)),W=N=>U=>{let[ce,he,Ie]=o(U);return N(ce,he,Ie)},j=N=>g(`38;5;${N}`,b),te=N=>g(`48;5;${N}`,D),q=(N,U,ce)=>g(`38;2;${N};${U};${ce}`,b),Z=(N,U,ce)=>g(`48;2;${N};${U};${ce}`,D);f===1?(j=N=>g(u(N),b),te=N=>g(u(N)+10,D),q=(N,U,ce)=>g(c(N,U,ce),b),Z=(N,U,ce)=>g(c(N,U,ce)+10,D)):f===2&&(q=v(j),Z=v(te));var Q,We,Pe={ansi256:j,bgAnsi256:te,fg:j,bg:te,rgb:q,bgRgb:Z,hex:W(q),bgHex:W(Z),visible:d,reset:g(0,0),inverse:g(7,27),hidden:g(8,28),bold:g(1,22),dim:g(2,22),italic:g(3,23),underline:g(4,24),strikethrough:g(9,29),strike:g(9,29),grey:g(90,b),gray:g(90,b),bgGrey:g(100,D),bgGray:g(100,D)},K=["black","red","green","yellow","blue","magenta","cyan","white"],de="Bright",ke=30;for(Q of K)We="bg"+Q[0].toUpperCase()+Q.slice(1),Pe[Q]=g(ke,b),Pe[Q+de]=g(ke+60,b),Pe[We]=g(ke+10,D),Pe[We+de]=g(ke+70,D),ke++;var{defineProperty:F,defineProperties:Be,setPrototypeOf:$e}=Object,fr=/[][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,x=/(\r?\n)/g,S={},at=({_p:N},{open:U,close:ce})=>{let he=(Ve,...us)=>{if(!Ve)return"";let L=he._p,{_a:ue,_b:E}=L,J=Ve.raw!=null?String.raw(Ve,...us):""+Ve;if(J.includes("\x1B"))for(;L!=null;){let Ce=L.close,Je=Ce.length;if(Je){let Re,er=0,Lr="";for(;~(Re=J.indexOf(Ce,er));)Lr+=J.slice(er,Re)+L.open,er=Re+Je;er&&(J=Lr+J.slice(er))}L=L._p}return J.includes(`
`)&&(J=J.replace(x,E+"$1"+ue)),ue+J+E},Ie=U,z=ce;return N!=null&&(Ie=N._a+U,z=ce+N._b),$e(he,$t),he._p={open:U,close:ce,_a:Ie,_b:z,_p:N},he.open=Ie,he.close=z,he},me=function(){let N=U=>""+U;return N.isSupported=()=>p,N.strip=U=>U.replace(fr,""),N.extend=U=>{for(let ce in U){let he=U[ce],Ie=typeof he,z=Ie==="string"?q(...o(he)):he;S[ce]=Ie==="function"?{get(){return(...Ve)=>at(this,he(...Ve))}}:{get(){let Ve=at(this,z);return F(this,ce,{value:Ve}),Ve}}}$t=Be({},S),$e(N,$t)},N.extend(Pe),N},$t,Gt=new me;t.exports=Gt,t.exports.Ansis=me}),cs=Pg(kg(),1),{ansi256:lw,fg:fw,bgAnsi256:pw,bg:mw,rgb:dw,bgRgb:hw,hex:gw,bgHex:yw,reset:Dw,inverse:bw,hidden:ww,visible:xw,bold:Sw,dim:Fw,italic:vw,underline:Cw,strikethrough:Ew,strike:$w,black:Aw,red:Tw,green:Lw,yellow:Bw,blue:Rw,magenta:Pw,cyan:kw,white:Nw,grey:Ow,gray:_w,blackBright:Iw,redBright:jw,greenBright:Mw,yellowBright:Ww,blueBright:qw,magentaBright:Hw,cyanBright:Gw,whiteBright:Uw,bgBlack:zw,bgRed:Vw,bgGreen:Jw,bgYellow:Yw,bgBlue:Kw,bgMagenta:Xw,bgCyan:Zw,bgWhite:Qw,bgGrey:e2,bgGray:t2,bgBlackBright:r2,bgRedBright:n2,bgGreenBright:s2,bgYellowBright:i2,bgBlueBright:o2,bgMagentaBright:a2,bgCyanBright:u2,bgWhiteBright:c2}=cs.default,Wc="\x1B[H\x1B[2J";cs.default.extend({brown:"#c19a6b",pink:"#ff75d1",teal:"#91EBC2",lightGray:"#2a2a2e",orange:"#FFAB40",lavender:"#8080FF",neonGreen:"#56ef83",neonCyan:"#69d5fd",neonRouge:"#FF8095",neonMagenta:"#7b68ee"});var{cyan:ge,red:ae,green:Ng,yellow:pr,magenta:ia,blue:k,white:$,gray:m,dim:l2,cyanBright:f2,redBright:xe,greenBright:p2,yellowBright:re,magentaBright:ui,blueBright:qc,whiteBright:O,strip:Hc,underline:mr,bold:h,reset:At,lightGray:V,pink:Ut,brown:m2,teal:on,orange:gt,lavender:d2,neonGreen:Ee,neonCyan:ye,neonRouge:ci,neonMagenta:$n}=cs.default,C={open:`${V.open}\u250C\u2500${V.close} `,stub:`${V.open}\u251C${V.close}  `,dash:`${V.open}\u251C\u2500${V.close} `,trim:`${V.open}\u2502${V.close}`,line:`${V.open}\u2502${V.close}  `,next:`
${V.open}\u2502${V.close}`,after:`${V.open}\u2502${V.close}`,wrap:`
${V.open}\u2502${V.close}
`,base:`${V.open}\u2514\u2500${V.close} `,red:`${ae.dim.open}\u2502${ae.dim.close}  `,redTrim:`${ae.dim.open}\u2502${ae.dim.close}`,yellow:`${pr.dim.open}\u2502${pr.dim.close}  `,yellowTrim:`${pr.dim.open}\u2502${pr.dim.close}`,indent:{edge:`${V.open}\u251C\u2500\u2500\u252C\u2500${V.close} `,fall:`${V.open}\u251C\u2500\u2500\u2510${V.close} `,line:`${V.open}\u2502  \u2502${V.close} `,stub:`${V.open}\u2502  \u251C${V.close} `,dash:`${V.open}\u2502  \u251C\u2500${V.close} `,base:`${V.open}\u2502  \u2514\u2500${V.close} `}},h2=`${m.open}|${m.close}`,Gc=`${m.open}#${m.close}`,g2=`${m.open}+${m.close}`,y2=`${m.open}-${m.close}`,D2=`${m.open},${m.close}`,Uc=`${Ee.open}\u2713${Ee.close}`,Ir=`${xe.open}\u{10102}${xe.close}`,P=`${m.open}:${m.close}`,I=`${m.open}\u2192${m.close}`,Br=`${m.open}\u25B8${m.close}`,ls=`${m.open}\u2942${m.close}`,ie=`${m.open}~${m.close}`,an=`${m.open}\u2014${m.close}`,li=`${m.open}(${m.close}`,fi=`${m.open})${m.close}`,zc=`${m.open}{${m.close}`,Vc=`${m.open}}${m.close}`,Jc=`${m.open}[${m.close}`,Yc=`${m.open}]${m.close}`,pi=`${m.open}<${m.close}`,mi=`${m.open}>${m.close}`;function fs(e,t={}){let r=Object.assign({showPercentage:!0,barColor:"neonGreen",percentColor:"whiteBright",barSize:40,clearOnComplete:!1},t),n=0,s=u=>C.line+u+" ".repeat(Math.max(0,r.barSize-u.length)),o=(u,c=!1)=>(c?"\u25B1":"\u25B0").repeat(u),a=()=>{r.clearOnComplete&&console.clear()};return{stop:a,increment:(u=1)=>{let c=n+u;n=Math.min(c,e),n===e&&a()},decrement:(u=1)=>{let c=n-u;n=Math.max(c,0)},render:u=>{let c=Math.round(n/e*r.barSize),f=o(c),p=o(r.barSize-c,!0),d=cs.default[r.barColor](f)+V(p);return r.showPercentage&&(d+=(u||O)(` ${String(Math.round(n/e*100))}%`)),s(d)},get percent(){return n}}}function ai(e,t,r){return(0,Kc.execFileSync)(e,t,{encoding:"utf8",shell:r,stdio:["ignore","pipe","ignore"]}).trim()}function jc(e,t){let r=(0,di.dirname)((0,Xc.fileURLToPath)(y));return ai((0,di.join)(r,e),[],t).split(/\r?\n/)}function _r(e,t){let r=Number.parseInt(e,10);return{wrap:r>85?85:r,cols:Number.parseInt(e,10),rows:Number.parseInt(t,10)}}function Zc(){if(Ye.stdout&&Ye.stdout.columns&&Ye.stdout.rows)return _r(Ye.stdout.columns,Ye.stdout.rows);if(Ye.stderr&&Ye.stderr.columns&&Ye.stderr.rows)return _r(Ye.stderr.columns,Ye.stderr.rows);if(Ye.env.COLUMNS&&Ye.env.LINES)return _r(Ye.env.COLUMNS,Ye.env.LINES);if(Ye.platform==="win32")try{let e=jc("vendor/windows/term-size.exe",!1);if(e.length===2)return _r(e[0],e[1])}catch{}else{if(Ye.platform==="darwin")try{let e=jc("vendor/macos/term-size",!0);if(e.length===2)return _r(e[0],e[1])}catch{}try{let e=ai("resize",["-u"]).match(/\d+/g);if(e.length===2)return _r(e[0],e[1])}catch{}if(Ye.env.TERM)try{let e=ai("tput",["cols"]),t=ai("tput",["lines"]);if(e&&t)return _r(e,t)}catch{}}return _r(80,24)}var b2=cs.Ansis;var xl=require("path"),xi=require("os");l();var Qc=["script","stylesheet","section","svg","assets","reload","replace","connect","disconnect","connected"],el=["syncify.config.ts","syncify.config.js","syncify.config.mjs","syncify.config.cjs","syncify.config.json"],hi=["build","checksum","metafields","pages","paths","schema","sections","settings","templates"],tl=["chrome"],rl=[["cache","node_modules"],["input","source"],["output","theme"],["export","export"],["import","import"],["config","."]],un=["assets","config","layout","customers","locales","sections","schema","snippets","templates","metaobject","metafields","pages","redirects"],nl=["styles","scripts","svgs","sections","layouts","metaobject","templates","snippets","locales","configs","schema","pages","metafields","assets"],cn=["templates","templates/customers","templates/metaobject","assets","config","layout","locales","sections","snippets"],sl=["js","cjs","mjs","ts"];var ps=/([|,])/g,gi=/\.(mjs|cjs|ts|js|tsx|jsx)$/;var oa={404:"The requested resource was not found.",400:"The request was not understood by the server, generally due to bad syntax or because the Content-Type header was not correctly set to application / json. This status is also returned when the request provides an invalid code parameter during the OAuth token exchange process.",303:"The response to the request can be found under a different URL in the Location header and can be retrieved using a GET method on that resource.",401:"The necessary authentication credentials are not present in the request or are incorrect",402:"The requested shop is currently frozen. The shop owner needs to log in to the shop's admin, and pay the outstanding balance to unfreeze the shop.",406:"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request.",423:"The requested shop is currently locked. Shops are locked if they repeatedly exceed their API request limit. or if there is an issue with the account, such as a detected compromise or fraud risk.",403:"The server is refusing to respond to the request. This is generally because you have not requested the appropriate scope for this action.",501:"The requested endpoint is not available on that particular shop, e.g. requesting access to a Shopify Plus\u2013only API on a non-Plus shop. This response may also indicate that this endpoint is reserved for future use.",503:"The server is currently unavailable. Check the Shopify status page for reported service outages. See https://www.shopifystatus.com"};l();var il=()=>({input:"source",output:"theme",import:"import",export:"export",config:".",paths:{assets:"assets/*",config:"config/*.json",layout:"layout/*.liquid",locales:"locales/*.json",metafields:"metafields/**/*.json",redirects:"redirects.yaml",schema:"schema/*.{schema,json}",templates:"templates/*",customers:"templates/customers/*",metaobject:"templates/metaobject/*",pages:"pages/*",snippets:"snippets/**/*.liquid",sections:"sections/**/*.{liquid,json}"},transform:{svg:null,style:null,script:null,json:{indent:2,useTab:!1,crlf:!1,comments:!0,exclude:[],terse:!1},liquid:{terse:!1}},publish:{bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80},spawn:{build:null,watch:null},hot:!1,log:{clear:!0,silent:!1,stats:!0,warnings:!0}});l();var ol=()=>({sharp:{installed:!1,required:!1,loaded:!1,file:!1,config:{}},tailwind:{installed:!1,loaded:!1,file:!1,map:null,config:null},sass:{installed:!1,loaded:!1,file:!1,config:{warnings:!0,style:"compressed",sourcemap:!0,quietDeps:!1,include:["node_modules"]}},esbuild:{tsconfig:void 0,bundle:!0,format:"esm",globalName:void 0,target:"es2016",metafile:!0,external:[],platform:"browser",splitting:!1,sourcemap:"linked",write:!1,logLevel:"silent",plugins:[]},postcss:{file:!1,config:[]},sprite:{mode:{inline:!0,symbol:{example:!1}},shape:{transform:["svgo"],id:{generator:"svg-%s"}},svg:{xmlDeclaration:!1,doctypeDeclaration:!1,dimensionAttributes:!1,namespaceClassnames:!1,namespaceIDs:!1}},svgo:{multipass:!0,js2svg:{indent:2,pretty:!0},plugins:["preset-default"]}});l();var al=()=>({onBuild:[],onChange:[],onReload:[],onTransform:[],onWatch:[]});l();var pl=require("crypto"),ml=require("module");l();var aa=Symbol("singleComment"),ul=Symbol("multiComment"),Og=()=>"",_g=(e,t,r)=>e.slice(t,r).replace(/\S/g," "),Ig=(e,t)=>{let r=t-1,n=0;for(;e[r]==="\\";)r-=1,n+=1;return!!(n%2)};function ms(e,{whitespace:t=!0,trailingCommas:r=!1}={}){if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);let n=t?_g:Og,s=!1,o=!1,a=0,u="",c="",f=-1;for(let p=0;p<e.length;p++){let d=e[p],g=e[p+1];if(!o&&d==='"'&&(Ig(e,p)||(s=!s)),!s)if(!o&&d+g==="//")u+=e.slice(a,p),a=p,o=aa,p++;else if(o===aa&&d+g===`\r
`){p++,o=!1,u+=n(e,a,p),a=p;continue}else if(o===aa&&d===`
`)o=!1,u+=n(e,a,p),a=p;else if(!o&&d+g==="/*"){u+=e.slice(a,p),a=p,o=ul,p++;continue}else if(o===ul&&d+g==="*/"){p++,o=!1,u+=n(e,a,p+1),a=p+1;continue}else r&&!o&&(f!==-1?d==="}"||d==="]"?(u+=e.slice(a,p),c+=n(u,0,1)+u.slice(1),u="",a=p,f=-1):d!==" "&&d!=="	"&&d!=="\r"&&d!==`
`&&(u+=e.slice(a,p),a=p,f=-1):d===","&&(c+=u+e.slice(a,p),u="",a=p,f=p))}return c+u+(o?n(e.slice(a)):e.slice(a))}l();var cl=require("console"),yi=require("process"),ll=require("events"),Lt=new ll.EventEmitter,{error:Se,log:T,warn:An,clear:B2}=new cl.Console(yi.stdout,yi.stderr),{create:ln,assign:ne,defineProperty:mt,defineProperties:fl,keys:zt,values:Tn,setPrototypeOf:R2}=Object,jr=Array.from,Ln=Buffer.from,{abs:fn}=Math,{toString:P2}=Object.prototype;function be(e,...t){let r=B(e);return function n(s,o,a){let u=typeof a;if(a&&u==="object")if(B(a))for(let c of a)o=n(s,o,c);else for(let c in a){let f=a[c];Ze(f)?o[c]=f(o[c],be):f===void 0?s?o.splice(c,1):delete o[c]:f===null||_(f)===!1||B(f)?o[c]=f:typeof o[c]=="object"?o[c]=f===o[c]?f:be(o[c],f):o[c]=n(!1,{},f)}else u==="function"&&(o=a(o,be));return o}(r,r?e.slice():ne({},e),t)}function w(e,t){return _(t)?e in t:!1}function He(e){let t=_(e);return r=>t?r in e:!1}function G(e){return e?ne(ln(null),e):ln(null)}function dl(e,{onlyFirst:t=!1}={}){let r=e.match(new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),t?void 0:"g"));return r!==null?r:!1}function Di(e){if(ms(e).trim()==="")return{};try{return new Function(`return ${ms(e).trim()}`)()}catch{return{}}}async function hl(e,{format:t}){return t==="esm"?r=>import(r):Mg(e)}function Mg(e){return Ze(require)?require(e):(0,ml.createRequire)(y)(e)}function gl(e){return e===".mjs"||e===".cjs"?"js":e.slice(1)}function Bn(){let e=new Date,t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();return(t<10?`0${t}`:t)+P+(r<10?`0${r}`:r)+P+(n<10?`0${n}`:n)}function yl(e,t=2){return e.reduce((r,n,s)=>{let o=Math.floor(s/t);return r[o]||(r[o]=[]),r[o].push(n),r},[])}function Dl(){return new Promise(e=>{Ze(setImmediate)?setImmediate(e):setTimeout(e)})}function Te(e){return xt(e)?e.toString():_(e)||B(e)?JSON.stringify(e):Ae(e)||Rt(e)?`${e}`:H(e)?e:String(e)}function dr(e){return(0,pl.createHash)("md5").update(e).digest("hex")}function bl(e){return e.toLowerCase().replace(/[^a-z0-9_:]+/g,"-").replace(/-$/,"").replace(/^-/,"")}function Bt(e,t){return t>=2||t===0?e[e.length-1]!=="s"?`${e}s`:e:e[e.length-1]!=="s"?e:e.slice(0,-1)}function Mr(e){return e.charAt(0).toUpperCase()+e.slice(1)}function bi(e){let t=e%10,r=e%100;return e+(t===1&&r!==11?"st":t===2&&r!==12?"nd":t===3&&r!==13?"rd":"th")}function fe(...e){return e.join(" ")}function pe(...e){return B(e[0])?e[0].join(""):e.join("")}function jt(e,t=null){let r=0;if(B(e))for(let n of e)t?n[t].length>r&&(r=n[t].length):n.length>r&&(r=n.length);else for(let n in e)n.length>r&&(r=n.length);return r=r+1,function(s){let o=H(s)?r-s.length:r-s;return o<1?" ":" ".repeat(o)}}function tr(){return Math.random().toString(36).slice(2)}function Ne(e){return e==null}function wl(e){return xt(e)?e.toString().trim().length===0:e.trim().length===0}function De(e){if(_(e)){for(let t in e)return!1;return!0}return B(e)?e.length===0:le(e)||Rt(e)||Wg(e)||ua(e)?!1:!e}function B(e){return Array.isArray(e)}function _(e){return Object.prototype.toString.call(e).slice(8,-1)==="Object"}function H(e){return typeof e=="string"}function wi(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"}function Ze(e){return typeof e=="function"}function Ae(e){return typeof e=="boolean"}function Rt(e){return typeof e=="number"}function ua(e){return Number.isNaN(e)}function Wg(e){return e===null}function le(e){return typeof e>"u"}function xt(e){return Buffer.isBuffer(e)}var qg=()=>{let e=G();for(let t of un)e[t]=G({input:new Set,match:null,config:null,rename:[]});return e.transforms=new Map,e},i=new class Vt{static defaults=il();static plugins=al();static processor=ol();static package=G();static cache=G();static watch=new Set;process;restart=!1;wss=null;stats=G();version="0.0.1-rc.1";cwd=process.cwd();cmd=null;argv=null;filters=G();errors=new Set;warnings=new Map;home=(0,xl.join)((0,xi.homedir)()||(0,xi.tmpdir)(),".syncify");dirs=G({chrome:null,static:null,cache:null,config:null,export:null,import:null,input:null,output:null,sourcemaps:{root:null,scripts:null,styles:null}});file=G({base:null,path:null,relative:null});publish=G({ngrok:null,bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80});vc=G({dir:null,number:null,zip:null,patch:0,major:0,minor:0,update:null});env=G({cli:!1,tree:!1,dev:!0,prod:!1,ready:!1,sync:0,file:null,vars:{}});hot=G({server:3e3,socket:8089,method:"hot",strategy:"hydrate",label:"visible",source:null,previewBar:!1,loadEventJS:"",chromeFlags:["--disable-gpu","--no-sandbox","--no-first-run","--no-default-browser-check","--disable-extensions","--disable-sync","--disable-password-manager","--disable-save-password-bubble","--disable-translate","--disable-features=TranslateUI","--disable-infobars","--disable-web-security","--test-type"]});log=G({idle:!1,group:"Syncify",title:"",uri:"",listen:null,thrown:null,queue:new Set,changes:G(),config:{clear:!0,silent:!1,stats:!0,warnings:!0}});mode=G({dev:!0,build:!1,interactive:!1,prod:!1,strap:!1,watch:!1,clean:!1,cache:!1,setup:!1,upload:!1,import:!1,metafields:!1,terse:!1,hot:!1,pages:!1,pull:!1,force:!1,script:!1,image:!1,style:!1,svg:!1,redirects:!1,export:!1,release:!1,publish:!1,themes:!1});files=new Map;stores=[];sync=G({themes:[],stores:[]});spawn=G({paths:new Set,streams:new Map,invoked:!1,commands:G()});section={schema:null,shared:new Map};paths=qg();page=G({safeSync:!0,author:"",global:null,language:"html",export:{quotes:"\u201C\u201D\u2018\u2019",html:!0,linkify:!1,typographer:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-"},import:{codeBlockStyle:"fenced",emDelimiter:"_",fence:"```",headingStyle:"atx",hr:"---",linkReferenceStyle:"full",linkStyle:"inlined",strongDelimiter:"**",bulletListMarker:"-"}});script=[];style=[];svg=[];liquid={terse:{enabled:!1,exclude:null,liquid:{minifySchema:!0},markup:{minifyCSS:!0,minifyJS:!0,collapseWhitespace:!0,removeComments:!0,caseSensitive:!1,collapseBooleanAttributes:!1,collapseInlineTagWhitespace:!1,conservativeCollapse:!1,keepClosingSlash:!1,noNewlinesBeforeTagClose:!1,preventAttributesEscaping:!1,removeEmptyAttributes:!1,removeEmptyElements:!1,removeOptionalTags:!1,removeRedundantAttributes:!1,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,useShortDoctype:!1,continueOnParseError:!0,trimCustomFragments:!1,ignoreCustomFragments:[/(?<=\bstyle\b=["']\s?)[\s\S]*?(?="[\s\n>]?)/,/<style[\s\S]*?<\/style>/,/<script[\s\S]*?<\/script>/,/{%[\s\S]*?%}/]}}};json={crlf:!1,cache:null,comments:!1,exclude:null,indent:2,useTab:!1,terse:{enabled:!1,exclude:null,options:{assets:!0,config:!0,locales:!0,metafields:!0,metaobject:!0,groups:!0,templates:!0}}};image;get watch(){return Vt.watch}set watch(t){Vt.watch=t}get cache(){return Vt.cache}set cache(t){Vt.cache=t}get processor(){return Vt.processor}set config(t){Vt.defaults=be(Vt.defaults,t)}get config(){return Vt.defaults}set pkg(t){Vt.package=t}get pkg(){return Vt.package}get plugins(){return Vt.plugins}get terminal(){return Zc()}};l();var st=require("fs-extra"),yr=require("path");l();l();l();l();function yt(e){if(e===null)return"Null";if(e===void 0)return"Undefined";if(Number.isNaN(e))return"NaN";let t=Object.prototype.toString.call(e).slice(8,-1);return t==="AsyncFunction"?"Promise":t}l();var{isArray:Rn}=Array;function Pn(e){return Rn(e)?e.length>0:yt(e)==="Object"?Object.keys(e).length>0:!!e}function Wr(...e){let t=0;for(;t<e.length;){let r=e[t];if(yt(r)==="Function"){if(Pn(r()))return!1}else if(Pn(r))return!1;t++}return!0}l();function Sl(...e){let t=0;for(;t<e.length;){let r=e[t];if(yt(r)==="Function"){if(Pn(r()))return!0}else if(Pn(r))return!0;t++}return!1}l();l();function Hg(e){return e<<0===e}var Fl=Number.isInteger||Hg;function Si(e,t="."){return typeof e=="string"?e.split(t).map(r=>Fl(r)?Number(r):r):e}l();function Gg(e,t){let r=t,n=0,s=Si(e);for(;n<s.length;){if(r==null||r[s[n]]===null)return;r=r[s[n]],n++}return r}function ca(e,t){if(arguments.length===1)return r=>ca(e,r);if(t!=null)return Gg(e,t)}l();function la(e,t){if(!Rn(t))throw new Error(`Cannot read property 'indexOf' of ${t}`);let r=yt(e);if(!["Array","NaN","Object","RegExp"].includes(r))return t.indexOf(e);let n=-1,s=-1,{length:o}=t;for(;++n<o&&s===-1;)Fi(t[n],e)&&(s=n);return s}function vl(e){let t=[],r;for(;!(r=e.next()).done;)t.push(r.value);return t}function Ug(e,t){if(e.size!==t.size)return!1;let r=vl(e.values()),n=vl(t.values());return r.filter(o=>la(o,n)===-1).length===0}function zg(e,t){return e.message!==t.message||e.toString!==t.toString?!1:e.toString()===t.toString()}function Cl(e){return e.toDateString?[!0,e.getTime()]:[!1]}function El(e){return e.constructor!==RegExp?[!1]:[!0,e.toString()]}function Fi(e,t){if(arguments.length===1)return u=>Fi(e,u);if(Object.is(e,t))return!0;let r=yt(e);if(r!==yt(t))return!1;if(r==="Function")return e.name===void 0?!1:e.name===t.name;if(["NaN","Null","Undefined"].includes(r))return!0;if(["BigInt","Number"].includes(r))return Object.is(-0,e)!==Object.is(-0,t)?!1:e.toString()===t.toString();if(["Boolean","String"].includes(r))return e.toString()===t.toString();if(r==="Array"){let u=Array.from(e),c=Array.from(t);if(u.toString()!==c.toString())return!1;let f=!0;return u.forEach((p,d)=>{f&&p!==c[d]&&!Fi(p,c[d])&&(f=!1)}),f}let n=El(e),s=El(t);if(n[0])return s[0]?n[1]===s[1]:!1;if(s[0])return!1;let o=Cl(e),a=Cl(t);if(o[0])return a[0]?o[1]===a[1]:!1;if(a[0])return!1;if(e instanceof Error)return t instanceof Error?zg(e,t):!1;if(r==="Set")return Ug(e,t);if(r==="Object"){let u=Object.keys(e);if(u.length!==Object.keys(t).length)return!1;let c=!0;return u.forEach(f=>{if(c){let p=e[f],d=t[f];p!==d&&!Fi(p,d)&&(c=!1)}}),c}return!1}l();var Vg="RAMBDAX_DELAY";function dt(e){return new Promise(t=>{setTimeout(()=>{t(Vg)},e)})}l();function fa(e,t){if(arguments.length===1)return r=>fa(e,r);if(typeof t=="string")return t.includes(e);if(!t)throw new TypeError(`Cannot read property 'indexOf' of ${t}`);return Rn(t)?la(e,t)>-1:!1}l();function kn(e,t){return arguments.length===1?r=>kn(e,r):yt(t)===e}l();async function $l(e,t){let r=t.map((n,s)=>e(n,s));return Promise.all(r)}function Al(e,t){return arguments.length===1?async r=>$l(e,r):new Promise((r,n)=>{$l(e,t).then(r).catch(n)})}l();l();l();function Tl(e,t){return String(e)===String(t)}function Ll(e,t){let r=-1,{length:n}=t;for(;++r<n;)if(Tl(t[r],e))return!0;return!1}function pa(e,t){if(arguments.length===1)return s=>pa(e,s);if(t==null)return;let r=Si(e,","),n={};for(let s in t)Ll(s,r)||(n[s]=t[s]);return n}l();function Ke(e,t){return arguments.length===1?r=>Ke(e,r):t?t.hasOwnProperty(e):!1}l();function Jt(e,t){return arguments.length===1?r=>Jt(e,r):ca(e,t)!==void 0}l();function pn(e){let t=yt(e);return["Undefined","NaN","Number","Null"].includes(t)?!1:e?t==="Object"?Object.keys(e).length===0:t==="Array"?e.length===0:!1:!0}l();function Bl(e){return e==null}l();function Rl(e){return typeof e=="string"?e[e.length-1]||"":e[e.length-1]}var Pr=require("path");l();var Xl=require("process");l();l();l();l();l();function ma({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Jg=ma();function mn(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Jg,"")}l();l();function Pl(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}function kl(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function Nl(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9800&&e<=9811||e===9855||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12771||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101632&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129672||e>=129680&&e<=129725||e>=129727&&e<=129733||e>=129742&&e<=129755||e>=129760&&e<=129768||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}function Yg(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}function vi(e,{ambiguousAsWide:t=!1}={}){return Yg(e),kl(e)||Nl(e)||t&&Pl(e)?2:1}l();var Ol=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var Kg=new Intl.Segmenter,Xg=/^\p{Default_Ignorable_Code_Point}$/u;function dn(e,t={}){if(typeof e!="string"||e.length===0)return 0;let{ambiguousIsNarrow:r=!0,countAnsiEscapeCodes:n=!1}=t;if(n||(e=mn(e)),e.length===0)return 0;let s=0,o={ambiguousAsWide:!r};for(let{segment:a}of Kg.segment(e)){let u=a.codePointAt(0);if(!(u<=31||u>=127&&u<=159)&&!(u>=8203&&u<=8207||u===65279)&&!(u>=768&&u<=879||u>=6832&&u<=6911||u>=7616&&u<=7679||u>=8400&&u<=8447||u>=65056&&u<=65071)&&!(u>=55296&&u<=57343)&&!(u>=65024&&u<=65039)&&!Xg.test(a)){if(Ol().test(a)){s+=2;continue}s+=vi(u,o)}}return s}l();var _l=(e=0)=>t=>`\x1B[${t+e}m`,Il=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,jl=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,je={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},yS=Object.keys(je.modifier),Zg=Object.keys(je.color),Qg=Object.keys(je.bgColor),DS=[...Zg,...Qg];function e0(){let e=new Map;for(let[t,r]of Object.entries(je)){for(let[n,s]of Object.entries(r))je[n]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[n]=je[n],e.set(s[0],s[1]);Object.defineProperty(je,t,{value:r,enumerable:!1})}return Object.defineProperty(je,"codes",{value:e,enumerable:!1}),je.color.close="\x1B[39m",je.bgColor.close="\x1B[49m",je.color.ansi=_l(),je.color.ansi256=Il(),je.color.ansi16m=jl(),je.bgColor.ansi=_l(10),je.bgColor.ansi256=Il(10),je.bgColor.ansi16m=jl(10),Object.defineProperties(je,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let s=Number.parseInt(n,16);return[s>>16&255,s>>8&255,s&255]},enumerable:!1},hexToAnsi256:{value:t=>je.rgbToAnsi256(...je.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,s;if(t>=232)r=((t-232)*10+8)/255,n=r,s=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,s=u%6/5}let o=Math.max(r,n,s)*2;if(o===0)return 30;let a=30+(Math.round(s)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>je.ansi256ToAnsi(je.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>je.ansi256ToAnsi(je.hexToAnsi256(t)),enumerable:!1}}),je}var t0=e0(),rr=t0;var Ei=new Set(["\x1B","\x9B"]),r0=39,ha="\x07",ql="[",n0="]",Hl="m",Ci=`${n0}8;;`,Ml=e=>`${Ei.values().next().value}${ql}${e}${Hl}`,Wl=e=>`${Ei.values().next().value}${Ci}${e}${ha}`,s0=e=>e.split(" ").map(t=>dn(t)),da=(e,t,r)=>{let n=[...t],s=!1,o=!1,a=dn(mn(e.at(-1)));for(let[u,c]of n.entries()){let f=dn(c);if(a+f<=r?e[e.length-1]+=c:(e.push(c),a=0),Ei.has(c)&&(s=!0,o=n.slice(u+1,u+1+Ci.length).join("")===Ci),s){o?c===ha&&(s=!1,o=!1):c===Hl&&(s=!1);continue}a+=f,a===r&&u<n.length-1&&(e.push(""),a=0)}!a&&e.at(-1).length>0&&e.length>1&&(e[e.length-2]+=e.pop())},i0=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(dn(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},o0=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",s,o,a=s0(e),u=[""];for(let[d,g]of e.split(" ").entries()){r.trim!==!1&&(u[u.length-1]=u.at(-1).trimStart());let b=dn(u.at(-1));if(d!==0&&(b>=t&&(r.wordWrap===!1||r.trim===!1)&&(u.push(""),b=0),(b>0||r.trim===!1)&&(u[u.length-1]+=" ",b++)),r.hard&&a[d]>t){let D=t-b,v=1+Math.floor((a[d]-D-1)/t);Math.floor((a[d]-1)/t)<v&&u.push(""),da(u,g,t);continue}if(b+a[d]>t&&b>0&&a[d]>0){if(r.wordWrap===!1&&b<t){da(u,g,t);continue}u.push("")}if(b+a[d]>t&&r.wordWrap===!1){da(u,g,t);continue}u[u.length-1]+=g}r.trim!==!1&&(u=u.map(d=>i0(d)));let c=u.join(`
`),f=[...c],p=0;for(let[d,g]of f.entries()){if(n+=g,Ei.has(g)){let{groups:D}=new RegExp(`(?:\\${ql}(?<code>\\d+)m|\\${Ci}(?<uri>.*)${ha})`).exec(c.slice(p))||{groups:{}};if(D.code!==void 0){let v=Number.parseFloat(D.code);s=v===r0?void 0:v}else D.uri!==void 0&&(o=D.uri.length===0?void 0:D.uri)}let b=rr.codes.get(Number(s));f[d+1]===`
`?(o&&(n+=Wl("")),s&&b&&(n+=Ml(b))):g===`
`&&(s&&b&&(n+=Ml(s)),o&&(n+=Wl(o))),p+=g.length}return n};function qr(e,t,r){return String(e).normalize().replaceAll(`\r
`,`
`).split(`
`).map(n=>o0(n,t,r)).join(`
`)}l();l();function ga(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}l();var Gl=Y(require("os"),1),a0=()=>Gl.default.homedir().replace(/\\/g,"/"),Ul=a0;var zl=/\s+at.*[(\s](.*)\)?/,Vl=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/;function ds(e,{pretty:t=!1,basePath:r,pathFilter:n}={}){let s=r&&new RegExp(`(file://)?${ga(r.replace(/\\/g,"/"))}/?`,"g"),o=t?Ul():"";if(typeof e=="string")return e.replace(/\\/g,"/").split(`
`).filter(a=>{let u=a.match(zl);if(u===null||!u[1])return!0;let c=u[1];return c.includes(".app/Contents/Resources/electron.asar")||c.includes(".app/Contents/Resources/default_app.asar")||c.includes("node_modules/electron/dist/resources/electron.asar")||c.includes("node_modules/electron/dist/resources/default_app.asar")?!1:n?!Vl.test(c)&&n(c):!Vl.test(c)}).filter(a=>a.trim()!=="").map(a=>(s&&(a=a.replace(s,"")),t&&(a=a.replace(zl,(u,c)=>u.replace(c,c.replace(o,"~")))),a)).join(`
`)}function R(e,...t){let r=e.length>9?"  ":" ".repeat(11-e.length),n=t.length>0?t.length===1?I+"  "+t[0]:t.length===2?I+"  "+t[0]+" "+I+" "+t[1]:I+"  "+t[0]+" "+I+" "+t[1]+" "+Oe(t[2]):"";return e+r+n}function Oe(e){return e?ie+" "+At.gray(e):""}function Da(e,t,{spaced:r=!1}={}){let n=r?" ":"";switch(e){case"AN":return pi+n+t+n+mi;case"CB":return zc+n+t+n+Vc;case"PR":return li+n+t+n+fi;case"SB":return Jc+n+t+n+Yc}}var hn=G({warning:pr(` ${ie} Type ${h("w")} and press ${h("enter")} to view`),error:ae(` ${ie} Type ${h("v")} and press ${h("enter")} to view`),stack:m(`Type ${h("s")} and press ${h("enter")} to view stack trace`)}),Jl=(e=i.terminal.wrap,t=!0)=>{let r="\u251C"+"\u2500".repeat(e-10);return t?`${V.open}
${r}
\u2502${V.close}`:`${V.open}${r}${V.close}`},gs=e=>C.open+At.gray(`${e} ~ ${Bn()}`);var hs=(...e)=>{let t=G({color:null,line:C.line}),r,n="";for(B(e[0])?(_(e[1])&&ne(t,e[1]),r=qr(e[0].join(" "),i.terminal.wrap).split(`
`)):(_(e[e.length-1])&&ne(t,e.pop()),r=qr(e.join(" "),i.terminal.wrap).split(`
`));r.length!==0;){let s=r.shift().trim();s.length>0?n+=t.line+(t.color?t.color(s):s)+`
`:n+=t.line+`
`}return n.trimEnd()},gr=e=>C.trim+`
`+C.line+e+`
`+C.trim;var we=e=>C.line+e,ys=e=>C.red+e,Hr=e=>C.yellow+e,Yl=e=>C.trim+`
`+C.line+e,Kl=e=>C.line+e+`
`+C.line,ba=e=>C.dash+e,Ds=e=>C.base+At.gray(`${e} ~ ${Bn()}`)+`
`;function wa(e){let t=jt(e.entries),r=X({type:e.type||"error"});if(H(e.stack)){let n=e.cleanStack?ds(e.stack,{pretty:!0,basePath:i.cwd}):e.stack;r.Wrap(n.split(`
`),m).NL.Newline()}for(let n in e.entries){if(le(e.entries[n]))continue;let s;if(Rt(e.entries[n])){if(ua(e.entries[n]))continue;s=ci(Te(e.entries[n]))}else s=Te(e.entries[n]);if(s.length===0)continue;let o=e.type==="warning"?re(n):xe(n);n==="source"||n==="output"||n==="input"||n==="file"?r.Line(o+P+" "+t(n)+mr(s),m):r.Line(o+P+" "+t(n)+s,m)}return e.stack===!0&&r.NL.Line(hn.stack),r.toString()}var ya=class{type="info";line;trim;text;constructor(t){if(_(t)){let r=He(t);this.type=r("type")?t.type:"info",this.text=r("text")?t.text:[],this.type==="error"?(this.line=C.red,this.trim=C.redTrim):this.type==="warning"?(this.line=C.yellow,this.trim=C.yellowTrim):this.type==="nil"?(this.line="",this.trim=""):(this.line=C.line,this.trim=C.trim)}else this.line=C.line,this.trim=C.trim,this.text=[]}toRaw(){return this.text}toLine(t){if(this.text.length===0)return"";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let r;return t?r=t(pe(this.text)):this.type==="info"?r=$(pe(this.text)):this.type==="error"?r=ae(pe(this.text)):this.type==="warning"?r=re(pe(this.text)):r=pe(this.text),this.text=[],r+`
`+this.trim}toString(t){if(this.text.length===0)return"";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let r;return t?r=t(pe(this.text)):this.type==="info"?r=$(pe(this.text)):this.type==="error"?r=ae(pe(this.text)):this.type==="warning"?r=re(pe(this.text)):r=pe(this.text),this.text=[],r}Get(t=this.text.length-1){return this.text[t]}Remove(t){return this.text.splice(t,1),this}Replace(t,r,n){return this.text[t]&&(this.text[t]=this.line+(n?n(r):r)+`
`),this}Ruler(t=i.terminal.wrap){return this.text.push(C.trim+`
`+V(`\u251C${"\u2500".repeat(t)}`)+`
`+C.trim+`
`),this}get NL(){return this.text.push(this.trim+`
`),this}get BR(){return this.text.push(`
`),this}Pop(){return this.text.pop(),this}Newline(t,r){if(Rt(t)){let n=this.trim+`
`;r&&(r==="yellow"?n=C.yellowTrim+`
`:r==="red"?n=C.redTrim+`
`:r===""&&(n=`
`));for(let s=0;s<t;s++)this.text.push(n)}else t===""?this.text.push(`
`):t==="line"?this.text.push(C.trim+`
`):t==="yellow"?this.text.push(C.yellowTrim+`
`):t==="red"?this.text.push(C.redTrim+`
`):this.text.push(this.trim+`
`);return this}Inline(t,r){let n=this.text.length;return n>0?this.text[n-1]=this.text[n-1].trimEnd()+" "+(r?r(t):t)+`
`:this.text.push(this.line+(r?r(t):t)+`
`),this}Trim(t,r){return this.text.push(this.line+(r?r(t):t)+`
`),this}Insert(t,r){return this.text.push((r?r(t):t)+`
`),this}Line(t,r){return this.type==="error"?this.Error(t,r):this.type==="warning"?this.Warn(t,r):(this.text.push(this.line+(r?r(t):t)+`
`),this)}Error(t,r){return this.text.push(C.red+(r?r(t):ae(t))+`
`),this}Warn(t,r){return this.text.push(C.yellow+(r?r(t):pr(t))+`
`),this}Break(t,r){return this.text.push(this.trim+`
`+this.line+(r?r(t):t)+`
`+this.trim+`
`),this}Top(t){return this.text.push(gs(t)+`
`),this}End(t){return this.text.push(Ds(t)),this}Context(t){return this.text.push(wa(t)+`
`),this}Dash(t,r){return this.text.push(C.dash+(r?r(t):t)+`
`),this}Multiline(t){let r=B(t)?t:t.split(`
`);for(;r.length!==0;)this.text.push(this.line+r.shift()+`
`);return this}Wrap(...t){let r=G({line:this.line});return this.type==="error"?r.color=ae:this.type==="warning"?r.color=pr:r.color=O,B(t[0])?(Ze(t[1])&&(r.color=t.pop()),this.text.push(hs(t[0],r)+`
`)):(Ze(t[t.length-1])&&(r.color=t.pop()),this.text.push(hs(t,r)+`
`)),this}};function X(e){return i.env.tree===!1&&(_(e)?e.type="nil":e=G({type:"nil"})),new ya(e)}var Gr={};function ut(e){return Ke(e,Gr)||(Gr[e]=[]),(t,r)=>{le(r)?Gr[e].push(re(t)):Gr[e].push(re(t+P+" "+h(r)))}}function ee({option:e,name:t,provided:r,expects:n}){Se(X({type:"error"}).Line("TYPE ERROR",h).NL.Line(`An invalid ${ge(e)} type value was provided within your ${h(i.file.base)} file.`).Line(`The ${ge(t)} option has an incorrect type. Syncify will not intialize until this is fixed.`).NL.Line(`provided${P} ${re(yt(r).toLowerCase())}`).Line(`expected${P} ${k(n.replace(/([|,])/g,m("$1")))}`).Line(`location${P} ${ie}${m.underline(i.file.base)}`).NL.Line("How to fix?",m.bold).Line(`You need to change the option value to use the ${k("expected")} type.`,m).Line(`Use the ${$("defineConfig")} named export for type checking`,m).End(i.log.group).BR.toString()),process.exit(0)}function Rr({message:e,expected:t,provided:r=void 0,fix:n}){r?t=O(`syncify ${t}`):(r=Xl.argv.slice(2).join(" "),t=O(`syncify ${r} ${ge(t.replace(/([|,-])/g,m("$1")))}`)),Se(X({type:"error"}).Line("COMMAND ERROR",h).NL.Wrap(e).NL.Line(`provided${P} ${O("$")} ${O("syncify "+r)}`).Line(`expected${P} ${O("$")} ${t}`).NL.Line("How to fix?",m.bold).Wrap(n,m).NL.End(i.log.group).BR.toString()),process.exit(0)}function Zl({type:e,message:t,provided:r,expected:n,fix:s}){ps.test(r)&&(r=r.replace(ps,m("$1"))),ps.test(n)&&(n=n.replace(ps,m("$1"))),Se(X({type:"error"}).Line("INVALID TARGET",h).NL.Wrap(`Invalid ${ge(e)} target provided. `,...t).NL.Line(`provided${P} ${re(n)}`).Line(`expected${P} ${k(r)}`).NL.Line("How to fix?",m.bold).Wrap(s,m).End(i.log.group).BR.toString()),process.exit(0)}function Sa(e){let t=X({type:"error"}).Line("DEPENDENCY ERROR",h).NL;if(H(e))t.Wrap(`Missing ${ge(e)} dependency. You need to install ${ge(e)} to use it as a processor.`).NL.Line("How to fix?",m.bold).Line("Install the above module as a development dependency, for example:").NL.Line(`$ pnpm add ${e} -D`,O);else{let r=[`Missing ${ge(`${e.length}`)} dependencies. You are attempting to use processor`,"(transforms) which are not yet installed. Install the below modules as development","dependencies or disable the transform:"];t.Wrap(r).Newline();for(let n of e)t.Line(`$ pnpm add ${n} -D`,O)}Se(t.NL.Wrap("If you are using a different package manager please consider adopting pnpm.",m).End(i.log.group).BR.toString()),process.exit(0)}function Ql({option:e,key:t,expects:r,reason:n}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(m(" \u2192 "))),Se(X({type:"error"}).Line("MISSING OPTION",h).NL.Wrap(`Missing ${Da("CB",ge(e))} config option. The ${ge(t)} option must be defined`).NL.Line(`expected${P} ${k(r.replace(/([|,])/g,m("$1")))}`).Line(`location${P} ${m.underline(i.file.base)}`).NL.Line("Why?",m.bold).Wrap(n,m).End(i.log.group).BR.toString()),process.exit(0)}function nt({option:e,name:t,value:r,expects:n,reason:s=[""]}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(m(" \u2192 "))),Se(X({type:"error"}).Line("INVALID ERROR",h).NL.Wrap(`Invalid ${ge(e)} configuration. The ${ge(t)} option is invalid. `,...s).NL.Line(`provided${P} ${re(r)}`).Line(`expected${P} ${k(n.replace(/([|,])/g,m("$1")))}`).NL.Line("How to fix?",m.bold).Line("You need to update the option and use one of the expected values.",m).Line(`Use the ${$("defineConfig")} named export for type checking`,m).End(i.log.group).BR.toString(ae)),process.exit(0)}function ef(e){Se(X({type:"error"}).Line("MISSING REFERENCE",h).NL.Line(`You have not provided any ${h("stores")} within your ${ge("package.json")} file.`).NL.Line("How to fix?",$.bold).Line(`You need to provide ${ge("stores")} via ${ge("syncify")} key`,m).Line("passing both your store name and a key > value list of theme targets.",m).NL.Line("{",m).Line('  "syncify": {'.replace(/"/g,$('"')),m).Line('    "stores": {'.replace(/"/g,$('"')),m).Line(`      "domain": "${xe("your-store")}"`.replace(/"/g,$('"')),m).Line('      "themes": {}'.replace(/"/g,$('"')),m).Line("    }",m).Line("  }",m).Line("}",m).NL.Line(`Replace the ${$("your-store")} with the name of your .myshopify domain.`,m).Line("Syncify will prompt you and provide a list of theme targets to select from.",m).NL.End(i.log.group).BR.toString()),process.exit(0)}function tf(e){Se(X({type:"nil"}).Line(`${`Missing ${ge("syncify.config.js")} configuration`}`,h).BR.Line("Unable to resolve a configuration file within the workspace").BR.Line(`at${P} ${m.underline("~"+e)}`).BR.Line("How to fix?",$.bold).Line("You need to add one the following files to your project",m).BR.Line(` - ${$("syncify.config.ts")}`,m).Line(` - ${$("syncify.config.js")}`,m).Line(` - ${$("syncify.config.mjs")}`,m).Line(` - ${$("syncify.config.cjs")}`,m).Line(` - ${$("syncify.config.json")}`,m).BR.Line(`You can also provide configuration in your ${$("package.json")}`,m).Line(`file using the ${ge('"syncify": { "config": {} }')} 'property.`,m).BR.toString(ae)),process.exit(0)}function $i(e){let t=[`Missing ${ge(".env")} credentials. Syncify could not resolve credentials within the workspace.`,`Check you have ${ge(".env")} file present in the root of your project`];Se(X({type:"error"}).Line("MISSING ENV",h).NL.Wrap(t).NL.End(i.log.group).BR.toString(ae)),process.exit(0)}function rf(e,t){let r=e instanceof Error?Ke("message",e)?e.message:e.toString():e;Ke("code",e)&&(t.entries.code=e.code),Ke("name",e)&&(t.entries.name=e.name),Se(X({type:"error"}).Line("ERROR",h).NL.Wrap(t.message,xe).NL.Wrap(r,xe.bold).NL.Line("How to fix?",m.bold).Wrap(t.solution,m).NL.Context({entries:t.entries}).NL.End(i.log.group).BR.toString()),process.exit(0)}function Qe(e,t){Se(X({type:"error"}).Line("ERROR",h).NL.Wrap(e).NL.Line("How to fix?",m.bold).Wrap(t,m).NL.End(i.log.group).BR.toString()),process.exit(0)}function Ai(e,t){e.indexOf(".")>-1&&(e=Da("CB",fe(e.split(".").filter(Boolean).join(m(" \u2192 ")),I,xe.bold(t)),{spaced:!0}));let r=i.file.base==="package.json"?`${k("syncify")} config in the ${k("package.json")} file.`:`${k(i.file.base)} file.`;Se(X({type:"error"}).Line("ERROR",h).NL.Line(`Unknown ${ge(e)} option provided.`).NL.Line("How to fix?",m.bold).Line(`The ${ge(t)} option is invalid or unsupported.`).Line(`You need to remove it from the ${r}`).End(i.log.group).BR.toString()),process.exit(0)}function Ur(e){return B(e)?e.filter(t=>/\*/.test(t)):/\*/.test(e)?e:null}function gn(e){if(B(e))return e.map(gn);if(e.indexOf("/")===-1)return e;let t=e.endsWith("/")?(0,Pr.dirname)(e.slice(0,-1)):(0,Pr.dirname)(e),r=t.lastIndexOf("/")+1;return t.slice(r)}function Fa(e){if(B(e))return e.map(Fa);let t=e.lastIndexOf("/");if(t===-1)return e;let r=e.indexOf("*");return r===-1?e.slice(0,t):e.slice(0,r)}function Nn(e,t=null){let r=new RegExp(`^\\.?\\/?${e}\\/`);return function n(s){if(Array.isArray(s))return s.map(n);let o=s.charCodeAt(0)===33;if(o&&(s=s.slice(1)),r.test(s))return o?"!"+s:s;if(s.charCodeAt(0)===46&&s.charCodeAt(1)===46&&s.charCodeAt(2)===47&&Qe(`Invalid path defined at: ${P} ${re(`"${s}"`)}`,["Paths must be relative to source"]),t!==null){let a=(0,Pr.join)(t,s);return(o?"!":"")+(a.startsWith(e)?a:(0,Pr.join)(e,s))}else return(o?"!":"")+(0,Pr.join)(e,s)}}var nf=e=>t=>{if(t.indexOf("*")!==-1&&Qe(`Base directory path cannot contain glob${P} ${re(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"]),t.charCodeAt(0)===46){if(t.length===1)return e+"/";t.charCodeAt(1)===47?t=t.slice(1):Qe(`Directory path is invalid at${P} ${re(`"${t}"`)}`,["Ensure the path you are resolving is correctly formed"])}if(t.charCodeAt(0)===47){if(t.length===1)return e+"/";t=t.slice(1)}if(/^[a-zA-Z0-9_-]+/.test(t))return t=(0,Pr.join)(e,t),Rl(t).charCodeAt(0)===47?t:t+"/";Qe(`Directory path is invalid at${P} ${re(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"])};async function sf(){await On(i.home);for(let e of tl)i.dirs[e]=(0,yr.join)(i.home,`.${e}`),await On(i.dirs[e])}async function of(){return await On(i.dirs.cache),await On(i.dirs.sourcemaps.root),Promise.all([On(i.dirs.sourcemaps.scripts),On(i.dirs.sourcemaps.styles)])}async function va(e){if(e||(e=i.dirs.output),await(0,st.pathExists)(e)){if(i.mode.clean)try{await(0,st.emptyDir)(e)}catch(t){throw new Error(t)}}else try{await(0,st.mkdir)(e)}catch(t){throw new Error(t)}for(let t of cn){let r=(0,yr.join)(e,t),n=t.startsWith("templates/")?t.slice(10):t;if(await(0,st.pathExists)(r))i.stats[n]=(0,st.readdirSync)(r).length;else try{await(0,st.mkdir)(r),i.stats[n]=0}catch(s){throw new Error(s)}}}async function af(e){let t=nf(i.cwd);for(let[r,n]of rl){if(r==="cache"){i.dirs[r]=(0,yr.join)(i.cwd,n,".syncify"),i.dirs.static=(0,yr.join)(i.dirs[r],"static"),i.dirs.sourcemaps=ln(null),i.dirs.sourcemaps.root=(0,yr.join)(i.dirs[r],"sourcemaps"),i.dirs.sourcemaps.scripts=(0,yr.join)(i.dirs.sourcemaps.root,"scripts"),i.dirs.sourcemaps.styles=(0,yr.join)(i.dirs.sourcemaps.root,"styles");continue}if(r==="import"){i.dirs[r]=t(i.mode.import&&w("output",e)?e.output:i.config.import);continue}else if(r==="export"){i.dirs[r]=t(i.mode.export&&w("output",e)?e.output:i.config.export);continue}else if(w(r,e)&&e[r]===n&&i.config[r]===n){i.dirs[r]=t(e[r]);continue}let s=H(e[r])?e[r]:i.config[r];H(s)?i.dirs[r]=t(s):ee({option:"config",name:r,provided:s,expects:"string"})}i.watch.add(i.file.path)}async function uf(){let{dirs:e,sync:t,mode:r}=i;if(r.import){if(!await(0,st.pathExists)(e.import))try{await(0,st.mkdir)(e.import)}catch(n){throw new Error(n)}for(let n in t.themes){let{store:s,target:o}=t.themes[n],a=(0,yr.join)(e.import,s);if(await(0,st.pathExists)(a)){if(r.clean)try{await(0,st.emptyDir)(a)}catch(u){throw new Error(u)}}else try{await(0,st.mkdir)(a)}catch(u){throw new Error(u)}await va((0,yr.join)(a,o))}}}async function On(e){if(B(e)){for(let t of e)if(!await(0,st.pathExists)(t))try{await(0,st.mkdir)(t)}catch(r){throw new Error(r)}}else if(!await(0,st.pathExists)(e))try{await(0,st.mkdir)(e)}catch(t){throw new Error(t)}}l();function cf(e){let t=He(i.config.log);t("silent")&&(i.log.config.silent=i.config.log.silent),t("clear")&&(i.log.config.clear=i.config.log.clear),t("stats")&&(i.log.config.stats=i.config.log.stats),t("warnings")&&(i.log.config.warnings=i.config.log.warnings);let r=e.pages||e.metafields||e.redirects,n=e.style||e.script||e.image||e.svg,s=r||e.upload||e.import?!1:e.watch;i.mode=ne(i.mode,{watch:s,dev:!e.prod,prod:e.prod,setup:e.mode==="setup",strap:e.mode==="strap",themes:e.mode==="themes",hot:e.watch&&e.hot,interactive:e.interactive,redirects:e.redirects,metafields:e.metafields,pages:e.pages,pull:e.pull,cache:e.build&&e.cache,force:e.force,script:n?e.script:!1,style:n?e.style:!1,image:n?e.image:!1,svg:n?e.svg:!1,terse:e.terse||e.prod,clean:r||n||e.upload?!1:e.export&&e.build||e.clean,build:e.watch||e.import?!1:e.build,upload:n||s?!1:e.upload,export:e.export,import:r||n||e.upload||e.watch||e.build?!1:e.import,publish:e.publish,release:H(e.release)}),c0(i.mode,e),i.mode.release&&(i.mode.clean=!0,i.mode.build=!0,i.mode.export=!0,i.mode.publish=!0),i.mode.build&&!i.mode.script&&!i.mode.style&&!i.mode.svg&&!i.mode.pages&&!i.mode.metafields&&!i.mode.image&&(i.mode.script=!0,i.mode.style=!0,i.mode.svg=!0,i.mode.image=!0)}function c0(e,t){if(t.cache&&t.build===!1&&Rr({expected:"-b, --build",message:["Cache resets can only be executed along side build operations"],fix:[`Attempting to purge cache outside ${h("build")} mode Syncify requires you to pass`,"the build mode flags when executing a cache reset, for example:",`

`,`${O("$")} ${$(`syncify ${i.argv} ${k("-b --cache")}`)}`,`

`,`Run ${m("syncify --help")} for more information, or pass an execution`,`operation mode as per the ${O("expected")} value.`,`

`]}),Tn(e).every(r=>r===!1)&&Rr({expected:"--<cmd>",message:["Execution is unclear, you have not provided Syncify with a valid operation","mode to execute"],fix:["Syncify requires that you provide an operation. In most cases, this","error occurs when you have forgotten to pass the mode, for example:",`

`,`${O("$")} ${O(`syncify ${pi}${ge("mode")}${mi}`)}`,`

`,`Run ${k("syncify --help")} for more information`]}),e.export){let r=zt(e);r.push("filter","delete","spawn","resource");for(let n of r)if(!(n==="build"||n==="clean"||n==="cache"||n==="export")&&e[n]){let s=r.filter(c=>c!=="build"&&c!=="clean"&&c!=="export");s.push("f\\b","u\\b","w\\b","s\\b","d\\b","r\\b");let o=s.map(c=>c==="filter"||c==="f"||c==="resource"||c==="-r"?`--?${c}.*?(?=(--?${s.join("|--?")}))`:`--?${c}`).join("|"),a=new RegExp(`(--?${s.join("|--?")})`,"g"),u=new RegExp(`(${o})`,"g");return Rr({message:[`Bad command ${li}argv${fi} sequence passed with ${k("export")} mode.`,"Theme exports are performed in isolation. You command includes","execution modes that cannot be run when exporting theme/s"],provided:i.argv.replace(a,ae("$1")).replace(/(--export)/,k("$1")),expected:i.argv.replace(u,"").replace(/(--export)/,k("$1")),fix:[`Removed the flags marked ${ae("red")} as shown in provided aboved.`]})}}}function ff(e,t){let{values:r,tokens:n}=(0,lf.parseArgs)({args:e,options:t,allowPositionals:!0,tokens:!0});if(i.argv=e.slice(2).join(" ").trimStart(),i.cmd=ne(r),n[2].kind==="positional")for(let s of n.slice(2)){if(s.kind!=="positional")break;/\b(themes|strap|setup)\b/.test(s.value)?i.cmd.mode=s.value:i.cmd.stores=s.value.split(",").filter(Boolean)}return w("stores",i.cmd)||(i.cmd.stores=[]),i.env.cli=!0,i.env.prod=i.cmd.prod,i.env.dev=i.cmd.dev&&!i.cmd.prod,i.terminal.wrap=Math.round(i.terminal.cols-i.terminal.cols/3),cf(i.cmd),af(i.cmd),i.cmd}l();var mg=Y(require("process"));l();var Op=Y(require("fast-glob")),_p=require("path"),Ip=require("fs-extra");l();l();async function Dr(e,t,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:s}={}){return new Promise((o,a)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof t!="function")throw new TypeError("Mapper function is required");if(!(Number.isSafeInteger(r)&&r>=1||r===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let u=[],c=[],f=new Map,p=!1,d=!1,g=!1,b=0,D=0,v=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),W=te=>{p=!0,d=!0,a(te)};s&&(s.aborted&&W(s.reason),s.addEventListener("abort",()=>{W(s.reason)}));let j=async()=>{if(d)return;let te=await v.next(),q=D;if(D++,te.done){if(g=!0,b===0&&!d){if(!n&&c.length>0){W(new AggregateError(c));return}if(d=!0,f.size===0){o(u);return}let Z=[];for(let[Q,We]of u.entries())f.get(Q)!==Ti&&Z.push(We);o(Z)}return}b++,(async()=>{try{let Z=await te.value;if(d)return;let Q=await t(Z,q);Q===Ti&&f.set(q,Q),u[q]=Q,b--,await j()}catch(Z){if(n)W(Z);else{c.push(Z),b--;try{await j()}catch(Q){W(Q)}}}})()};(async()=>{for(let te=0;te<r;te++){try{await j()}catch(q){W(q);break}if(g||p)break}})()})}var Ti=Symbol("skip");l();l();l();var Ea=Y(mf(),1);l();var ws=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},$a=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t}},df=e=>globalThis.DOMException===void 0?new $a(e):new DOMException(e),hf=e=>{let t=e.reason===void 0?df("This operation was aborted."):e.reason;return t instanceof Error?t:df(t)};function Aa(e,t){let{milliseconds:r,fallback:n,message:s,customTimers:o={setTimeout,clearTimeout}}=t,a,c=new Promise((f,p)=>{if(typeof r!="number"||Math.sign(r)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${r}\``);if(t.signal){let{signal:g}=t;g.aborted&&p(hf(g)),g.addEventListener("abort",()=>{p(hf(g))})}if(r===Number.POSITIVE_INFINITY){e.then(f,p);return}let d=new ws;a=o.setTimeout.call(void 0,()=>{if(n){try{f(n())}catch(g){p(g)}return}typeof e.cancel=="function"&&e.cancel(),s===!1?f():s instanceof Error?p(s):(d.message=s??`Promise timed out after ${r} milliseconds`,p(d))},r),(async()=>{try{f(await e)}catch(g){p(g)}})()}).finally(()=>{c.clear()});return c.clear=()=>{o.clearTimeout.call(void 0,a),a=void 0},c}l();l();function Ta(e,t,r){let n=0,s=e.length;for(;s>0;){let o=Math.trunc(s/2),a=n+o;r(e[a],t)<=0?(n=++a,s-=o+1):s=o}return n}var xs=class{#n=[];enqueue(t,r){r={priority:0,...r};let n={priority:r.priority,run:t};if(this.size&&this.#n[this.size-1].priority>=r.priority){this.#n.push(n);return}let s=Ta(this.#n,n,(o,a)=>a.priority-o.priority);this.#n.splice(s,0,n)}dequeue(){return this.#n.shift()?.run}filter(t){return this.#n.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this.#n.length}};var yn=class extends Ea.default{#n;#t;#e=0;#a;#o;#i=0;#r;#c;#s;#h;#u=0;#f;#l;#g;timeout;constructor(t){if(super(),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:xs,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);this.#n=t.carryoverConcurrencyCount,this.#t=t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,this.#a=t.intervalCap,this.#o=t.interval,this.#s=new t.queueClass,this.#h=t.queueClass,this.concurrency=t.concurrency,this.timeout=t.timeout,this.#g=t.throwOnTimeout===!0,this.#l=t.autoStart===!1}get#b(){return this.#t||this.#e<this.#a}get#w(){return this.#u<this.#f}#x(){this.#u--,this.#p(),this.emit("next")}#S(){this.#D(),this.#y(),this.#c=void 0}get#F(){let t=Date.now();if(this.#r===void 0){let r=this.#i-t;if(r<0)this.#e=this.#n?this.#u:0;else return this.#c===void 0&&(this.#c=setTimeout(()=>{this.#S()},r)),!0}return!1}#p(){if(this.#s.size===0)return this.#r&&clearInterval(this.#r),this.#r=void 0,this.emit("empty"),this.#u===0&&this.emit("idle"),!1;if(!this.#l){let t=!this.#F;if(this.#b&&this.#w){let r=this.#s.dequeue();return r?(this.emit("active"),r(),t&&this.#y(),!0):!1}}return!1}#y(){this.#t||this.#r!==void 0||(this.#r=setInterval(()=>{this.#D()},this.#o),this.#i=Date.now()+this.#o)}#D(){this.#e===0&&this.#u===0&&this.#r&&(clearInterval(this.#r),this.#r=void 0),this.#e=this.#n?this.#u:0,this.#m()}#m(){for(;this.#p(););}get concurrency(){return this.#f}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#f=t,this.#m()}async#v(t){return new Promise((r,n)=>{t.addEventListener("abort",()=>{n(t.reason)},{once:!0})})}async add(t,r={}){return r={timeout:this.timeout,throwOnTimeout:this.#g,...r},new Promise((n,s)=>{this.#s.enqueue(async()=>{this.#u++,this.#e++;try{r.signal?.throwIfAborted();let o=t({signal:r.signal});r.timeout&&(o=Aa(Promise.resolve(o),{milliseconds:r.timeout})),r.signal&&(o=Promise.race([o,this.#v(r.signal)]));let a=await o;n(a),this.emit("completed",a)}catch(o){if(o instanceof ws&&!r.throwOnTimeout){n();return}s(o),this.emit("error",o)}finally{this.#x()}},r),this.emit("add"),this.#p()})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this.#l?(this.#l=!1,this.#m(),this):this}pause(){this.#l=!0}clear(){this.#s=new this.#h}async onEmpty(){this.#s.size!==0&&await this.#d("empty")}async onSizeLessThan(t){this.#s.size<t||await this.#d("next",()=>this.#s.size<t)}async onIdle(){this.#u===0&&this.#s.size===0||await this.#d("idle")}async#d(t,r){return new Promise(n=>{let s=()=>{r&&!r()||(this.off(t,s),n())};this.on(t,s)})}get size(){return this.#s.size}sizeBy(t){return this.#s.filter(t).length}get pending(){return this.#u}get isPaused(){return this.#l}};var gf=Y(require("axios")),_n=gf.default.create({responseType:"json",headers:{}}),se=new yn({interval:500,intervalCap:2});function Dn(e){return e===429||e===500?!0:(se.isPaused||se.pause(),!1)}l();var Bi=require("perf_hooks");var A=new class{marks=[];time={};cache={};now(t){return this.stop(t||!0)}sec(t){let r=this.stop(t||!0);return r.slice(0,r.lastIndexOf(" "))}pause(t){t in this.marks&&(this.cache[t]=this.stop(t||!0))}start(t){t?this.time[t]=Bi.performance.now():this.marks.push(Bi.performance.now())}clear(t){if(t){if(t in this.time){delete this.time[t];return}if(t in this.cache){delete this.cache[t];return}}for(;this.marks.length!==0;)this.marks.pop()}stop(t=!1,r=!1){let n;if(typeof t=="boolean")n=t?this.marks[this.marks.length-1]:this.marks.pop();else if(t){if(t in this.cache){let u=this.cache[t];return delete this.cache[t],u}r?(n=this.time[t],delete this.time[t]):n=this.time[t]}let s=Bi.performance.now()-n;if(s<1e3)return`${fn(+s.toFixed(0))}ms`;let o=s/1e3;if(o<60)return`${fn(+o.toFixed(0))}s ${fn(+s.toFixed(0).slice(1,4))}ms`;let a=fn(+(o/60).toFixed(0));return`${a}m ${fn(+(o-60*Number(a)).toFixed(0))}s ${fn(+s.toFixed(0).slice(1,4))}ms`}};l();l();var In=class{constructor({base:t,dir:r,ext:n,name:s,root:o}){this.base=t,this.dir=r,this.ext=n,this.name=s,this.root=o}data=void 0;hash;uuid;type;resource;root;dir;name;ext;base;relative;key;namespace;kind;input;output;size};l();var ji=require("readline"),py=require("util"),As=require("process"),Mi=Y(require("node-notifier"));l();var p0=require("stream"),m0=require("console");l();function Ri(e,{type:t="info"}={}){let r=X({type:t}),n=B(e)?e:e.split(`
`),s=t==="error"?"red":t==="warn"?"yellow":"line";for(;n.length!==0;){let o=n.shift();o.trim().length>0?r.Line(o.trimEnd()):r.Newline(s)}return r.Newline(s).toString()}function jn(e){let t=jt(e.entries),r=w("message",e);w("warning",e)||(e.warning=!1),r||(e.warning===!1?e.message=X({type:"error"}).NL:e.message=X({type:"warn"}).NL);for(let n in e.entries){let s=Te(e.entries[n]);n==="source"||n==="output"||n==="input"||n==="file"?e.message.Line($(n)+P+t(n)+ie+mr(s),m):e.message.Line($(n)+P+t(n)+s,m)}return H(e.stack)&&(e.warning===!1&&i.errors.add(e.stack),e.message.Break(hn.stack)),e.message.toLine()}function yf(e,{line:t=C.line,span:r=null}={}){if(t==="red"?t=C.red:t==="yellow"&&(t=C.yellow),r!==null){let n=w("end",r)?r.end:r.start+1;return t+`
`+[t+k(`${r.start-1}`)+P,t+k(`${r.start}`)+P+e,t+k(`${n}`)+P].join(`
`)}return t+`
`+t+e}function Df(e,{type:t="info",color:r=$}={}){let n=t==="error"?"red":t==="warn"?"yellow":"line";return X({type:t}).Newline(n).Wrap(e,r).toLine()}l();l();var Ua=Y(require("process"),1);l();var Cs={};Ic(Cs,{beep:()=>j0,clearScreen:()=>N0,clearTerminal:()=>O0,cursorBackward:()=>w0,cursorDown:()=>D0,cursorForward:()=>b0,cursorGetPosition:()=>F0,cursorHide:()=>E0,cursorLeft:()=>xf,cursorMove:()=>y0,cursorNextLine:()=>v0,cursorPrevLine:()=>C0,cursorRestorePosition:()=>S0,cursorSavePosition:()=>x0,cursorShow:()=>$0,cursorTo:()=>g0,cursorUp:()=>wf,enterAlternativeScreen:()=>_0,eraseDown:()=>B0,eraseEndLine:()=>T0,eraseLine:()=>Sf,eraseLines:()=>A0,eraseScreen:()=>La,eraseStartLine:()=>L0,eraseUp:()=>R0,exitAlternativeScreen:()=>I0,iTerm:()=>q0,image:()=>W0,link:()=>M0,scrollDown:()=>k0,scrollUp:()=>P0});l();var ki=Y(require("process"),1);l();var Pi=globalThis.window?.document!==void 0,ov=globalThis.process?.versions?.node!==void 0,av=globalThis.process?.versions?.bun!==void 0,uv=globalThis.Deno?.version?.deno!==void 0,cv=globalThis.process?.versions?.electron!==void 0,lv=globalThis.navigator?.userAgent?.includes("jsdom")===!0,fv=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,pv=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,mv=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,dv=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Ss=globalThis.navigator?.userAgentData?.platform,hv=Ss==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",gv=Ss==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",yv=Ss==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",Dv=Ss==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),bv=Ss==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var Fe="\x1B[",vs="\x1B]",Mn="\x07",Fs=";",bf=!Pi&&ki.default.env.TERM_PROGRAM==="Apple_Terminal",d0=!Pi&&ki.default.platform==="win32",h0=Pi?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:ki.default.cwd,g0=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?Fe+(e+1)+"G":Fe+(t+1)+Fs+(e+1)+"H"},y0=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=Fe+-e+"D":e>0&&(r+=Fe+e+"C"),t<0?r+=Fe+-t+"A":t>0&&(r+=Fe+t+"B"),r},wf=(e=1)=>Fe+e+"A",D0=(e=1)=>Fe+e+"B",b0=(e=1)=>Fe+e+"C",w0=(e=1)=>Fe+e+"D",xf=Fe+"G",x0=bf?"\x1B7":Fe+"s",S0=bf?"\x1B8":Fe+"u",F0=Fe+"6n",v0=Fe+"E",C0=Fe+"F",E0=Fe+"?25l",$0=Fe+"?25h",A0=e=>{let t="";for(let r=0;r<e;r++)t+=Sf+(r<e-1?wf():"");return e&&(t+=xf),t},T0=Fe+"K",L0=Fe+"1K",Sf=Fe+"2K",B0=Fe+"J",R0=Fe+"1J",La=Fe+"2J",P0=Fe+"S",k0=Fe+"T",N0="\x1Bc",O0=d0?`${La}${Fe}0f`:`${La}${Fe}3J${Fe}H`,_0=Fe+"?1049h",I0=Fe+"?1049l",j0=Mn,M0=(e,t)=>[vs,"8",Fs,Fs,t,Mn,e,vs,"8",Fs,Fs,Mn].join(""),W0=(e,t={})=>{let r=`${vs}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+Mn},q0={setCwd:(e=h0())=>`${vs}50;CurrentDir=${e}${Mn}`,annotation(e,t={}){let r=`${vs}1337;`,n=t.x!==void 0,s=t.y!==void 0;if((n||s)&&!(n&&s&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Mn}};l();var Ia=Y(require("process"),1);l();var Es=Y(require("process"),1);l();l();var H0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(t,r);!G0(s,o)&&n||Object.defineProperty(e,r,o)},G0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},U0=(e,t)=>{let r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},z0=(e,t)=>`/* Wrapped ${e}*/
${t}`,V0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),J0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Y0=(e,t,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=z0.bind(null,n,t.toString());Object.defineProperty(s,"name",J0);let{writable:o,enumerable:a,configurable:u}=V0;Object.defineProperty(e,"toString",{value:s,writable:o,enumerable:a,configurable:u})};function Ba(e,t,{ignoreNonConfigurable:r=!1}={}){let{name:n}=e;for(let s of Reflect.ownKeys(t))H0(e,t,s,r);return U0(e,t),Y0(e,t,n),e}var Ni=new WeakMap,Ff=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,s=e.displayName||e.name||"<anonymous>",o=function(...a){if(Ni.set(o,++n),n===1)r=e.apply(this,a),e=void 0;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return Ba(o,e),Ni.set(o,n),o};Ff.callCount=e=>{if(!Ni.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ni.get(e)};var vf=Ff;l();l();var bn=[];bn.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&bn.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&bn.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var Oi=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Ra=Symbol.for("signal-exit emitter"),Pa=globalThis,K0=Object.defineProperty.bind(Object),ka=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Pa[Ra])return Pa[Ra];K0(Pa,Ra,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let o of this.listeners[t])s=o(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},_i=class{},X0=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),Na=class extends _i{onExit(){return()=>{}}load(){}unload(){}},Oa=class extends _i{#n=_a.platform==="win32"?"SIGINT":"SIGHUP";#t=new ka;#e;#a;#o;#i={};#r=!1;constructor(t){super(),this.#e=t,this.#i={};for(let r of bn)this.#i[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(s+=o.__signal_exit_emitter__.count),n.length===s){this.unload();let a=this.#t.emit("exit",null,r),u=r==="SIGHUP"?this.#n:r;a||t.kill(t.pid,u)}};this.#o=t.reallyExit,this.#a=t.emit}onExit(t,r){if(!Oi(this.#e))return()=>{};this.#r===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let t of bn)try{let r=this.#i[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#s(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#r&&(this.#r=!1,bn.forEach(t=>{let r=this.#i[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#o,this.#t.count-=1)}#c(t){return Oi(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#s(t,...r){let n=this.#a;if(t==="exit"&&Oi(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},_a=globalThis.process,{onExit:Cf,load:Nv,unload:Ov}=X0(Oi(_a)?new Oa(_a):new Na);var Ef=Es.default.stderr.isTTY?Es.default.stderr:Es.default.stdout.isTTY?Es.default.stdout:void 0,Z0=Ef?vf(()=>{Cf(()=>{Ef.write("\x1B[?25h")},{alwaysLast:!0})}):()=>{},$f=Z0;var Ii=!1,Wn={};Wn.show=(e=Ia.default.stderr)=>{e.isTTY&&(Ii=!1,e.write("\x1B[?25h"))};Wn.hide=(e=Ia.default.stderr)=>{e.isTTY&&($f(),Ii=!0,e.write("\x1B[?25l"))};Wn.toggle=(e,t)=>{e!==void 0&&(Ii=e),Ii?Wn.show(t):Wn.hide(t)};var ja=Wn;l();l();function Ma(e){return Number.isInteger(e)?vi(e)===2:!1}var Q0=new Set([27,155]),ey="0".codePointAt(0),ty="9".codePointAt(0),qa=new Set,Wa=new Map;for(let[e,t]of rr.codes)qa.add(rr.color.ansi(t)),Wa.set(rr.color.ansi(e),rr.color.ansi(t));function ry(e){if(qa.has(e))return e;if(Wa.has(e))return Wa.get(e);e=e.slice(2),e.includes(";")&&(e=e[0]+"0");let t=rr.codes.get(Number.parseInt(e,10));return t?rr.color.ansi(t):rr.reset.open}function ny(e){for(let t=0;t<e.length;t++){let r=e.codePointAt(t);if(r>=ey&&r<=ty)return t}return-1}function sy(e,t){e=e.slice(t,t+19);let r=ny(e);if(r!==-1){let n=e.indexOf("m",r);return n===-1&&(n=e.length),e.slice(0,n+1)}}function iy(e,t=Number.POSITIVE_INFINITY){let r=[],n=0,s=0;for(;n<e.length;){let o=e.codePointAt(n);if(Q0.has(o)){let c=sy(e,n);if(c){r.push({type:"ansi",code:c,endCode:ry(c)}),n+=c.length;continue}}let a=Ma(o),u=String.fromCodePoint(o);if(r.push({type:"character",value:u,isFullWidth:a}),n+=u.length,s+=a?2:u.length,s>=t)break}return r}function Af(e){let t=[];for(let r of e)r.code===rr.reset.open?t=[]:qa.has(r.code)?t=t.filter(n=>n.endCode!==r.code):(t=t.filter(n=>n.endCode!==r.endCode),t.push(r));return t}function oy(e){return Af(e).map(({endCode:n})=>n).reverse().join("")}function Ha(e,t,r){let n=iy(e,r),s=[],o=0,a="",u=!1;for(let c of n){if(r!==void 0&&o>=r)break;c.type==="ansi"?(s.push(c),u&&(a+=c.code)):(!u&&o>=t&&(u=!0,s=Af(s),a=s.map(({code:f})=>f).join("")),u&&(a+=c.value),o+=c.isFullWidth?2:c.value.length)}return a+=oy(s),a}var ay=24,Ga=({columns:e=80})=>e,uy=(e,t)=>{let r=e.rows??ay,n=t.split(`
`),s=Math.max(0,n.length-r);return s?Ha(t,mn(n.slice(0,s).join(`
`)).length+1):t};function Tf(e,{showCursor:t=!1}={}){let r=0,n=Ga(e),s="",o=()=>{s="",n=Ga(e),r=0},a=(...u)=>{t||ja.hide();let c=uy(e,u.join(" ")+`
`),f=Ga(e);c===s&&n===f||(s=c,n=f,c=qr(c,f,{trim:!1,hard:!0,wordWrap:!1}),e.write(Cs.eraseLines(r)+c),r=c.split(`
`).length)};return a.clear=()=>{e.write(Cs.eraseLines(r)),o()},a.done=()=>{o(),t||ja.show()},a}var cy=Tf(Ua.default.stdout),it=cy,sC=Tf(Ua.default.stderr);function Lf(){let e,t=!1,r="",n=!0,s=G({arrows:G({interval:120,frames:["\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B8"]}),brielle:G({interval:50,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]}),spinning:G({interval:60,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]})}),o=G({label:"",line:!0,color:null,style:"brielle",action:null}),a=function(c,f){let p=G(o);_(c)?p=ne(p,c):H(c)&&(p.label=c,_(f)&&(p=ne(p,f))),t=!0,n=p.line;let d,g=0,b,D=0;p.action!==null?(p.style="arrows",d=w("color",p.action)?p.action.color:Ee,b=s.arrows.frames,D=b.length):(d=Ze(p.color)?p.color:Ut,r=p.label,b=s[p.style].frames,D=b.length),it.done(),e=setInterval(()=>{if(!t)return;let v;if(p.action!==null){let W=fe(h(p.action.before),b[g=++g%D],p.action.after);v=d(r!==""?R(r,W):W)}else v=d(fe(b[g=++g%D],r));it(p.line?gr(v):v)},s[p.style].interval)};return a.update=function(u){r=u},a.stop=function(u){t!==!1&&(t=!1,u?(it(n?gr(u):u),it.done()):it.clear(),clearInterval(e),e=void 0,r="")},mt(a,"active",{get(){return t}}),a}l();l();var Bf=e=>xe(e.replace(/('[{}_\w\s.-]*?'|"[\w\s.-]*?")/g,gt("$1")).replace(/({{2}-?[a-zA-Z0-9_\-.'"[\]]+-?}{2})/g,on("$1")).replace(/((?:www|http:|https:)+[^\s]+[\w])/g,mr("$1")).replace(/(\/)(.*?)(\/)/g,on("$1")+ye("$2")+on("$3")).replace(/(\\)(\W)/g,m("$1")+ye("$2")).replace(/(:)(?= )/g,m("$1")).replace(/(?<=Filename\s)([\w._-]+)(?=\salready)/,ye.bold("$1"))),Rf=e=>e.replace(/({%|{%-}|-%}|%}|{{|{{-|}}|-}}|<\/?|>|:|,)/g,ye("$1")).replace(/(['"].*?['"])/g,m("$1")),ly=e=>{let t="",r=e.indexOf("- Valid syntax:");return r>-1?(t=`
`+e.slice(r).slice(1).replace(/(Valid syntax)(:)(.*)/,xe("$1")+m("$2")+on("$3")),e.slice(0,r)+t):e},Pf=(e,t)=>{let r=[],n=/\(line \d+\):/,s=/'(.*?)'/,o="  ",a=i.terminal.cols-10,u=NaN,c=NaN,f=0;H(e);let p=[];for(let d=0,g=e.length;d<g;d++){let b=e[d];if(n.test(b)){let D=b.indexOf("):"),v=b.indexOf("(line");if(D>-1&&v>-1&&(r.unshift(pe(C.red,ae.bold(b.slice(0,D+2)),`
`,C.redTrim)),u=Number(b.slice(v+6,D)),f=Te(u).length+3,b=ly(b.slice(D+2)),r.push(pe(Bf(hs(b,{line:C.red,color:xe})),`
`,C.redTrim,`
`,C.redTrim)),t.length>1)){let W=pe(C.redTrim," ".repeat(f-Te(u-1).length),k(`${u-1}`)," ",C.trim),j=pe(C.redTrim," ",ae.bold(">")," ",k(`${u}`)," ",C.trim),te="",q=t[u-1].replace(/\t/g,"  ").trimEnd(),Z=q.match(/^\s*/)[0];s.test(b)&&(te=b.match(s)[1],c=t[u-1].indexOf(te),c<0&&(c=NaN));let Q=t[u-2].replace(/\t/g,"  ").trimEnd(),We=Q.match(/^\s*/)[0].length;Z.length===We?(Q="  "+Q.trimStart(),o="  "):Z.length<We?(Q="    "+Q.trimStart(),o="  "):(Q="  "+Q.trimStart(),o="    "),Q.length>a&&(Q=Q.slice(0,a-3)+"..."),p.push(W+m(Q)),q=o+q.trimStart(),q.length>a&&(q=q.slice(0,a-3)+"..."),isNaN(c)?p.push(pe(j,$(Rf(q)),`
`,C.redTrim)):p.push(j+$(Rf(q)),pe(C.redTrim," ".repeat(f-1),Ir," ",C.redTrim," ".repeat(q.indexOf(te)),xe("^".repeat(te.length)),`
`+C.redTrim))}}else r.push(Bf(hs(b,{line:C.red,color:xe})))}return{line:u,column:c,output:r.join(`
`)+`
`+p.join(`
`)}};function kf(e){let t=e.split(`
`).reduce((s,o)=>{let a=dl(o),u="",c="";if(a!==!1)if(a.length>2){let p=yl(a,a.length/2);u=pe(p[0]),c=pe(p[1]||"")}else u=a[0],c=a[1]||"";let f=o.trim().replace(new RegExp(i.cwd,"g"),"");if(f.length===0)s.push([C.trim]);else{let p=[],d=qr(f,i.terminal.wrap,{hard:!0}).split(`
`);for(;d.length!==0;){let g=d.shift();d.length!==0&&d[0].length===1&&(g=g+d.shift()),p.push(C.line+u+g+c)}s.push(p)}return s},[]),r=[],n=!1;for(;t.length!==0;){let s=t.shift();t.length!==0&&s.length>1?(r.length>0&&r[r.length-1]!==C.trim&&r.push(C.trim),r.push(s.join(`
`))):s===C.trim?n?n=!1:(n=!0,r.push(s[0])):r.push(s[0])}it(r.join(`
`))}function ht(e,t,r){let s=ne({log:!0,store:!1},r);s.store===!0&&(s.data=G());let o=Jt("error.asset",t.data)?t.data.error.asset:Jt("errors.asset",t.data)?t.data.errors.asset:null;if(t.status===422){let{value:f}=JSON.parse(t.config.data).asset,{output:p,line:d,column:g}=Pf(o,f.split(`
`)),b=G({stack:!1,entries:G({column:g,line:d,file:ie+e,details:t.statusText,status:$(Te(t.status)),processor:$n("SHOPIFY API")})}),D=X({type:"error"}).NL.Insert(p,m).NL.Context(b).toString();return s.store&&(s.data.message=p,s.data.rawMessage=Hc(p),s.data.context=b),s.log&&Se(D),s.store?s.data:D}if(t.status in oa){let f=X({type:"error"}).NL.Wrap(oa[t.status]).toLine(),p=G({stack:!1,entries:G({status:t.status,message:t.statusText,source:`${e}`})});s.store&&(s.data.message=f,s.data.context=p);let d=pe(C.red,`
`,f,jn(p));return s.log&&Se(d),s.store?s.data:d}let a=ae("Unknown error has occured"),u={stack:!1,entries:{status:t.status,message:t.statusText,source:`${e}`}};s.store&&(s.data.message=a,s.data.context=u);let c=pe(C.red,`
`,a,jn({stack:!1,entries:G({status:t.status,message:t.statusText,source:`${e}`})}));return s.log&&Se(c),s.store?s.data:c}function Yt(e,t){let r={stack:!1,entries:{...t}},n=e instanceof Error?w("message",e)?e.message:e.toString():e;w("stack",e)&&(r.stack=e.stack),w("code",e)&&(r.entries.code=e.code),w("name",e)&&(r.entries.name=e.name),r.stack===!1?(Se(pe(Ri(n,{type:"error"}),jn(r))),process.exit(0)):i.errors.add(pe(Ri(n,{type:"error"}),jn(r)))}var Ge=(e,t)=>r=>{Se(pe(Ri(r.message,{type:"error"}),jn({stack:r.stack,entries:{...t,code:r.code,name:r.name,details:e}})))};function wn(e,t){e.fileName=t.base;let r=G(),n,s=X({type:"error"}).NL.Wrap(e.message.split(`
`)[0],ae.bold).NL;if(w("codeFrame",e)){s.Newline();let u=e.codeFrame.split(`
`),c=e.rawCodeFrame.split(`
`),f=0;for(;u.length!==0;){if(w("line",r)===!1){let p=c[f].trimStart();if(p[0]===">"){let d=p.slice(1).trimStart().match(/^\d+/);d!==null&&(n=Number(d[0]))}}s.Line(u.shift()),f=f+1}s.Newline()}let o=[],a=e.stack.split(`
`);for(;a.length!==0;)o.push(C.red+a.shift());i.errors.add(o.join(`
`)),Se(s.NL.Context({stack:!0,entries:{line:n,name:e.name,file:ie+t.relative,processor:$n("JSON")}}).toString())}function Nf(e,t){let r=X({type:"error"}).NL.Wrap(t.sassMessage,ae.bold).Newline();if(w("span",t)){let{span:n}=t,s=w("context",n)?n.context:n.text;if(s.length===0)return"";r.Newline();let{start:o,end:a}=n,u=Te(a.line+1).length;if(o.line===a.line){let c=u-Te(a.line).length;o.line>1&&r.Line(`${" ".repeat(c)+k(`${a.line}`)} ${C.trim}`),c=u-Te(a.line+1).length,r.Line(`${" ".repeat(c)+k(`${a.line+1}`)} ${C.trim} ${s.trimEnd()}`),r.Line(`${" ".repeat(u-1)+Ir} ${C.redTrim} ${" ".repeat(a.column)+h("^")}`)}else{let f=s.slice(n.start.offset,n.end.offset).split(`
`),p=n.start.line+1;for(let d of f){let g=Te(p++),b=u-g.length,D=b===0?"":" ".repeat(b);r.Line(`${D+k(g)} ${C.trim} ${d}`)}}}Se(r.NL.Context({stack:t.sassStack,entries:{line:t.span.start.line,name:t.name,input:e.input,cause:t.cause,processor:$n("SASS Dart")}}).toString())}function Of(e){let t=X({type:"error"}).NL.Wrap(e.text,ae.bold).Newline(),r=e.location,n=Te(r.line).length,s=n-Te(e.location.line).length;r.line>1&&t.Line(`${" ".repeat(s)+k(`${r.line-1}`)} ${C.trim}`),s=n-Te(r.line).length,Se(t.Line(`${" ".repeat(s)+k(`${r.line}`)} ${C.trim} ${r.lineText}`).Line(`${" ".repeat(n-1)+Ir} ${C.redTrim} ${" ".repeat(r.column)+h("^")}`).NL.NL.Context({stack:!1,entries:{suggest:O(r.suggestion),line:e.location.line,column:e.location.column,plugin:e.pluginName,namespace:r.namespace,file:ie+e.location.file,processor:$n("ESBuild")}}).toString())}function _f(e,t){let r=[],n=ds(t.stack,{pretty:!0,basePath:i.cwd}).split(`
`);for(;n.length!==0;)r.push(C.red+n.shift());i.errors.add(r.join(`
`)),Se(X({type:"error"}).NL.Wrap(`${t.name}${P} ${t.reason}`,ae.bold).Newline().Multiline(t.showSourceCode(!0)).NL.NL.Context({stack:!0,entries:{line:t.line,column:t.column,source:e.input,file:e.input===t.file?void 0:t.file,plugin:k(t.plugin),processor:$n("PostCSS")}}).toString())}l();var jf=require("path");var Pt=function(e){if($s(),e.log.config.silent)return;e.env.tree=!0;let t=X().BR.Top("Syncify").NL.Line(`v${e.version}`,h.whiteBright);e.terminal.cols<80&&t.Newline("red").Error("TERMINAL WIDTH WARNING",h).Newline("red").Error(`Your terminal width is below ${h("100")} columns (currently ${h(`${e.terminal.cols}`)})`).Error("This is not recommended for usage with Syncify (size matters).").Error("Expand your terminal wider for an optimal logging experience."),T(t.toLine())};Pt.time=function(){T(gr(V(`Started in ${A.stop("runtime")}`)))};Pt.modes=function(e){let t=X(),r=e.env.prod?"--prod":"--dev";if(e.mode.themes)return T(t.Wrap("Select theme target/s to be inserted into your package.json file.","You will be given a code example after selecting where you will define","a custom target name. If you would like to create a new theme, then run",`the ${ge("publish")} resource`,m).toLine());if(e.mode.cache&&(r!==""?r+=` ${ie} cache`:r+="cache"),e.mode.clean&&(r!==""?r+=` ${ie} clean`:r+="clean"),e.spawn.invoked&&(r!==""?r+=` ${ie} build`:r+="build"),e.mode.build&&(r!==""?r+=` ${ie} build`:r+="build"),e.mode.export&&(r!==""?r+=` ${ie} export`:r+="export"),e.mode.publish&&(r!==""?r+=` ${ie} publish`:r+="publish"),e.mode.import&&(r!==""?r+=` ${ie} import`:r+="import"),e.mode.watch&&(r!==""?r+=` ${ie} watch`:r+="watch",e.mode.hot&&(r+=` ${ie} hot`)),r!==""&&(t.Line(r,m),r=""),!pn(e.filters)){t.NL.Line(`Filters${P}`,$.bold);let n=jt(e.filters);for(let s in e.filters){let o=$(e.filters[s].map(a=>(0,jf.relative)(e.cwd,a)).join(", "));t.Line(` ${ie} ${s}${P}${n(s)}${o}`,ye)}}T(t.toLine())};Pt.spawns=function(e){if(e.mode.build||e.mode.watch){let t=X().Line(`Spawned${P}`,$.bold),r=jt(e.spawn.commands);for(let n in e.spawn.commands){let s=r(n),o=e.spawn.commands[n].pid;t.Line(` ${ie} ${ye(n)}${P}${s}PID ${I} #${Ut(`${o}`)}`,m)}T(t.toLine())}};Pt.stores=function(e){let t=X(),r=e.sync.themes.length;Wr(e.mode.upload,e.mode.import,e.mode.build,e.mode.clean)&&r>0&&(t.Line(`Editors${P}`,h.white),If(t,e.sync.themes,"editor")),Sl(e.mode.upload,e.mode.import,e.mode.watch)&&r>0&&(e.mode.upload||e.mode.import?t.NL.Line(`Targets${P}`,h.white):t.NL.Line(`Previews${P}`,h.white),If(t,e.sync.themes,"preview")),T(t.toLine())};Pt.warnings=function(t){if(!t.log.config.warnings)return;let r=zt(Gr),n=r.reduce((o,a)=>(o=o+Gr[a].length,o),0);if(n===0)return;let s=X({type:"warning"}).Line(`${n} ${Bt("Warning",n)}`,h);for(let o of r){let a=Gr[o];if(a.length>0){a.length===n?s.Newline().Line(`${o} ${Bt("Warning",a.length)}`,h).Newline():s.Newline().Line(`${a.length} ${o} ${Bt("Warning",a.length)}`,h);for(let u of a)s.Line(`${an} ${u}`,re)}}An(s.toString())};function If(e,t,r){let n=t.reduce((s,{target:o,store:a})=>{let u=a.indexOf(".");return u>s.store&&(s.store=u),o.length>s.theme&&(s.theme=o.length),s},{store:0,theme:0});for(let{target:s,store:o,id:a}of t){let u=o.slice(0,o.indexOf(".")),c=r==="editor"?`https://${o}/admin/themes/${a}/editor`:`https://${o}?preview_theme_id=${a}`;e.Line(fe(" ",ie,Ut(u)," ".repeat(n.store-u.length),I," ",Ut.bold(s)," ".repeat(n.theme-s.length),I," ",m.underline(c)))}}var Kt=Lf(),za=[],Wi=e=>{T(Jl(e.width,e.newlines))},ct=(e,{color:t,type:r=null,prefix:n=null,suffix:s=null}={})=>{r==="error"?n===null?Se(fe(ys(t?t(e):xe(e)),Oe(s))):Se(ys((t||xe)(R(n,fe(e,Oe(s)))))):r==="warning"?n===null?T(Hr(fe(t?t(e):re(e),Oe(s)))):T(Hr((t||re)(R(n,fe(e,Oe(s)))))):n===null?T(we(fe(t?t(e):O(e),Oe(s)))):T(we((t||O)(R(n,fe(e,Oe(s))))))};var _e=e=>{e===""?T(`
`):e==="red"?T(C.red):e==="yellow"?T(C.yellow):T(C.line)};var $s=(e=!1)=>{if(e===!1&&i.log.config.clear===!1)return;let t=As.stdout.rows-2;T(t>0?`
`.repeat(t):""),(0,ji.cursorTo)(As.stdout,0,0),(0,ji.clearScreenDown)(As.stdout)},Ft=e=>{i.log.config.silent||i.env.tree===!1||(T(Ds(i.log.group)),i.log.config.clear&&e!==!1&&$s(),H(e)&&(i.log.group=e,T(`
`+gs(i.log.group))))},Mf=e=>{i.log.config.silent||i.env.tree===!1||(H(e)?T(ba(m(e)+" "+Oe(Bn()))):($s(),T(C.line+`
`+ba(fe(m(i.log.group),Oe(Bn()))))))},Xt=(e,...t)=>{i.mode.export||i.mode.build||i.log.config.silent||(t.length===2?T(we(O(R("process",fe(h(e),Br,t[0],Oe(t[1])))))):T(we(O(R("process",fe(h(e),Oe(t[0])))))))},qi=e=>{if(i.log.config.silent===!0||i.mode.watch===!1)return;A.start();let t=fe(e.kind,Br,Mr(e.namespace)),r=w(e.relative,i.log.changes)?i.log.changes[e.relative]+1:1;i.log.changes[e.relative]=r,i.log.group!==t?(_e(),Ft(t),i.log.title!==e.namespace&&(i.log.title=e.namespace)):i.log.config.clear&&(_e(),Ft(t)),i.log.uri!==e.relative&&(i.log.uri=e.input),T(Yl(ye(R("changed",fe(e.relative,Oe(`${r} change${r>1?"s":""}`)))))),za.length>0&&T(za.shift())},Mt=(...e)=>{i.mode.export||i.mode.build||i.log.config.silent||(e.length===1?T(we(O(R("minified",h(e[0]))))):e.length===4?T(we(O(R("minified",fe(h(e[0]),I,e[1],ls,e[2],ie,"saved",e[3]))))):T(we(O(R("minified",fe(h(e[0]),ls,e[1],ie,"saved",e[2],Oe(A.now())))))))},Ue=(e,{hot:t=!1}={})=>{i.mode.export||i.mode.build||i.log.config.silent||(i.warnings.has(e)&&T(Hr(re(R("warning",fe(Te(i.warnings.get(e).size),Bt("warning",i.warnings[e].size),hn.warning))))),T(we(ui(R("syncing",e)))),se.pending>(t?0:2)&&T(we(gt(R("queued",fe(e,ie,h(bi(se.pending)),"in queue"))))))},Ts=(e,t)=>(T(we(gt(R("prompt",e))),Ds(i.log.group)),_(t)&&Mi.default.notify(t).notify(),()=>T(gs(i.log.group))),Va=(e,t)=>{if(i.mode.watch){if(i.log.queue.add([e,t.domain,A.stop()]),i.log.idle)return;i.log.idle=!0,se.onIdle().then(()=>{for(let[r,n,s]of i.log.queue)T(we(Ee(R("uploaded",fe(h(r),I,n,Oe(s))))));i.log.queue.clear(),i.log.idle=!1})}else T(we(Ee(R("uploaded",fe(h(e),I,t.domain,Oe(A.stop()))))))},Wf=e=>{if(!i.log.config.silent)if(i.mode.watch){if(i.log.queue.add([e.target,e.store,A.stop()]),i.log.idle)return;i.log.idle=!0,se.onIdle().then(()=>{for(let[t,r,n]of i.log.queue)T(we(Ee(R("uploaded",h(t),r,n))));i.log.queue.clear(),i.log.idle=!1})}else T(we(Ee(R("uploaded",h(e.target),e.store,A.stop()))))},br=(e,t)=>{T(ys(ae(R("invalid",e)))),Mi.default.notify({title:"Syncify Error",sound:"Pop",open:e,subtitle:e,message:"Invalid error"}).notify(),t&&Se(Df(t,{type:"error",color:ae.bold}))},qe=(e,{suffix:t=null,notify:r=null}={})=>{Se(ys(ae(R("error",t?e+" "+Oe(t):e)))),r!==null&&Mi.default.notify(r).notify()},Ja=e=>function(...t){i.spawn.invoked||(i.spawn.invoked=!0),i.log.group!=="Spawn"&&(T(Ds(i.log.group)),i.log.group!=="Syncify"&&$s(),T(gs("Spawn")),i.log.group="Spawn"),i.log.title!==e&&(T(Kl(ye(e))),i.log.title=e),kf.call(this,t.toString())},ot=(e,t)=>{t?T(Hr(re(R("warning",e)+Oe(t)))):T(Hr(re(R("warning",e))))},Ya=(e,t)=>{T(we(gt(R("retrying",e,t.target,t.store))))},qf=(e,t)=>{T(we(qc(R("deleted",e,t.target,t.store))))};var et=(e,...t)=>{i.mode.build||(t.length>0?T(we(O(R("transform",fe(h(e),I,t[0],t.length===2?fe(I,t[1]):t.length===3?fe(I,t[1],Oe(t[2])):""))))):T(we(O(R("transform",h(e))))))},Ka=(e,t)=>{T(we(O(R("zipped",fe(h("ZIP"),e,Oe(t))))))},nr=(e,t)=>{i.mode.export||i.mode.build||T(we(R("skipped",fe(H(e)?e:e.key,Oe(t)))))};var Hi=e=>{T(gr(O.bold(e)))},Xa=(e,t)=>{za.push(we(O(R("renamed",fe(h(e),ls,h(t))))))},Gi=e=>{T(we(ci(R("reloaded",fe(h("HOT RELOAD"),Oe(A.now(e)))))))},Hf=(e,t)=>{i.mode.build||T(we(on(R("exported",fe(h(e),I,h(t))))))};var Ui=(e,t)=>{T(we(O(R("version",fe(e.number,ls,e.update.number,Oe(t))))))};async function Gf(e,t){let r=be(i.sync.stores[t.sidx].client,{method:"get",url:t.url,params:{"asset[key]":e}});return _n(r).then(({data:n})=>n.asset.value).catch(()=>!1)}async function Za(e,t){let r=be(t,{method:"get",url:e.url});try{let{data:n}=await _n(r);return n}catch(n){if(n.response&&(n.response.status===429||n.response.status===500))t.params["asset[key]"]&&(Ya(t.params["asset[key]"],e),se.add(()=>Za(e,t)));else{if(i.mode.upload)throw n.response;t.params["asset[key]"]&&(qe(t.params["asset[key]"]),ht(t.params["asset[key]"],n.response))}}}var Ls;async function Bs(e,t,r){return se.isPaused?void 0:(se.concurrency>2?(Ls>=20&&se.concurrency--,Ls>=32&&se.concurrency--,Ls>=39&&await dt(500)):se.concurrency<3&&Ls<30&&se.concurrency++,i.mode.upload===!1&&i.mode.import===!1&&A.start(),await _n(r).then(({headers:s,data:o})=>{if(i.mode.import===!1&&r.method==="get")return o;r.method==="delete"?qf(t.relative,e):i.mode.watch?(i.mode.hot===!0&&t.type!==10&&t.type!==9&&Gi(),Wf(e)):i.mode.upload?Lt.emit("upload",{status:0,get theme(){return e},get file(){return t}}):i.mode.import&&Lt.emit("import",{status:0,get theme(){return e},get file(){return t},get data(){return o}}),Ls=parseInt(s["x-shopify-shop-api-call-limit"].slice(0,2),10)}).catch(s=>{if(s.response&&(s.response.status===429||s.response.status===500))i.mode.upload===!1&&i.mode.import===!1&&Ya(t.key,e),se.add(()=>Bs(e,t,r)),i.mode.upload?Lt.emit("upload",{status:1,get theme(){return e},get file(){return t}}):i.mode.import&&Lt.emit("import",{status:1,get theme(){return e},get file(){return t}});else{if(i.mode.upload)return Lt.emit("upload",{status:2,error:s.response,get theme(){return e},get file(){return t}});if(i.mode.import)if(s.response===void 0)Lt.emit("import",{status:3,get theme(){return e},get file(){return t}});else return Lt.emit("import",{status:2,error:s.response,get theme(){return e},get file(){return t}});else qe(t.key,{suffix:"shopify rejected the request",notify:{title:"Request Error",message:`Failed to sync ${t.key}`}}),s.isAxiosError&&ht(t.relative,s.response)}return Ti}))}l();var Vi=Y(require("axios")),Ji=require("fs-extra"),my=require("path");async function zf(e,t){if(arguments.length===1)return r=>zf(e,r);if(Wr(Ke("namespace",t),Ke("key",t))){br("invalid fields");return}return Vi.default.get("metafields.json",e.client).then(({data:r})=>r.metafields.find(n=>t.namespace===n.namespace&&t.key===n.key)).catch(r=>{console.log(r)})}async function Qa(e,t){return arguments.length===1?r=>Qa(e,r):(t.type="json",t.namespace="email",t.value_type="json_string",t.key="eng",Vi.default.post("metafields.json",{metafield:t},e.client).then(({data:r})=>(console.log("created",r),r.metafield)).catch(r=>{if(console.log(r),!e.queue)return ht(t.namespace,r.response);if(Dn(r.response.status)){se.add(()=>Qa(e,t));return}else return ht(e.store,r.response)}))}async function eu(e,t,r){return is(arguments.length,1)?(n,s)=>eu(e,n,s):Vi.default.put(`metafields/${t}.json`,{metafield:r},e.client).then(n=>(console.log("created"),n.data.metafield)).catch(n=>{if(!e.queue)return ht(r.namespace,n.response);if(Dn(n.response.status))se.add(()=>eu(e,t,r));else return ht(e.store,n.response)})}async function zi(e,t){if(is(arguments.length,1))return n=>zi(e,n);let r=await zf(e,t);return r?eu(e,r.id,ne(t,{id:r.id,type:"json"})).catch(n=>{if(!e.queue)return ht(t.namespace,n.response);if(Dn(n.response.status))se.add(()=>zi(e,t));else return ht(e.store,n.response)}):Qa(e,t)}function Yi({stores:e,themes:t}){return{assets:async(r,n,s)=>{let o=le(s)?{method:r,params:{"asset[key]":n.key}}:{method:r,data:{asset:{key:n.key,value:s}}};await se.add(()=>Dr(t,async a=>{i.mode.upload&&A.start(n.uuid),await Bs(a,n,ne({url:a.url},e[a.sidx].client,o))}))},pages:async(r,n,s)=>{await se.add(()=>Dr(e,async o=>{i.mode.upload&&A.start(),console.log(s)}))},metafields:r=>se.add(function(){return Al(async function(n){await zi(n,r)},e)})}}l();var _t=require("path");l();var vt=require("path");l();var Sr=require("path"),mu=Y(require("fast-glob")),du=Y(zr()),vp=require("fs-extra");l();var pu=require("url"),Nt=require("fs-extra"),tt=require("path"),xp=require("esbuild");function Sp(e,t,r=(0,tt.parse)(t).root){let n=t;for(;n!==r;){let s=(0,tt.join)(n,e);if((0,Nt.existsSync)(s))return s;if((0,tt.extname)(s)!==".json"){let o=s+".json";if((0,Nt.existsSync)(o))return o}n=(0,tt.dirname)(n)}return null}function Zy(e,t){return(0,Nt.existsSync)((0,tt.join)(e,t))?(0,tt.isAbsolute)(t)?(0,Nt.existsSync)(t)?t:null:Sp(t,e):null}function Qy(e,t){return(0,tt.isAbsolute)(t)?(0,Nt.existsSync)(t)?t:null:t.startsWith(".")?Sp(t,e):require.resolve(t,{paths:[e]})}function Fp(e=process.cwd(),t="tsconfig.json",r=!1){e=(0,tt.resolve)(e);let n=r?Qy(e,t):Zy(e,t);if(!n)return null;let s=Di((0,Nt.readFileSync)(n,"utf-8")),o=(0,tt.dirname)(n);Ke("baseURL",s.compilerOptions)&&(s.compilerOptions.baseUrl=(0,tt.join)(o,s.compilerOptions.baseUrl));let a=[];if(s.extends){let u=B(s.extends)?s.extends:[s.extends],c={};for(let f of u){let p=Fp(o,f,!0);p&&(ne(c,{...p?.data,compilerOptions:{...c.compilerOptions,...p?.data?.compilerOptions}}),a.push(...p.files))}ne(s,{...c,...s,compilerOptions:{...c.compilerOptions,...s.compilerOptions}})}return delete s.extends,{path:n,data:s,files:[...a,n]}}function eD(e,t){return Fp(e,t)}function tD(e,t){return e.replace(gi,`.bundled_${tr()}.${t==="esm"?"mjs":"cjs"}`)}function rD(e){if(typeof jest>"u")return"cjs";let t=(0,tt.extname)(e);return t===".js"?i.pkg.type==="module"?"esm":"cjs":t===".ts"||t===".mjs"?"esm":"cjs"}function nD(e){return e===null?null:zt(e||{}).map(t=>new RegExp(`^${t.replace(/\*/,".*")}$`))}function wp(e,t){return t?t.some(r=>wi(r)?r.test(e):e===r||e.startsWith(r+"/")):!1}function sD({external:e,notExternal:t}={}){return{name:"bundle-require:external",setup({onResolve:r}){r({filter:/.*/},async n=>{if(!(n.path.charCodeAt(0)===46||(0,tt.isAbsolute)(n.path))){if(wp(n.path,e))return{external:!0};if(!wp(n.path,t))return{external:!0}}})}}}function iD(){return{name:"bundle-require:inject-file-scope",setup(e){e.initialOptions.define={...e.initialOptions.define,__dirname:"__injected_dirname__",__filename:"__injected_filename__","import.meta.url":"__injected_import_meta_url__"},e.onLoad({filter:gi},async t=>{let r=await(0,Nt.readFile)(t.path,"utf-8"),n=[`const __injected_filename__ = ${JSON.stringify(t.path)};`,`const __injected_dirname__ = ${JSON.stringify((0,tt.dirname)(t.path))};`,`const __injected_import_meta_url__ = ${JSON.stringify((0,pu.pathToFileURL)(t.path).href)};`];return{contents:pe(n)+r,loader:gl((0,tt.extname)(t.path))}})}}}async function eo(e){if(!gi.test(e.filepath))throw new Error(`${e.filepath} is not a valid JS file`);let t=e.preserveTemporaryFile??!!process.env.BUNDLE_REQUIRE_PRESERVE,r=e.cwd||i.cwd,n=e.format??rD(e.filepath),s=e.tsconfig===null?null:eD(r,e.tsconfig),o=nD(s?.data.compilerOptions?.paths||{});async function a(f){if(!f.outputFiles)throw new Error("[bundle-require] no output files");let{text:p}=f.outputFiles[0],g=(e.getOutputFile||tD)(e.filepath,n);(0,Nt.writeFileSync)(g,p,"utf8");let b,D=e.require||hl;try{b=await D(n==="esm"?(0,pu.pathToFileURL)(g).href:g,{format:n})}finally{t||await(0,Nt.unlink)(g)}return{mod:b,dependencies:f.metafile?zt(f.metafile.inputs):[]}}let u=await(0,xp.build)({...e.esbuildOptions,entryPoints:[e.filepath],absWorkingDir:r,outfile:"out.js",format:n,write:!1,platform:"node",sourcemap:"inline",bundle:!0,metafile:!0,plugins:[...Ke("plugins",e.esbuildOptions)?e.esbuildOptions.plugins:[],sD({external:e.external,notExternal:o}),iD()]});return await a(u)}function Cp(){let e=[],t=new Set,r=n=>{let s=`${n}_password`,o=s.toUpperCase();return s in i.env.vars?i.env.vars[s]:o in i.env.vars?i.env.vars[o]:null};for(let n in i.env.vars){let s=n.toLowerCase();if(s.endsWith("_api_token")){let o=s.slice(0,s.indexOf("_api_token")),a=r(o);e.push({domain:o,password:a,themes:{}})}else if(s.endsWith("_api_key")){let o=`${s.slice(0,s.indexOf("_api_key"))}`;if(!t.has(o)){let a=r(o);e.push({domain:o,password:a,themes:{}}),t.add(o)}}else if(s.endsWith("_api_secret")){let o=`${s.slice(0,s.indexOf("_api_secret"))}`;if(!t.has(o)){let a=r(o);e.push({domain:o,password:a,themes:{}}),t.add(o)}}}if(e.length>0)return e;$i(i.cwd)}function Ep(e){let t=e+"_api_token";if(w(t,i.env.vars)||(t=t.toUpperCase()),w(t,i.env.vars))return{baseURL:`https://${e}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":i.env.vars[t]}};let r=e+"_api_key",n=e+"_api_secret";if(w(r,i.env.vars)||(r=r.toUpperCase()),w(n,i.env.vars)||(n=n.toUpperCase()),w(r,i.env.vars)&&w(n,i.env.vars))return{baseURL:`https://${e}.myshopify.com/admin`,auth:{username:i.env.vars[r],password:i.env.vars[n]}};Qe(`Invalid or missing ${ge(e+".myshopify.com")} credentials`,[`Your shop credentials in the ${ge.bold((0,Sr.basename)(i.env.file))} file could`,"not be read correctly or are missing. Please check your environment file and ensure","you have provided valid authorization."])}function Ot(e,t){let{cwd:r}=i,n=Ze(t)?[]:!1,s=ut("Path Resolver"),o=Nn(i.dirs.input,i.cwd);if(B(e)){let a=[];for(let u of e){let c=o(u),f=mu.default.sync(c,{cwd:r,absolute:!0});if(n!==!1){let p=t(c);H(p)?n.push(p):B(p)&&n.push(...p)}f.length===0?s("No files can be resolved in",u):a.push(...f)}return n===!1?a:{paths:a,match:(0,du.default)(n)}}if(H(e)){let a=o(e),u=mu.default.sync(a,{cwd:r});if(u.length===0&&s("No files can be resolved in",e),n!==!1){let c=t(a);H(c)?n.push(c):B(c)&&n.push(...c)}return n===!1?u:{paths:u,match:(0,du.default)(n)}}ee({option:"uri",name:"uri/path",provided:e,expects:"string | string[]"})}function Hn(e,t){if(w("assertSnippet",t)||(t.assertSnippet=!0),H(e)){let{paths:r,match:n}=Ot(e,s=>(t.addWatch&&i.watch.add(s),Ur(s)));if(r)return t.flatten?r.map(s=>t.assertSnippet?{input:s,rename:(0,Sr.basename)(s),snippet:!1}:{input:s,rename:(0,Sr.basename)(s)}):t.assertSnippet?{input:r,rename:"[name].[ext]",snippet:!1,match:n}:{input:r,rename:"[name].[ext]",match:n}}else if(B(e)){if(e.every(H)){let{paths:r,match:n}=Ot(e,s=>(t.addWatch&&i.watch.add(s),Ur(s)));return t.flatten?r.map(s=>t.assertSnippet?{input:s,rename:(0,Sr.basename)(s),snippet:!1}:{input:s,rename:(0,Sr.basename)(s)}):t.assertSnippet?{input:r,rename:"[name].[ext]",snippet:!1,match:n}:{input:r,rename:"[name].[ext]",match:n}}else if(e.every(_))return e.map(r=>{w("input",r)||nt({option:"tranform",name:"input",value:r,expects:"{ input: string | string[] }"});let{paths:n,match:s}=Ot(r.input,o=>(t.addWatch&&i.watch.add(o),Ur(o)));return r.match=s,r.input=n[0],t.assertSnippet&&!w("snippet",r)&&(r.snippet=!1),w("rename",r)||(r.rename=r.snippet?"[name].liquid":"[name].[ext]"),r})}else if(_(e)){let r=[];if(w("input",e)){let n=be(e),{paths:s,match:o}=Ot(n.input,a=>(t.addWatch&&i.watch.add(a),Ur(a)));if(t.assertSnippet&&!w("snippet",n)&&(n.snippet=!1),w("rename",n)||(n.rename=n.snippet?"[name].liquid":"[name].[ext]"),t.flatten)for(let a of s)r.push(ne({},n,{input:a}));else n.input=s,n.match=o,r.push(n)}else for(let n in e){let s={snippet:n.startsWith("snippets/")},o=n.startsWith("assets/"),a=e[n],u=o||s.snippet;if(H(a)){u&&(s.rename=o?n.slice(7):n.slice(9));let{paths:c,match:f}=Ot(a,p=>(t.addWatch&&i.watch.add(p),Ur(p)));if(c)if(t.flatten)for(let p of c)r.push(ne({},s,{input:p}));else r.push(ne({},s,{input:c,match:f}))}else if(_(a)){w("input",a)||nt({option:"transform",name:n,value:a,expects:"{ input: string | string[] }"});let{paths:c,match:f}=Ot(a.input,p=>(t.addWatch&&i.watch.add(p),Ur(p)));if(c.length>0){let p=u?ne({},a,s,{rename:o?n.slice(7):n.slice(9)}):ne({},s,a);if(t.flatten)for(let d of c)r.push(ne({},p,{input:d}));else r.push(ne(p,{input:c,match:f}))}}else if(B(a))if(a.every(H)){let{paths:c,match:f}=Ot(a,p=>(t.addWatch&&i.watch.add(p),Ur(p)));if(aD(n)&&(s.rename=(0,Sr.basename)(n)),c)if(t.flatten)for(let p of c)r.push(ne({},s,{input:p}));else r.push(ne({},s,{input:c,match:f}))}else ee({option:"transform",name:n,provided:a,expects:"string[]"})}return r}}function hu(e,t){return!!(w("devDependencies",e)&&w(t,e.devDependencies)||w("dependencies",e)&&w(t,e.dependencies)||w("peerDependencies",e)&&w(t,e.peerDependencies)||w("optionalDependencies",e)&&w(t,e.peerDependencies))}async function oD(e){for(let t of sl){let r=`${e}.${t}`;if(await(0,vp.pathExists)(r))return r}return null}async function gu(e,t){try{let r=await oD(e);if(r!==null){let n=await eo({cwd:i.cwd,filepath:r,...t||{}});return{path:r,config:n.mod.syncify||n.mod.default||n.mod}}return null}catch{return null}}function aD(e){return/\[(?:file|name|dir|ext)\]/.test(e)}function Vr(e,t){let r=t,n=gn(e),s=(0,Sr.extname)(e),o=(0,Sr.basename)(e,s);if(le(t))return{dir:n,ext:s,file:o,name:o,base:o+s};/(\[dir\])/.test(r)&&(r=r.replace("[dir]",n)),/(\[name\])/.test(r)&&(r=r.replace("[name]",o)),/(\[file\])/.test(r)&&(r=r.replace("[file]",o)),/(\.?\[ext\])/.test(r)&&(r=r.replace(/\.?\[ext\]/,s));let a=t.replace(t,r);return{ext:s,file:o,dir:n,name:a,base:a+s}}function $p(e){let t=i.svg.filter(r=>r.input.has(e.input)?!0:r.match(e.input)?(r.input.add(e.input),!0):!1);return le(t)||mt(e,"data",{get(){return t}}),e}function ks(e){let t=i.style.find(r=>r.watch(e.input));return le(t)?(e.type=14,e):(mt(e,"data",{get(){return t}}),t.snippet?(e.namespace="snippets",e.key=(0,vt.join)("snippets",t.rename)):e.key=(0,vt.join)("assets",t.rename),e.output?e.data.rename!==(0,vt.basename)(e.output)&&(t.snippet?e.output=(0,vt.join)(i.dirs.output,e.key):e.output=(0,vt.join)(Fa(e.output),e.data.rename)):e.output=(0,vt.join)(i.dirs.output,e.key),e)}function Ns(e){let t=i.script.filter(r=>r.watch.has(e.input));return t.length===0||mt(e,"data",{get(){return t}}),e}function Du(e,t){return mt(t,"data",{get(){return e}}),t}function bu(e){if(e.base.endsWith("-group.json"))return e;if(i.paths.sections.rename.length>0){let t=i.paths.sections.rename.find(([s])=>s(e.input));if(le(t))return e;let r=e.base,n=Vr(e.input,t[1]);e.name=n.name,e.ext=n.ext,e.base=n.base,e.key=(0,vt.join)(e.namespace,n.base),e.output=(0,vt.join)((0,vt.dirname)(e.output),n.base),Xa(r,e.base)}return e}function Ap(e){if(i.paths.snippets.rename.length>0){let t=i.paths.snippets.rename.find(([s])=>s(e.input));if(le(t))return e;let r=e.base,n=Vr(e.input,t[1]);e.name=n.name,e.ext=n.ext,e.base=n.base,e.key=(0,vt.join)(e.namespace,n.base),e.output=(0,vt.join)((0,vt.dirname)(e.output),n.base),Xa(r,e.base)}return e}function uD(e){switch(e){case".liquid":return"Liquid";case".json":return"JSON";case".html":return"HTML";case".md":return"Markdown";case".js":case".mjs":return"JavaScript";case".jsx":return"JSX";case".ts":return"TypeScript";case".tsx":return"TSX";case".svg":return"SVG";case".css":return"CSS";case".scss":return"SCSS";case".sass":return"SASS";case".mov":case".mp4":case".webm":case".ogg":return"Video";case".ico":case".jpg":case".png":case".gif":case".pjpg":case".webp":return"Image";case".eot":case".ttf":case".woff":case".woff2":return"Font";case".pdf":return"PDF";case".yaml":case".yml":return"YAML"}return"Unknown"}function _s({name:e,dir:t,ext:r,namespace:n},s){let o=s;return/\[dir\]/.test(o)&&(o=o.replace(/\[dir\]/g,t)),/\[name\]/.test(o)&&(o=o.replace(/\[name\]/g,e)),/\[file\]/.test(o)&&(o=o.replace(/\[file\]/g,e)),/\[ext\]/.test(o)&&(o=o.replace(/\[ext\]/g,r)),n==="snippets"&&s.endsWith(".liquid")===!1?o+".liquid":!s.endsWith(".[ext]")||!s.endsWith(r)?/\.[a-z]+$/.test(s)?o:o+r:o}function Tp(e,t,r){return e.size=NaN,function(n,s,o){let a;return s===15||s===16?(a=(0,_t.join)(gn(e.dir),e.base),r=null):(a=(0,_t.join)(n,e.base),r=(0,_t.join)(r,a)),o===-1&&(t=i.cache.paths[t]),e.uuid=tr(),e.type=s,e.key=a,e.namespace=n,e.kind=o,e.input=t,e.output=r,e.relative=(0,_t.relative)(i.cwd,t),e}}function cD(e,t){let r=e;return(n,s)=>ne({},r,{uuid:tr(),key:n,namespace:s,output:t,kind:uD(r.ext),relative:(0,_t.relative)(i.cwd,t)})}function Lp(e){return Is(i.paths,i.dirs.output)(e)}function Is(e,t){return function r(n){let s=new In((0,_t.parse)(n)),o=Tp(s,n,t);if(s.ext===".liquid"){if(e.sections.match(n))return bu(o("sections",4,"Liquid"));if(e.snippets.match(n))return Ap(o("snippets",3,"Liquid"));if(e.layout.match(n))return o("layout",2,"Liquid");if(e.templates.match(n))return o("templates",1,"Liquid");if(e.customers.match(n))return o("templates/customers",1,"Liquid");if(e.metaobject.match(n))return o("templates/metaobject",1,"Liquid");if(e.transforms.get(n)===9)return ks(o("snippets",9,"CSS"))}else{if(s.ext===".schema"&&e.schema.match(n))return Du(r,o("schema",5,"JSON"));if(s.ext===".json"){if(e.metafields.match(n))return o("metafields",15,"JSON");if(e.sections.match(n))return bu(o("sections",4,"JSON"));if(e.templates.match(n))return o("templates",1,"JSON");if(e.config.match(n))return o("config",7,"JSON");if(e.locales.match(n))return o("locales",8,"JSON");if(e.customers.match(n))return o("templates/customers",1,"JSON");if(e.metaobject.match(n))return o("templates/metaobject",1,"JSON");if(e.schema.match(n))return Du(r,o("schema",5,"JSON"))}}switch(s.ext){case".js":case".mjs":return Ns(o("assets",10,"JavaScript"));case".ts":return Ns(o("assets",10,"TypeScript"));case".tsx":return Ns(o("assets",10,"TSX"));case".jsx":return Ns(o("assets",10,"JSX"));case".svg":return $p(o("assets",11,"SVG"));case".css":return ks(o("assets",9,"CSS"));case".scss":return ks(o("assets",9,"SCSS"));case".sass":return ks(o("assets",9,"SASS"));case".md":return o("pages",16,"Markdown");case".html":return o("pages",16,"HTML")}if(e.assets.match(n)){if(i.spawn.invoked)return o("assets",17);switch(s.ext){case".json":return o("assets",14,"JSON");case".svg":return o("assets",14,"SVG");case".css":return o("assets",14,"CSS");case".ico":case".jpg":case".png":case".gif":case".webp":case".pjpg":return o("assets",14,"Image");case".mov":case".mp4":case".webm":case".ogg":return o("assets",14,"Video");case".pdf":return o("assets",14,"PDF");case".eot":case".ttf":case".woff":case".woff2":return o("assets",14,"Font")}}}}function Bp(e,t){let r=(0,_t.join)(t,e),n=new In((0,_t.parse)(r)),s=cD(n,r);if(e.startsWith("sections/"))return s(e,"sections");if(e.startsWith("snippets/"))return s(e,"snippets");if(e.startsWith("layout/"))return s(e,"layout");if(e.startsWith("customers/",10))return s(e,"templates/customers");if(e.startsWith("metaobject/",10))return s(e,"templates/metaobject");if(e.startsWith("templates/"))return s(e,"templates");if(e.startsWith("config/"))return s(e,"config");if(e.startsWith("locales/"))return s(e,"locales");if(e.startsWith("assets/"))return s(e,"assets")}var Rp=e=>t=>{let r=new In((0,_t.parse)(t)),n=Tp(r,t,e);switch((0,_t.basename)(r.dir)){case"sections":return n("sections",4,-1);case"snippets":return n("snippets",3,-1);case"layout":return n("layout",2);case"templates":return n("templates",1,-1);case"customers":return n("templates/customers",1,-1);case"metaobject":return n("templates/metaobject",1,-1);case"config":return n("config",7,-1);case"locales":return n("locales",8,-1);case"assets":return n("assets",14,-1)}};l();var kp=Y(require("zlib"));var Pp=["b","kb","mb","gb","tb"];function sr(e){return Rt(e)?Fr(e):Fr(lt(e))}function lt(e){return H(e)?Ln(e).toString().length:e.toString().length}function Fr(e){if(e===0)return`${h("0")}b`;let t=parseInt(String(Math.floor(Math.log(e)/Math.log(1024))),10);return t===0?`${h(`${e}`)}${Pp[t]}`:`${h((e/1024**t).toFixed(1))}${Pp[t]}`}function qt(e,t){let r=lt(e);return{isSmaller:r>t||r===t,gzip:Fr(kp.default.gzipSync(e).length),before:Fr(t),after:Fr(r),saved:Fr(t-r)}}l();async function Np(e,t,r,n){return le(r)||r===!1?n("put",e,t):H(r)?n("put",e,r):xt(r)?n("put",e,r.toString()):n("put",e,t)}function fD(e){e===0&&Qe("Empty output directory",[`There are no files within ${ye((0,_p.relative)(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${ye.bold("syncify build")} command and try again.`]);let t=new Map,r=0;for(let n of i.sync.themes){n.target.length>r&&(r=n.target.length);let s=`${n.store}:${n.target}`;t.has(s)||t.set(s,{active:t.size===0,log:null,size:e,processed:"",failed:0,success:0,retry:0,progress:fs(e),get theme(){return n},errors:{remote:new Map,retry:new Set}})}return t}async function jp(e){Ft("Upload"),Kt("Preparing",{style:"spinning"}),A.start("upload");let t=Yi(i.sync),r=Ze(e),n=Rp(i.dirs.output),s=Op.default.sync(`${i.dirs.output}/**`).sort(),o=fD(s.length),a=null;await dt(500);function u(p){let d=p.toRaw();a!==null&&(clearInterval(a),a=null),it(p.toString()),a=setInterval(()=>{d[3]=we(m(R("Elapsed",O.bold(A.now("upload")))))+`
`,it(pe(d))},100)}function c(p){Kt.stop();let{file:d,theme:g}=p,b=`${g.store}:${g.target}`,D=o.get(b),v=X().NL.Line(Mr(d.namespace),h.whiteBright).NL.Line(R("Elapsed",O.bold(A.now("upload"))),m).Line(R("Duration",O(A.stop(d.uuid))),m).Line(R("Size",O(sr(d.size))),m).Newline();p.status===0?(D.errors.retry.has(d.input)&&(D.retry-=1,D.errors.retry.delete(d.input)),D.success+=1,D.progress.increment(1),D.processed=ye(d.key)):p.status===1?(D.errors.retry.has(d.input)||(D.retry+=1,D.errors.retry.add(d.input)),D.processed=gt(d.key)):p.status===2&&(D.errors.retry.has(d.output)&&(D.retry-=1,D.errors.retry.delete(d.output)),D.errors.remote.has(d.output)||(D.failed+=1,D.progress.increment(1),D.errors.remote.set(d.output,p),D.processed=xe(d.key)));for(let[W,{success:j,size:te,failed:q,retry:Z,progress:Q,processed:We}]of o){let[Pe,K]=W.split(":"),de=`${h(`${j}`)} ${$("of")} ${h(`${te}`)}`,ke=h(`${Z}`),F=h(`${q}`);v.Line(`${h(K.toUpperCase())}  ${I}  ${Pe}`,O).NL.Line(We).NL.Line(R("uploaded",de),O).Line(R("retrying",ke),Z>0?gt:O).Line(R("failures",F),q>0?xe:O).NL.Insert(Q.render()).Newline()}u(v)}Lt.on("upload",c),await dt(500);for(let p of s){let d=n(p),g;try{if(g=(await(0,Ip.readFile)(d.output)).toString(),d.size=lt(g),!r)await t.assets("put",d,g);else{let D=e.apply({...d},g);await Np(d,g,D,t.assets)}}catch(b){Ge("Error reading output file",{file:d.key,source:d.relative})(b)}}await se.onIdle(),clearInterval(a),it.clear(),Ft("Errors");let f=!1;for(let{errors:p,theme:d,failed:g,success:b,size:D}of o.values())if(p.remote.size>0){let v=h(`${d.target.toUpperCase()} THEME`),W=h(`${g}`),j=`${h(`${b}`)} ${$("of")} ${h(`${D}`)}`;T(X().Line(`${v}  ${I}  ${d.store}`).NL.Line(R("uploaded",j),Ee).Line(R("failures",W),xe).NL.toString());let te=1;for(let q of p.remote.values()){let Z=`${(te<10?"0":"")+te++}`;_e(),ct(xe.bold(`ERROR ${Z}`)),ht(q.file.input,q.error)}Wi(),f=!0}await dt(500),f||T(gr(m("No errors!"))),it(gr("Uploaded Completed")),process.exit(0)}l();var pd=Y(zr()),md=Y(require("fast-glob"));l();var to=require("fs-extra");var wu=require("path");function pD(e,t){let{type:r,relative:n,kind:s,key:o,output:a}=e;return async u=>{r!==17&&(i.mode.watch&&i.watch.unwatch(a),await(0,to.writeFile)(a,u).catch(Ge("Error writing asset to output directory",{file:n,source:n}))),i.mode.hot&&(Ue(o,{hot:!0}),s==="JavaScript"?i.wss.script(e.uuid,(0,wu.basename)(o)):s==="CSS"&&i.wss.stylesheet(e.uuid,(0,wu.basename)(o))),i.env.sync!==0&&i.mode.build===!1&&await t("put",e,u)}}async function ro(e,t,r){let n=pD(e,t),s=await(0,to.readFile)(e.input).catch(Ge("Error reading asset file",{file:e.relative,source:e.relative}));if(s){let o=s.toString();if(wl(o))return i.mode.watch&&nr(e,"empty file"),null;if(!Ze(r))return n(o);let a=r.apply({...e},o);if(le(a)||a===!1)return n(o);if(kn(a))return n(a);if(xt(a))return n(a.toString());await n(o)}return null}l();var Xm=require("html-minifier-terser"),Uu=require("path"),Jn=require("fs-extra");l();var Iu=require("fs-extra");l();var Gm=Y(Wm(),1);l();var qm=(e,t,r)=>r<0?-1:e.lastIndexOf(t,r);function c1(e,t){let r=qm(e,`
`,t-1),n=t-r-1,s=0;for(let o=r;o>=0;o=qm(e,`
`,o-1))s++;return{line:s,column:n}}function po(e,t,{oneBased:r=!1}={}){if(t<0||t>=e.length&&e.length>0)throw new RangeError("Index out of bounds");let n=c1(e,t);return r?{line:n.line+1,column:n.column+1}:n}var l1=e=>`\\u{${e.codePointAt(0).toString(16)}}`,Cr=class e extends Error{name="JSONError";fileName;codeFrame;rawCodeFrame;#n;constructor(t){super(),this.#n=t,Error.captureStackTrace?.(this,e)}get message(){let{fileName:t,codeFrame:r}=this;return`${this.#n}${t?` in ${t}`:""}${r?`

${r}
`:""}`}set message(t){this.#n=t}},Hm=(e,t,r=!0)=>(0,Gm.codeFrameColumns)(e,{start:t},{highlightCode:r}),f1=(e,t)=>{let r=t.match(/in JSON at position (?<index>\d+)(?: \(line (?<line>\d+) column (?<column>\d+)\))?$/);if(!r)return;let{index:n,line:s,column:o}=r.groups;if(s&&o)return{line:Number(s),column:Number(o)};if(n=Number(n),n===e.length){let{line:a,column:u}=po(e,e.length-1,{oneBased:!0});return{line:a,column:u+1}}return po(e,n,{oneBased:!0})},p1=e=>e.replace(/(?<=^Unexpected token )(?<quote>')?(.)\k<quote>/,(t,r,n)=>`"${n}"(${l1(n)})`);function Jr(e,t,r){typeof t=="string"&&(r=t,t=void 0);let n;try{return JSON.parse(e,t)}catch(a){n=a.message}let s;e?(s=f1(e,n),n=p1(n)):n+=" while parsing empty string";let o=new Cr(n);throw o.fileName=r,s&&(o.codeFrame=Hm(e,s),o.rawCodeFrame=Hm(e,s,!1)),o}l();function Ou(e,t){if(i.warnings.has(t)){let r=i.warnings.get(t);return r.has(e)?r.get(e):r.set(e,new Set).get(e)}return i.warnings.set(t,new Map([[e,new Set]])).get(t).get(e)}function Fn(e,t){let r=Ou("Shared Schema",e.input),n=X({type:"warning"}).NL.Wrap(t.message,re).NL.Context({stack:!1,type:"warning",entries:{reference:t.$ref,schema:t.schema,section:e.relative,shared:t.shared}});r.add(n.toString())}var Um=e=>(t,r)=>{let n=Ou("sass",e.input),s=X({type:"warning"}).NL.Wrap(t,re);if(w("span",r)){if(le(r.span))return;let{span:a}=r,f=(w("context",a)?a.context:a.text).slice(a.start.offset,a.end.offset).split(`
`);if(f.length<15){let p=Te(a.end.line).length,d=a.start.line+1;for(let g of f){let b=Te(d++),D=p-b.length,v=D===0?"":" ".repeat(D);s.Trim(`   ${v+k(b)} ${C.trim} ${g}`)}}}let o=s.NL.Wrap(r.stack,re).NL.Context({stack:!1,entries:{source:e.relative,deprecated:r.deprecation?"Yes":"No"}}).toString();n.has(o)||n.add(o),i.mode.build||T(Hr(re(R("warning",fe(Te(n.size),Bt("warning",n.size)))+hn.warning)))};function zm(e,t){let r=Ou("postcss",e.input),n=pe(yf(t.node.toString(),{line:"yellow",span:Rt(t.endLine)?{start:t.line,end:t.endLine}:{start:t.line,end:t.endLine}}),wa({stack:!1,entries:{column:t.column,file:e.relative,plugin:t.plugin}}));r.has(n)||(r.add(n),An(n))}l();function Vm(e){return i.liquid.terse.liquid.minifySchema===!1?i.json.useTab?JSON.stringify(e,null,"	".repeat(i.json.indent)):JSON.stringify(e,null,i.json.indent):JSON.stringify(e,null,0)}async function m1(e){let r=(await(0,Iu.readFile)(e.input)).toString(),n=r.search(/{%-?\s*schema/);if(n<0)return[r,null,null];let s=r.indexOf("%}",n+2)+2,o=r.slice(s),a=s+o.search(/{%-?\s*endschema/);if(a<0)return qe("Missing {% endschema %} tag in file.",{suffix:e.relative,notify:{title:"Invalid Syntax",message:"Missing {% endschema %} tag in file."}}),null;try{let u=Jr(r.slice(s,a));return[r.slice(0,s),u,r.slice(a)]}catch(u){return qe(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base} in ExtractSchema`}}),u instanceof Cr&&wn(u,e),null}}function d1(e,t){let r=[];for(let n=0,s=t.length;n<s;n++){if(!w("$ref",t[n])){r.push(t[n]);continue}let[o,a]=t[n].$ref.split(".");if(i.section.shared.has(o)){let u=i.section.shared.get(o);w(a,u.schema)?B(u.schema[a])?r.push(...u.schema[a]):_(u.schema[a])&&(w("settings",u.schema[a])?r.push(...u.schema[a].settings):r.push(u.schema[a])):i.mode.build?Fn(e,{shared:u.uri,$ref:t[n].$ref,schema:"settings",message:[`An unknown Shared Schema reference key of ${h(t[n].$ref)} was provided.`,`There is no such key ${h(a)} within the shared schema.`]}):ot(`undefined $ref ${h(a)} in ${h(o)} `,e.base)}else i.mode.build?Fn(e,{shared:a,$ref:t[n].$ref,schema:"settings",message:[`An unknown Shared Schema file reference ${h(t[n].$ref)} was provided`,`to ${h("settings")} within section file ${h(e.base)}. There is no known shared`,"schema file using that name."]}):ot(`unknown $ref ${h(t[n].$ref)} `,e.base)}return r}function h1(e,t){let r=[];for(let n=0,s=t.length;n<s;n++)if(w("$ref",t[n])){let[o,a]=t[n].$ref.split(".");if(i.section.shared.has(o)){let u=i.section.shared.get(o);w(a,u.schema)?B(u.schema[a])?r.push(...u.schema[a]):r.push(u.schema[a]):i.mode.build?Fn(e,{shared:a,$ref:t[n].$ref,schema:"blocks",message:[`An unknown Shared Schema key reference of ${h(t[n].$ref)} was provided`,`to the ${h("blocks")} within section file ${h(e.base)}. The shared schema`,`file exists, but the key ${h(a)} does not.`]}):ot(`undefined $ref ${h(a)} in ${h(o)} `,e.base)}else i.mode.build?Fn(e,{shared:a,$ref:t[n].$ref,schema:"blocks",message:[`An unknown Shared Schema file reference ${h(t[n].$ref)} was provided`,`to ${h("blocks")} within section file ${h(e.base)}. There is no known shared`,"schema file using that name."]}):ot(`unknown $ref ${h(t[n].$ref)} `,e.base)}else{let o={};for(let a in t[n])a!=="settings"&&(o[a]=t[n][a]);if(o.type==="@app"){r.push(o);continue}if(o.settings=[],w("settings",t[n]))for(let a of t[n].settings)if(w("$ref",a)){let[u,c]=a.$ref.split(".");if(i.section.shared.has(u)){let f=i.section.shared.get(u);w(c,f.schema)?B(f.schema[c])?o.settings.push(...f.schema[c]):_(f.schema[c])&&(w("settings",f.schema[c])?o.settings.push(...f.schema[c].settings):o.settings.push(f.schema[c])):i.mode.build?Fn(e,{shared:c,$ref:t[n].$ref,schema:`blocks ${I} settings`,message:[`An unknown Shared Schema key reference of ${h(t[n].$ref)} was provided`,`to the ${h("blocks")} schema id ${h(a.id)} within section file`,`${h(e.base)}. The shared schema file exists, but the key ${h(c)} does not.`]}):ot(`undefined $ref ${h(c)} in ${h(u)} `,e.base)}else i.mode.build?Fn(e,{shared:c,$ref:t[n].$ref,schema:`blocks ${I} settings`,message:[`An unknown Shared Schema file reference ${h(t[n].$ref)} was provided`,`to ${h("blocks")} schema id ${h(a.id)} within section file ${h(e.base)}.`,"There is no known shared schema file using that name."]}):ot(`unknown $ref ${h(a.$ref)} `,e.base)}else o.settings.push(a);r.push(o)}return r}async function g1(e){try{let t=await(0,Iu.readFile)(e.input),r=dr(t);if(w(e.input,i.cache.schema)&&i.cache.checksum[e.input]===r&&i.section.shared.has(e.name))return i.section.shared.get(e.name);i.cache.checksum[e.input]=r;let n=t.toString();if(n.trim().length===0)return ot("empty file","no shared schema defined"),null;let s=Jr(n.toString());w("$schema",s)&&delete s.$schema,w("$description",s)&&delete s.$description;for(let o in s)if(_(s[o]))w("$description",s[o])&&delete s[o].$description;else if(B(s[o]))for(let a of s[o])w("$description",a)&&delete a.$description;return i.section.shared.set(e.name,{uri:e.input,schema:s}).get(e.name)}catch(t){return qe(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),t instanceof Cr&&wn(t,e),null}}async function ju(e){let t=await m1(e);if(t===null)return null;let[r,n,s]=t;if(n===null)return r;let o=He(n);return o("settings")&&(n.settings=d1(e,n.settings)),o("blocks")&&(n.blocks=h1(e,n.blocks)),pe(r.trimEnd(),`
`,Vm(n),`
`,s.trimStart())}async function Jm(e,t,r){let n=await g1(e);if(n===null)return null;let s=jr(i.cache.schema[n.uri]),o=await Dr(s,a=>mt(e.data(a),"data",{get(){return i.cache.sections[a]}}));Xt("Shared Schema",`${o.length} ${Bt("section",o.length)}`);for(let a of o){let u=await ju(a);Ue(a.key),await t("put",a,u),i.mode.hot&&(e.type===4?i.wss.section(a.name):a.type!==10&&a.type!==9&&await se.onIdle().then(()=>i.wss.replace()))}}l();var vn=require("path"),Gs=require("fs-extra");var Hu=Y(require("postcss"));var Mu=null,Wu=null;async function Gu(e){if(e==="sass")return Mu=require("sass"),Ne(Mu)===!1;if(e==="tailwind")return Wu=require("tailwindcss"),Ne(Wu)===!1}function Ym(e,t,r){let n=Ze(r)?{...e}:!1;return async s=>{if(Ne(s))return null;let o;if(n!==!1){let u=r.apply({...e},Ln(s));le(u)||u===!1?o=s:(H(u)||xt(u))&&(o=Te(u))}else o=s;i.cache.checksum[e.input]=dr(o),(0,Gs.writeFile)(e.output,o).catch(Ge("Error writing stylesheet to output",{input:e.relative,output:(0,vn.relative)(i.cwd,e.output)}));let a=qt(s,e.size);if(a.isSmaller?e.kind==="SCSS"||e.kind==="SASS"||e.kind==="Tailwind"?et(e.kind,h("CSS"),a.before,A.stop(e.uuid)):et("CSS",a.before,`gzip ${a.gzip}`):e.kind==="Tailwind"?Mt("Tailwind",a.before,a.after,a.saved):Mt("CSS",a.before,a.after,a.saved),i.mode.hot&&i.wss.stylesheet(e.uuid,(0,vn.basename)(e.key)),e.kind!=="Tailwind"&&Ue(e.key),t===null)return o;await t("put",e,o)}}async function y1(e){if(le(e.data)||Ae(e.data.sass)&&e.data.sass===!1)return mo(e);let t=_(e.data.sass)?be(i.processor.sass.config,e.data.sass):i.processor.sass.config;if(e.ext===".scss"||e.ext===".sass"){i.mode.watch&&A.start();try{let{css:r,sourceMap:n}=Mu.compile(e.data.input,{loadPaths:t.include,sourceMapIncludeSources:e.data.postcss,sourceMap:t.sourcemap,style:t.style,alertColor:!1,alertAscii:!1,quietDeps:t.quietDeps,charset:e.data.snippet===!1,logger:{debug:s=>console.log("DEBUG",s),warn:Um(e)}});if(t.sourcemap){let s=(0,vn.join)(i.dirs.sourcemaps.styles,e.base+".map");(0,Gs.writeFile)(s,JSON.stringify(n)).catch(Ge("Error writing SASS Source Map file to the cache directory",{file:(0,vn.relative)(i.cwd,s),source:e.relative}))}return Xt("SASS Dart",A.stop()),e.size=lt(r),{css:r,map:n}}catch(r){return i.mode.watch&&(A.clear(),qe(e.relative,{notify:{title:"SCSS Transform Error",message:`SASS Dart failed to process ${e.base}`}}),Nf(e,r)),null}}return mo(e)}async function ho(e,t){for(let r in i.processor.tailwind.map)if(i.processor.tailwind.map[r].has(e.input)){let n=Lp(i.style[r].input);if(le(n))continue;A.start(n.uuid),n.kind="Tailwind";let s=await D1(n);H(s)&&t.push([n,s])}return t}async function D1(e){i.mode.hot&&A.start(e.uuid);let t=Ym(e,null,null),r=await mo(e),n=await Km(e,r.css,r.map);return n===null?null:e.data.snippet?t(qu(n,e.data.attrs)):t(n)}async function mo(e){try{let t=await(0,Gs.readFile)(e.input);return e.size=lt(t),{css:t.toString(),map:null}}catch(t){return A.clear(),qe(e.relative,{notify:{title:"Read Error",message:`File ${e.base} could not be read`}}),Yt(t,{source:e.relative,transform:"style"}),null}}async function Km(e,t,r){let{data:n}=e,o=Ae(n.tailwind)===!1&&n.tailwind?[Wu(n.tailwind)].concat(n.postcss):n.postcss;try{i.mode.watch&&e.kind!=="Tailwind"&&A.start();let a=await(0,Hu.default)(o).process(t,{from:n.rename,to:n.rename,map:r?{prev:r,inline:!1,absolute:!0}:null});i.mode.watch&&e.kind!=="Tailwind"&&Xt("PostCSS",A.stop());let u=a.warnings();if(u.length>0)for(let c of u)zm(e,c);return a.css.toString()}catch(a){return i.mode.watch&&(A.clear(),qe(e.relative,{notify:{title:"PostCSS Transform Error",message:`PostCSS failed to process ${e.base}`}}),_f(e,a)),null}}function qu(e,t){return t.length>0?`<style ${t.join(" ")}>${e}</style>`:`<style>${e}</style>`}async function go(e,t,r){i.mode.watch&&A.start(),i.mode.hot&&A.start(e.uuid);let n=Ym(e,t,r);try{if(le(e.data)||Ae(e.data.sass)&&e.data.sass===!1)return mo(e);let s=await y1(e);if(s===null)return null;if(Ne(Hu.default)||le(e.data)||!e.data.postcss&&!e.data.snippet)return n(s.css);if(e.data.postcss){let o=await Km(e,s.css,s.map);return o===null?null:e.data.snippet?n(qu(o,e.data.attrs)):n(o)}return e.data.snippet?n(qu(s.css,e.data.attrs)):n(s.css)}catch(s){return console.log(s),null}}var b1=/{%-?\s*#[\s\S]+?%}/g,w1=/{%-?\s*comment\s*-?%}[\s\S]+?{%-?\s*endcomment\s*-?%}/g,x1=/{%-?\s*liquid[\s\S]+?%}/g,S1=/[^,:'"a-zA-Z0-9=] +[^'"a-zA-Z0-9=}{]/g;function yo(e){return i.liquid.terse.markup.removeComments?e.replace(w1,"").replace(b1,""):e}function F1(e){return e.replace(x1,t=>`
`+t.replace(/#.*?$/gm,"")+`
`)}function v1(e,t){if(!i.liquid.terse.liquid.minifySchema)return yo(t);let r=t.search(/{%-?\s*schema/);if(r>-1){let n=t.indexOf("%}",r+2)+2,s=t.slice(n),o=n+s.search(/{%-?\s*endschema/);if(o>-1){let a=JSON.parse(t.slice(n,o)),u=JSON.stringify(a,null,0),c=t.slice(0,n)+u+t.slice(o);return yo(c)}br(e.relative)}return yo(t)}function C1(e){return i.liquid.terse.liquid.stripTrims,e}async function E1(e,t){try{return await(0,Xm.minify)(t,i.liquid.terse.markup)}catch(r){return br(e.relative),console.error(r),null}}var $1=e=>async t=>{if(!i.mode.terse)return(0,Jn.writeFile)(e.output,t).catch(Ge("Error writing liquid file to output",{input:e.relative,output:(0,Uu.relative)(i.cwd,e.output)})),et(e.kind,Mr(e.namespace),Fr(e.size),A.now()),t;let r;if(e.base.endsWith(".js.liquid"))r=t.replace(S1,"").replace(/(?<=[:,]) +(?=['"{[])/g,"").replace(/{{%/g,"{ {%").replace(/%}}/g,"%} }").replace(/(?<=[%}]})\s+(?=[\]}])/g," ").replace(/>\s+(?=[{[])/,">").replace(/(?<=[}\]])\s<\//g,"</");else if(e.base.endsWith(".json.liquid"))r=JSON.stringify(JSON.parse(t),null,0);else{let o=e.type===4?v1(e,t):yo(t),a=await E1(e,o);r=F1(a)}if(Xt("HTML Terser",A.now()),Ne(r))return(0,Jn.writeFile)(e.output,t).catch(Ge("Error writing liquid file to output",{input:e.relative,output:(0,Uu.relative)(i.cwd,e.output)})),t;let n=C1(r).replace(/^\s+/gm,"");(0,Jn.writeFile)(e.output,n);let s=qt(t,e.size);return s.isSmaller?et(`${e.namespace} ${s.before} \u2192 gzip ${s.gzip}`):Mt("Liquid",s.before,s.after,s.saved),n};async function Yr(e,t,r){i.mode.watch&&A.start();let s=(await(0,Jn.readFile)(e.input)).toString();if(e.type===4){let u=await ju(e);if(u===null)return null;s=u}e.size=lt(s);let o=$1(e),a;if(Ze(r)){let u=r.apply({...e},s);le(u)||u===!1?a=await o(s):H(u)?a=await o(u):xt(u)&&(a=await o(u.toString()))}else a=await o(s);if(i.cache.checksum[e.input]=dr(a),i.processor.tailwind.map!==null&&e.type!==9){let u=await ho(e,[[e,a]]);for(let c of u)Ue(c[0].key),await t("put",c[0],c[1])}else Ue(e.key),await t("put",e,a);i.mode.hot&&(e.type===4?i.wss.section(e.name):await se.onIdle().then(()=>i.wss.replace()))}l();var Do=require("fs-extra");function zu(e,t){try{return Jr(t)}catch(r){return qe(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),r instanceof Cr&&wn(r,e),null}}function A1(e,t=0){try{return JSON.stringify(e,null,t)}catch(r){return console.log(r),null}}async function Us(e,t,r=0){let n=A1(t,r);if(Bl(n))return i.mode.watch&&A.stop(),t;if(r===0){let s=qt(n,e.size);Mt("JSON",s.before,s.after,s.saved)}else et("JSON",e.namespace,Fr(e.size),A.now());return e.type===15||(0,Do.writeFile)(e.output,n).catch(Ge("Error writing JSON",{file:e.relative})),n}async function Kr(e,t,r){i.mode.watch&&A.start();let n=await(0,Do.readFile)(e.input).catch(Ge("Error reading JSON file",{file:e.relative}));if(xt(n)){let s=n.toString();if(e.size=lt(s),s.trim().length===0)return nr(e,"empty file"),null;if(e.type===7&&e.name==="settings_data")for(let c of i.sync.themes){let f=await Gf("config/settings_data.json",c)}let o=zu(e,s);if(o===null)return null;if(De(o))return nr(e,"empty file"),null;let a=i.json.indent;if(i.json.terse.enabled)switch(e.type){case 4:i.json.terse.options.groups&&(a=0);break;case 14:i.json.terse.options.assets&&(a=0);break;case 8:i.json.terse.options.locales&&(a=0);break;case 1:i.json.terse.options.templates&&(a=0);break;case 7:i.json.terse.options.config&&(a=0);break;case 15:i.json.terse.options.metafields&&(a=0);break;case 6:i.json.terse.options.metaobject&&(a=0);break}let u;if(Ze(r)){let c=r.apply({...e},o);le(c)?u=await Us(e,o,a):B(c)||_(c)?u=await Us(e,Te(c),a):H(c)?u=await Us(e,zu(e,c),a):xt(c)&&(u=await Us(e,zu(e,c.toString()),a))}else u=await Us(e,o,a);if(i.cache.checksum[e.input]=dr(u),e.type!==9&&i.processor.tailwind.map!==null){let c=await ho(e,[[e,u]]);for(let f of c)await t("put",f[0],f[1]),Ue(f[0].key)}else Ue(e.key),await t("put",e,u);i.mode.hot&&await se.onIdle().then(()=>i.wss.replace())}}l();var bo=require("fs-extra"),Vu=Y(require("esbuild")),Xr=require("path");async function Zm(e){e.watch.clear();let t=await Vu.default.build(e.esbuild);i.mode.terse&&i.mode.build&&(e.size=lt(t.outputFiles[0].text)),i.mode.watch?await Qm(e,t.metafile.inputs):(e.watch.has(e.input)||e.watch.add(e.input),i.watch.has(e.input)||i.watch.add(e.input))}async function Qm(e,t){let r=[],{cwd:n,watch:s,mode:o}=i;for(let a in t){if(a.indexOf("/node_modules/")>-1)continue;let u=(0,Xr.join)(n,a);e.watch.has(u)||e.watch.add(u),s.has(u)||s.add(u),o.watch&&r.push(u)}o.watch&&await Dl().then(()=>{for(let a of e.watch)a.indexOf("/node_modules/")>-1||e.watchCustom!==null&&e.watchCustom(a)||w(a.slice(n.length+1),t)||(e.watch.delete(a),s.unwatch(a))})}function T1(e,t){return t.length>0?`<script ${t.join(" ")}>${e}</script>`:`<script>${e}</script>`}function L1(e){return kn("Function",e)?function(t,r){let n=e.apply({...t},r);return n===!1?(ct("cancelled"),null):kn("String",n)?(ct("augment"),n):xt(n)?(ct("augment"),n.toString()):r}:!1}async function wo(e,t,r){if(!e.data)return;i.mode.watch&&A.start(),i.mode.hot&&A.start(e.uuid);let n=L1(r),s=e.data.length;for(let o of e.data){let{key:a,input:u,output:c,snippet:f,attrs:p,esbuild:{format:d}}=o;try{let{metafile:g,outputFiles:b,warnings:D}=await Vu.default.build(o.esbuild);s>1&&(_e(),ct((0,Xr.relative)(i.cwd,u))),i.mode.watch&&await Qm(o,g.inputs),D.length>0&&void 0;for(let{text:v,path:W}of b)if(W.endsWith(".map")){let j=(0,Xr.join)(i.dirs.sourcemaps.scripts,`${e.base}.map`);(0,bo.writeFile)(j,v).catch(Ge("Error writing JavaScript Source Map to cache",{file:(0,Xr.relative)(i.cwd,j),source:e.relative}))}else{if(i.mode.terse)if(isNaN(o.size))et(e.kind,`${h(d.toUpperCase())} bundle`),Mt(sr(v));else{let{before:te,after:q,saved:Z}=qt(v,o.size);et(`${h(d.toUpperCase())} bundle \u2192 ${h(sr(v))}`),Mt(null,te,q,Z)}else et(`${h(d.toUpperCase())} bundle \u2192 ${h(sr(v))}`);let j;if(f){if(j=T1(v,p),n&&(j=n(e,j),j===null))continue;await(0,bo.writeFile)(c,j).catch(Ge("Error writing inline <script> snippet",{file:e.relative})),Hf("script","snippet")}else{if(j=v,n&&(j=n(e,j),j===null))continue;await(0,bo.writeFile)(c,j).catch(Ge("Error writing JavaScript asset",{file:e.relative}))}i.mode.hot?(Ue(a,{hot:!0}),i.wss.script(e.uuid,(0,Xr.basename)(a)),t("put",o,j)):i.mode.build||(Ue(a),await t("put",o,j))}}catch(g){w("errors",g)&&(A.clear(),qe(e.relative,{notify:{title:"JavaScript Error",message:`Transform failed for ${e.base}`}}),i.errors.add(u),g.errors.forEach(Of))}}s>1&&_e()}l();var ed=Y(require("svgo")),td=Y(require("svg-sprite")),or=require("path"),Yn=require("fs-extra");async function B1(e){let t=await(0,Yn.readFile)(e);return[e,t.toString(),lt(t)]}function R1(e){return new Promise(function(t,r){e.compile((n,s)=>{if(n)return r(n);for(let o in s)for(let a in s[o])t(s[o][a].contents.toString())})})}function P1(e,t,r){async function n(s){let o=ne({},e);i.mode.watch&&A.start(),o.kind="Sprite",s.snippet?(o.namespace="snippets",o.key=(0,or.join)("snippets",_s(o,s.rename)),o.output=(0,or.join)(i.dirs.output,o.key)):(o.key=(0,or.join)("assets",_s(o,s.rename)),o.output=(0,or.join)(i.dirs.output,o.key));let a=s.sprite===!0?i.processor.sprite:s.sprite,u=new td.default(a),c=await Dr(jr(s.input),B1).catch(Ge("Error reading an SVG file",{file:o.base,source:o.relative}));if(c){let f=c.filter(([b,D])=>rd(D)?(nr((0,or.relative)(i.cwd,b),"Liquid Detected"),!1):!0);o.size=0;for(let[b,D,v]of f)u.add(b,null,D),o.size=o.size+v;let p=await R1(u),d=f.length;Xt("SVG Sprite",`${d} ${Bt("SVG",d)}`,A.stop()),await(0,Yn.writeFile)(o.output,p).catch(Ge("Error writing SVG Sprite",{file:o.key,caller:e.relative}));let g=qt(p,o.size);g.isSmaller?et(`${o.kind} ${g.before}`,`gzip ${g.gzip}`):Mt(o.kind,g.before,g.after,g.saved),t&&(Ue(o.key),await t("put",o,p))}}return n}function rd(e){return/^(?:{{[\s\S]+?}}|{%[\s\S]+?%})|[^"'](?:{{[\s\S]+?}}|{%[\s\S]+?%})[^'"]/m.test(e)}function k1(e){if(/<path[^>]*[a-zA-Z"'\s](>)(?!\s*<\/path>)/g.test(e)){let r=`${m(`<${$("path")}>`)}`,n=`${Ee(`<${$("path")} />`)}`;return et("SVG",r,n,"patched solidus"),e.replace(/(<path[^>]*[a-zA-Z"'\s])(>)(?!\s*<\/path>)/g,"$1 /$2")}return e}function N1(e,t,r){let n=ne({},e);async function s(o){i.mode.watch&&A.start(),o.snippet?(n.namespace="snippets",n.key=(0,or.join)("snippets",_s(n,o.rename)),n.output=(0,or.join)(i.dirs.output,n.key)):(n.key=(0,or.join)("assets",_s(n,o.rename)),n.output=(0,or.join)(i.dirs.output,n.key));let a=o.svgo===!0?i.processor.svgo:o.svgo,c=(await(0,Yn.readFile)(n.input)).toString();if(rd(c))return nr(n,"Liquid Detected"),null;let f=k1(c);n.size=lt(f);let p;try{p=ed.default.optimize(f,a)}catch(b){return qe(n.relative,{notify:{title:"Transform Error",message:`SVGO failed to optimize ${n.key}`}}),Yt(b,{source:n.relative,output:n.key,processor:"SVGO"}),null}Xt("SVGO",A.stop());let{data:d}=p,g=qt(d,n.size);g.isSmaller?et(`${n.kind} ${g.before} \u2192 gzip ${g.gzip}`):Mt(n.kind,g.before,g.after,g.saved),await(0,Yn.writeFile)(n.output,d).catch(Ge("Error writing SVG",{file:n.key,caller:e.relative})),t&&(Ue(n.key),await t("put",n,d))}return s}async function xo(e,t,r){i.mode.watch&&A.start();let n=P1(e,t,r),s=N1(e,t,r),o=e.data.length;for(let a=0;a<o;a++){let u=e.data[a];a>0&&i.mode.watch&&qi(e),u.format==="sprite"?await n(u):u.format==="file"&&await s(u)}}l();var $o=require("path"),Nr=require("fs-extra");var nc=Y(require("zlib")),sc=Y(require("cbor")),ud=Y(ad());var ar=new yn;function z1(e){let t=(0,Nr.readFileSync)(e),r=nc.default.gunzipSync(t);return sc.default.decode(r)}function Qr(e,t){return async()=>{let r=await sc.default.encodeAsync(t,{omitUndefinedProperties:!0,canonical:!0}),n=nc.default.gzipSync(r);return n[9]=3,(0,ud.default)(e,n)}}async function cd(){i.cache.uri=ln(null);let e=(0,$o.join)(i.cwd,"node_modules",".cache");(0,Nr.existsSync)(e)||(0,Nr.mkdirSync)(e);let t=(0,$o.join)(e,"syncify");(0,Nr.existsSync)(t)||(0,Nr.mkdirSync)(t);for(let r of hi)i.cache.uri[r]=(0,$o.join)(t,`${r}.bin`),(0,Nr.existsSync)(i.cache.uri[r])?i.cache[r]=z1(i.cache.uri[r]):(i.cache[r]={},ar.add(Qr(i.cache.uri[r],i.cache[r])));if(i.cmd.cache)return V1()}function V1(e=null){if(e===null){for(let t of hi)pn(i.cache[t])||(i.cache[t]=G(),ar.add(Qr(i.cache.uri[t],i.cache[t])));return ar.onIdle()}return i.cache[e]={},ar.add(Qr(i.cache.uri[e],i.cache[e]))}function ld(){return ar.onIdle()}function Kn(e=null){if(e===null){for(let t of hi)pn(i.cache[t])||ar.add(Qr(i.cache.uri[t],i.cache[t]));return ar.onIdle()}else return ar.add(Qr(i.cache.uri[e],i.cache[e]))}function fd(e,t=NaN){let r=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return isNaN(t)===!1?Jt(`${r}.${t}`,i.cache.pages)?i.cache.pages[r][t]:(w(r,i.cache.pages)?i.cache.pages[r][t]={}:i.cache.pages[r]={[t]:{}},ar.add(Qr(i.cache.uri.pages,i.cache.pages)),i.cache.pages[r][t]):(w(r,i.cache.pages)||(i.cache.pages[r]={},ar.add(Qr(i.cache.uri.pages,i.cache.pages))),i.cache.pages[r])}function Vs(e,t){let r=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return w(r,i.cache.pages)?i.cache.pages[r][t.id]=t:i.cache.pages[r]={[t.id]:t},ar.add(Qr(i.cache.uri.pages,i.cache.pages)),i.cache.pages[r][t.id]}function J1(){let e={stats:{total:0,errors:0,skipped:0,bundled:0}};for(let t of nl)e[t]={group:t,time:"",size:0,files:[],report:null};return e}async function Ao(e){A.start("build"),i.mode.export||(_e(),Mf("Build"),_e());let t=new Set,r=X({type:"error"}),n=X().Newline(),s=J1(),o=De(i.filters)===!1,a=Is(i.paths,i.dirs.output),u=(0,pd.default)(jr(i.watch.values())),c=await(0,md.default)("**",{absolute:!0,cwd:i.dirs.input}),f=i.cache.paths;for(let g of c.filter(u)){let b=a(g);if(!le(b))switch(b.type){case 9:s.styles.files.push(b);break;case 10:s.scripts.files.push(b);break;case 4:s.sections.files.push(b);break;case 2:s.layouts.files.push(b);break;case 3:s.snippets.files.push(b);break;case 8:s.locales.files.push(b);break;case 7:s.configs.files.push(b);break;case 1:s.templates.files.push(b);break;case 16:s.pages.files.push(b);break;case 14:s.assets.files.push(b);break;case 15:s.metafields.files.push(b);break;case 11:for(let{uuid:D,format:v,input:W}of b.data)if(!t.has(D))if(t.add(D),v==="sprite")s.svgs.files.push(b);else for(let j of W)s.svgs.files.push(a(j));break}}function p(g,b){return A.start(g.group),async function(D){A.start(D.uuid),s.stats.total+=1;try{f[D.output]=D.input;let v=D.ext===".json"?await Kr(D,e):await b(D,e);return v===null||isNaN(D.size)?(s.stats.skipped+=1,{name:D.base,input:D.relative,time:A.stop(D.uuid),output:D.key,error:"Skipped File"}):(s.stats.bundled+=1,{name:D.base,input:D.relative,output:D.key,error:null,time:A.stop(D.uuid),size:qt(v,D.size)})}catch(v){return s.stats.errors+=1,r.Line(v.message),{name:D.base,input:D.relative,output:D.key,time:A.stop(D.uuid),error:v.message}}}}async function d(g,b){let D=o&&w(g,i.filters)?i.filters[g]:null;if(D&&D.includes(g)===!1)return 0;let v=s[g];v.size=v.files.length,v.report=await Dr(v.files,p(v,b),{stopOnError:!0}),v.time=A.stop(g);let W=v.report.length,j=h(W<10?` ${W}`:`${W}`),te=W===1?"  ":" ";n.Line(R(g,`${j} ${Bt("file",W)}${te}${Oe(v.time)}`))}if(await d("svgs",xo),await d("layouts",Yr),await d("templates",Yr),await d("sections",Yr),await d("snippets",Yr),await d("locales",Kr),await d("configs",Kr),await d("assets",ro),await d("styles",go),await d("scripts",wo),await Kn(),i.mode.export===!1&&i.mode.publish===!1){if(n.NL.Dash("Completed",m).NL.Line(R("version",`${i.vc.number}`)).Line(R("processed",`${h(`${s.stats.total}`)} files`)).Line(R("bundled",`${h(`${s.stats.bundled}`)} files`)).Line(R("skipped",`${h(`${s.stats.skipped}`)} files`)).Line(R("duration",A.now("build"))).Line(R("warnings",h(`${i.warnings.size}`))).Line(R("errors",h(`${s.stats.errors}`))),i.warnings.size>0){n.NL.Dash("Warnings",m).Newline();let g,b=0;for(let D of i.warnings.keys())for(let[v,W]of i.warnings.get(D)){g!==v?(b=1,g=v):(b=b+1,n.Ruler()),n.Warn(`${h("WARNING")} ${Gc}${h(`${b}`)}`,re).Newline("yellow").Warn(g,re);for(let j of W)n.Insert(j)}T(n.NL.End(i.log.group).BR.toString(O))}else T(n.NL.End(i.log.group).BR.toString(O));process.exit(0)}}l();l();var Lo=require("fs-extra"),Bo=Y(require("gray-matter")),yd=Y(require("markdown-it")),Ro=require("@syncify/turndown");l();function Y1(e){return e==="boolean"||e==="color"||e==="date"||e==="date_time"||e==="dimension"||e==="json"||e==="money"||e==="multi_line_text_field"||e==="number_decimal"||e==="number_integer"||e==="rating"||e==="rich_text_field"||e==="single_line_text_field"||e==="url"||e==="volume"||e==="weight"}function dd(e,t){for(let r of t)for(let n of["key","type","value","namespace","description"]){if(n!=="description"&&!Ke(n,r))return br(e.relative,[`Missing ${k.bold(n)} property key value in a ${re.bold("metafields")}`,"value in frontmatter. Frontmatter metafields require you provide the following keys:","",`${m("-")} ${$("key")}`,`${m("-")} ${$("type")}`,`${m("-")} ${$("value")}`,`${m("-")} ${$("namespace")}`,"",`${m("Update the metafield entry to include")} ${$(n)}`]),!1;if(n==="type"){let s=r[n];if(!Y1(s))return br(e.relative,[`Invalid type ${k.bold(s)} provided in frontmatter ${re.bold("metafields")}`,`value. Frontmatter metafields ${h("must")} be one of following types:`,"",`${m("-")} ${$("boolean")}`,`${m("-")} ${$("color")}`,`${m("-")} ${$("date")}`,`${m("-")} ${$("date_time")}`,`${m("-")} ${$("dimension")}`,`${m("-")} ${$("json")}`,`${m("-")} ${$("money")}`,`${m("-")} ${$("multi_line_text_field")}`,`${m("-")} ${$("number_decimal")}`,`${m("-")} ${$("number_integer")}`,`${m("-")} ${$("rating")}`,`${m("-")} ${$("rich_text_field")}`,`${m("-")} ${$("single_line_text_field")}`,`${m("-")} ${$("url")}`,`${m("-")} ${$("volume")}`,`${m("-")} ${$("weigh")}`,"",`${m("Update the metafield entry to an accepted")} ${$("type")}`]),!1}}return!0}l();var Js=Y(require("axios"));async function hd(e){return Js.default.get("pages.json",e.client).then(({data:t})=>t.pages).catch(t=>ht(e.store,t.response))}async function gd(e,t){if(Wr(Ke("handle",t),Ke("title",t))){console.log("invalid fields");return}return Js.default.get("pages.json",e.client).then(({data:r})=>Ke("handle",t)&&Ke("title",t)?r.pages.find(n=>t.title===n.title&&t.handle===n.handle):Ke("handle",t)?r.pages.find(n=>t.handle===n.handle):Ke("title",t)?r.pages.find(n=>t.title===n.title):void 0).catch(r=>{console.log(r)})}async function To(e,t){i.mode.upload||A.start();let r=await Js.default.post("/pages.json",{page:t},e.client).then(({data:n})=>(Va("page",e),n.page)).catch(n=>{Dn(n.response.status)?se.add(()=>To(e,t)):Jt("response.data",n.response)&&ht(t.title,n.response)});if(r)return Vs(e.domain,r),r}async function ic(e,t,r){let{mode:n}=i;n.upload||A.start();let s=`pages/${r.id}.json`,o=await Js.default.put(s,{page:r},e.client).then(({data:a})=>(n.watch?Va("page",e):n.upload&&Lt.emit("upload","uploaded",r,{key:t.key,namespace:t.namespace,fileSize:sr(r.body_html)}),a.page)).catch(a=>{Dn(a.response.status)?se.add(()=>ic(e,t,r)):console.log(a)});if(o)return o}function X1(e){return new Ro.Turndown(i.page.import).use(Ro.GithubFlavor).turndown(e)}async function Z1(e){let t=Ts("No matching pages, select an option",{title:"No matching pages",message:"Open CLI and select an option"}),r=await prompts({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:[{title:"Create Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Select Page",description:`Select a page to overwrite on ${e.domain}`,value:2},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}]});return{resume:t,action:r.action}}async function Q1(e){let t=await hd(e);if(!t)return;let r=t.map(s=>({title:s.title,description:`https://admin.shopify.com/store/${e.store.toLowerCase()}/pages/${s.id}`,value:s.id}));return r.push({title:tui.hr(20,!1),disabled:!0,selected:!1},{title:"Create New Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}),(await prompts({type:"select",name:"action",message:"Choose Page",hint:" ",instructions:!1,choices:r})).action}async function eb(e){let t=[{title:"View Source",description:"Prints the page source in the CLI",value:5},{title:"Update Local",description:"Update the local source with remote version",value:3},{title:"Overwrite Remote",description:"Overwrite the remote version with local source",value:6},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}],r=Ts("Remote version is newer than local version",{title:"Remote \u2192 Local",message:"Remote version has changed"}),n=await prompts({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t});if(n.action===5){_e(""),T(e.body_html),_e("");let s=await prompts({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t.slice(1)});return{resume:r,action:s.action}}else return{resume:r,action:n.action}}function tb(e,t){let r={title:w("title",t)?t.title:Mr(e.name.replace(/[._-]/g," "))};if(w("handle",t)){let n,s=t.handle;/^[./]{1,2}/.test(s)&&(n=s,s=s.replace(/^[./]{1,2}/,""),ot(`handle ${Br} ${n} ${I} ${s}`,"fixed start")),/^pages\//.test(s)&&(n=s,s=s.replace(/^pages\//,""),ot(`handle ${Br} ${n} ${I} ${s}`,"fixed sub-path")),/[_/]/.test(t.handle)&&(n=s,s=s.replace(/[_/]/g,"-"),ot(`handle ${Br} ${n} ${I} ${s}`,"fixed invalid characters")),r.handle=s}else w("title",t)?r.handle=bl(t.title):r.handle=e.name.toLowerCase();if(w("author",t)&&i.page.author!==""){let n,s=t.author;/\//.test(t.author)&&(n=t.author,s=n.replace(/\//g," "),ot(`author ${Br} ${n} ${I} ${s}`,"fixed invalid characters")),r.author=s}else t.author=i.page.author;return w("published",t)?Ae(t.published)?r.published=t.published:(ot(`published ${Br} expected boolean, got ${typeof t.published}`,"defaulted to false"),r.published=!1):r.published=!0,w("template_suffix",t)&&(w("template",t)?(ot("duplicate template_suffix references","using template"),delete t.template_suffix):(t.template=t.template_suffix,delete t.template_suffix)),w("template",t)?r.template_suffix=t.template:i.page.suffixDir&&wi(i.page.global)&&i.page.global.test(e.input)!==!1&&(r.template_suffix=gn(e.input)),w("metafield",t)&&(ot("use metafields instead of metafield","sync will still process"),t.metafields=t.metafield,delete t.metafield),w("metafields",t)?_(t.metafields)&&(r.metafields=[t.metafields]):r.metafields=void 0,r}async function Dd(e,t){if(i.sync.stores.length>1)return nr(e,"pages do not support multistore sync"),null;let r=await(0,Lo.readFile)(e.input);if(pn(r.toString()))return i.mode.watch&&nr(e,"empty file"),null;let n=(0,Bo.default)(r),{data:s,content:o}=be(n),a=tb(e,s);if(B(a.metafields)&&!dd(e,a.metafields))return null;e.kind==="Markdown"?(A.start(),a.body_html=(0,yd.default)(i.page.export).render(o),et(`${h("Markdown")} ${I} ${h("HTML")} ${ie} ${A.stop()}`)):(et("HTML"),a.body_html=o);let u=i.sync.stores[0],c=u.store.toLowerCase(),f=await gd(u,{handle:a.handle});if(B(f))return br(e.relative,[`Multiple pages returned when matching on handle ${k.bold(a.handle)}`,"Syncify is unsure on how to handle this request and has cancelled the sync. Please","check the provided handle in your webshop."]),null;let p=fd(c);if(_(f)&&(a.id=f.id,p=Vs(c,f)),le(f)&&i.page.safeSync){let g=await Z1(u);if(g.action===2){let b=await Q1(u);if(b===4)return g.resume();if(b===1)return g.resume(),Ue(`/pages/${a.handle} ${I} ${a.title} ${m(`${ie} ${e.relative}`)}`),To(u,a);a.id=b,g.resume()}else return g.action===1?(g.resume(),Ue(`/pages/${a.handle} ${I} ${a.title} ${m(`${ie} ${e.relative}`)}`),To(u,a)):g.resume()}if(_(f)){let g=new Date(f.updated_at).getTime(),b=new Date(p.updated_at).getTime();if(g>b&&f.body_html!==a.body_html){let D=await eb(f);if(D.action===3){D.resume();let v=f.body_html;if(i.page.language==="markdown"){let W=X1(v);et(`${e.name}.html ${I} ${e.base}`),v=(0,Bo.stringify)(`
`+W,n.data)}i.watch.unwatch(e.input),await(0,Lo.writeFile)(e.input,v),Vs(u.domain,f),i.watch.add(e.input)}else{if(D.action===4)return D.resume();D.action===6&&D.resume()}}}if(i.mode.build)return a.body_html;Ue(`/pages/${a.handle} ${I} ${a.title} ${m(`${ie} ${e.relative}`)}`),await ic(u,e,a)&&await Kn("pages")}function bd(e){let t=Yi(i.sync),r=Is(i.paths,i.dirs.output);i.mode.hot&&i.wss.connected(),i.watch.on("all",n);function n(o,a){let u=r(a);if(!le(u)&&u.base!==i.file.base){if(u.type!==17&&qi(u),o==="change"||o==="add")s(u);else if(o==="unlink")return u.type===16?t.pages("delete",u):t.assets("delete",u)}}async function s(o){try{switch(o.type){case 10:return wo(o,t.assets,e);case 16:return Dd(o,e);case 11:return xo(o,t.assets,e);case 14:case 17:return ro(o,t.assets,e);case 5:return Jm(o,t.assets,e);case 9:return go(o,t.assets,e);case 2:case 3:return Yr(o,t.assets,e);case 6:case 1:case 4:return o.kind==="JSON"?Kr(o,t.assets,e):Yr(o,t.assets,e);case 7:case 8:return Kr(o,t.assets,e);case 15:return Kr(o,t.metafields,e)}}catch(a){console.error(a),qe(a)}}}l();l();var wd=Y(require("axios"));async function Po(e){return wd.default.get("themes.json",e.client).then(({data:t})=>t.themes).catch(t=>ht(e.store,t.response))}var Ys=require("enquirer");var Xn={pointer(e,t){let r=this.state.index===t?V("\u251C "):V("\u2502 ");return t===0?V("\u2502 ")+`
`+r:r},prefix:V("\u2502 "),styles:{primary:Ee,success:Ee,danger:ae.bold,warning:re,muted:m,disabled:m,typing:m},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}}};async function xd(e){let t=0,n=(await Po(e)).filter(({role:b})=>b!=="demo"),s=jt(n,"name"),o=n.map(b=>(b.name.length>t&&(t=b.name.length),{name:b.name,message:b.name,hint:`${s(b.name)} ${ie} ${m(b.role)}`,value:b}));o.push({role:"separator",message:V("\u2500".repeat(t))},{name:"create",message:"Create Theme"},{name:"create",message:"Remove Theme"}),i.sync.stores.length>1&&o.push({role:"separator",message:V("\u2500".repeat(t))},{name:"store",message:"Select Stores",hint:`${s("Select Stores")} ${ie} ${m("go back and choose store")}`});let{targets:a}=await(0,Ys.prompt)({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:Xn,choices:o,result(b){return Tn(this.map(b))},format(b){if(B(b)&&b.length>0)return ye(`${b.join(O(", "))}`)}}),u={domain:e.store.toLowerCase(),themes:{}},c=[];for(let b of a)u.themes["${"+b.name+"}"]=b.id,c.push({name:b.name,message:b.name,validate(D,v,W){if(W&&W.name===b.name){if(/[A-Z]/.test(D))return`
`+At.redBright("  Target name must be lowercase");if(/[0-9]/.test(D))return`
`+At.redBright("  Target name cannot contain numbers");if(/[ ]/.test(D))return`
`+At.redBright("  Target name cannot contain spaces");if(/-/.test(D))return`
`+At.redBright("  Target name cannot contain dashes")}return!0}});Xn.styles.primary=ye.italic,Xn.styles.typing=Ee;let f=JSON.stringify(u,null,2),p=await(0,Ys.prompt)({name:"stores",type:"snippet",required:a.map(({name:b})=>b),message:"Theme Targets",newline:`
`,format(){return this.state.submitted===!0&&this.state.completed!==100?Ee(`${this.state.completed}% completed`):` ${I}  ${gt(`${this.state.completed}% completed`)}`},theme:Xn,fields:c,template:f}),d={syncify:JSON.parse(p.stores.result)},g=await(0,Ys.prompt)({name:"save",type:"confirm",message:"Save Settings",theme:Xn,initial:!0,newline:`
`,format(){return/^[ty1]/i.test(this.input)?"Yes":"No"},footer:C.line+["",m("The following store and theme references will be saved"),m("to your package.json file on the syncify key property."),"",JSON.stringify(d.syncify,null,2).split(`
`).join(`
`+C.line),""].join(`
`+C.line)});console.log(g)}async function rb(){let e=jt(i.sync.stores,"store"),t=i.sync.stores.map(n=>({name:n.domain,message:n.store,hint:`${e(n.store)} ${ie} ${m(`https://${n.domain}`)}`,value:n})),{store:r}=await(0,Ys.prompt)({name:"store",type:"select",message:"Select Stores",choices:t,theme:Xn,result(){return this.focused.value},format(n){return Ee(n)}});return xd(r)}async function Sd(){return i.sync.stores.length>1?rb():xd(i.sync.stores[0])}l();var ko=require("path");var oc=require("fs-extra");async function nb(){let e=new Map,t=0;for(let r of i.sync.themes){r.target.length>t&&(t=r.target.length);let n=i.sync.stores[r.sidx],s=`${r.store}:${r.target}`,{assets:o}=await Za(r,n.client);e.has(s)||e.set(s,{active:e.size===0,log:null,number:e.size+1,size:o.length,transfers:0,warning:0,failed:0,success:0,retry:0,progress:fs(o.length),get files(){return o},get theme(){return r},errors:{local:new Map,remote:new Map,retry:new Set}})}return e}function sb(e,t,r){let n=`${h(`${e.success}`)} ${$("of")} ${h(`${e.size}`)}`,s=h(`${e.failed}`),o=h(`${e.theme.target.toUpperCase()}`);return X().Line(R(o,I),ye).NL.Line(`completed in ${m(r)}`).NL.Line(R("synced",n),O).Line(R("errors",s),e.failed>0?xe:O).Line(R("location",m.underline(t))).NL.Insert(e.progress.render()).Line.toString()}function ib(e){return X().Line(`${h(e.theme.target.toUpperCase())}  ${I}  ${e.theme.store}`,m.dim).NL.Line(`${h(bi(e.number))} in queue`,ia).NL.Line(R("synced",`${h("0")} ${$("of")} ${h(`${e.size}`)}`),m.dim).Line(R("retry",h("0")),m.dim).Line(R("errors",h("0")),m.dim).NL.Insert(e.progress.render(m.dim)).NL.toString()}async function Fd(e){let t=0,r=0;A.start("import"),Ft("Import"),Kt("Preparing",{style:"spinning"});let n=await nb();await dt(500);function s(o){Kt.stop();let{theme:a,file:u}=o,c=`${a.store}:${a.target}`,f=n.get(c),p=`https://${a.store}?preview_theme_id=${a.id}`,d=X().NL.Line(R("Duration",O(A.now("import"))),m).Line(R("Transfers",O(`${r++}`)),m).Line(R("Syncing",Ut(`${h(a.target)}  ${I}  ${a.store}`)),m).Line(R("Preview",mr(p)),m).Ruler(),g="";if(o.status===3)(0,oc.writeFileSync)(u.output,""),f.warning+=1,f.transfers+=1,f.progress.increment(1),g=re(u.key);else if(o.status===0){f.errors.retry.has(u.output)&&(f.retry-=1,f.errors.retry.delete(u.output)),f.success+=1,f.transfers+=1,f.progress.increment(1);let Z=Buffer.from(o.data.value||null,"utf8");(0,oc.writeFileSync)(u.output,Z),g=Ee(u.key)}else o.status===1?(f.errors.retry.has(u.output)||(f.retry+=1,f.errors.retry.add(u.output)),g=gt(u.key)):o.status===2&&(f.errors.retry.has(u.output)&&(f.retry-=1,f.errors.retry.delete(u.output)),f.errors.remote.has(u.output)||(f.failed+=1,f.transfers+=1,f.progress.increment(1),f.errors.remote.set(u.output,o)),g=xe(u.key));let b=`${h(`${f.success}`)} ${$("of")} ${h(`${f.size}`)}`,D=h(`${f.retry}`),v=h(`${f.failed}`),W=h(`${f.warning}`),j=X().NL.Line(`${h(f.theme.target.toUpperCase())}  ${I}  ${f.theme.store}`,ye).NL.Line(g).NL.Line(R("synced",b),O).Line(R("retry",D),f.retry>0?gt:O).Line(R("warning",W),f.warning>0?re:O).Line(R("failed",v),f.failed>0?xe:O).NL.Insert(f.progress.render()).NL.Ruler(),te=[d.toString()],q=0;for(let Z of n.values())Z.active?te.push(j.toString()):Z.log===null?(q=q+1,Z.number=q,te.push(ib(Z))):te.push(Z.log);it(pe(te))}Lt.on("import",s),t=n.size-1;for(let[o,a]of n){let[u,c]=o.split(":"),f=(0,ko.join)(i.dirs.import,u,c);A.start(o),a.active=!0;for(let{key:p}of a.files){let d=Bp(p,f),g=ne({url:a.theme.url,method:"get",params:{"asset[key]":d.key}},i.sync.stores[a.theme.sidx].client);await se.add(()=>Bs(a.theme,d,g))}await se.onIdle(),t=t-1,a.active=!1,a.log=sb(n.get(o),(0,ko.relative)(i.cwd,f),A.stop(o))}for(let{errors:o}of n.values())o.remote.size>0}l();var ur=require("fs-extra"),En=require("path"),Bd=require("fast-glob"),Rd=Y(require("adm-zip"));l();var $r=require("path");var vd=require("fast-glob");async function Cd(e){let t=await(0,vd.glob)("templates/*",{cwd:e,absolute:!0}),r=new Set,n=new Set;for(let a of t){let{name:u}=(0,$r.parse)(a);t.filter(f=>(0,$r.parse)(f).name===u).length>1&&!n.has(u)&&n.add(u)}if(n.size===0)return 1;n.size>1?ct(`${h(`${n.size}`)} mismatch template files`,{suffix:"error",type:"error"}):ct(`${h(`${n.size}`)} mismatch template file`,{suffix:"error",type:"error"});let s=Ts(`select ${h(".json")} or ${h(".liquid")} template`,{title:"Export Error",message:"Multiple templates detected"}),{action:o}=await prompts([{name:"action",type:"select",message:"Select an Option",hint:" ",instructions:!1,choices:[{title:"Select Templates",description:"Choose which templates to export",value:"select"},{title:"Export .json Templates",description:"Exports the .json templates",value:"json"},{title:"Export .liquid Templates",description:"Exports the .liquid templates",value:"liquid"},{title:"Cancel Export",value:"cancel"}]}]);if(o==="select"){let a=[];for(let u of n)a.push({name:"choice",type:"toggle",message:"templates",hint:" ",active:`${u}.json`,inactive:`${u}.liquid`,onState:({value:c})=>{c?r.add((0,$r.join)(e,"templates",`${u}.liquid`)):r.add((0,$r.join)(e,"templates",`${u}.json`))}});return await prompts(a).then(()=>s()),r}else if(o==="json"){for(let a of n)r.add((0,$r.join)(e,"templates",`${a}.json`));return s(),r}else if(o==="liquid"){for(let a of n)r.add((0,$r.join)(e,"templates",`${a}.liquid`));return s(),r}else o==="cancel"&&s();return 2}function Ed(e){e.assets===0&&e.config===0&&e.templates===0&&e.layout===0&&e.snippets===0&&e.sections===0&&Qe("Empty output directory",[`There are no files within ${ye((0,$r.relative)(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${ye.bold("syncify build")} command and try again.`])}l();var $d=Y(require("dotenv")),It=require("path"),Ht=require("fs-extra");async function Ad(){let e=null;for(let t of el){if(e=(0,It.join)(i.cwd,t),await(0,Ht.pathExists)(e))break;e=null}if(e===null)return null;try{if((0,It.extname)(e)===".json"){i.file.path=e,i.file.relative=(0,It.relative)(i.cwd,e),i.file.base=(0,It.basename)(e);let t=await(0,Ht.readFile)(e);return Di(t.toString())}else{i.file.path=e,i.file.relative=(0,It.relative)(i.cwd,e),i.file.base=(0,It.basename)(e);let t=await eo({cwd:i.cwd,filepath:e});return t.mod.syncify||t.mod.default||t.mod}}catch{let r=(0,It.join)(i.cwd,"syncify.config.json");return await(0,Ht.pathExists)(r)?(0,Ht.readJson)(r):null}}async function ac(){let e=(0,It.join)(i.cwd,"package.json");if(!await(0,Ht.pathExists)(e))throw new Error('Missing "package.json" file');try{i.pkg=await(0,Ht.readJson)(e),Jt("syncify.stores",i.pkg)?B(i.pkg.syncify.stores)?i.stores=i.pkg.syncify.stores:_(i.pkg.syncify.stores)&&De(i.pkg.syncify.stores)===!1&&(i.stores=[i.pkg.syncify.stores]):i.cmd.strap||ef(i.cwd)}catch(r){throw new Error(r)}}async function Td(e,t){let r=(0,It.join)(i.cwd,"package.json");try{let s=(await(0,Ht.readFile)(r)).toString(),o=s.indexOf('"version"'),a=s.indexOf('"',o+10)+1,u=s.indexOf('"',a+1);return s.slice(a,u)===e?(await(0,Ht.writeFile)(r,`${s.slice(0,a)}${t}${s.slice(u)}`),await ac(),!0):!1}catch(n){throw new Error(n)}}async function Ld(){let e=(0,It.join)(i.cwd,".env");if(await(0,Ht.pathExists)(e)){let t=$d.default.config({path:e});if(t.error)return Yt(t.error,{path:e}),null;i.env.file=e,i.env.vars=t.parsed}else i.cmd.setup===!1&&!i.cmd.strap&&$i(i.cwd)}async function No(e){let{themeVersion:t}=i.cache.build;A.start("export"),i.mode.build?(Ft("Build"),await Ao(e)):Ed(i.stats);let r=await Cd(i.dirs.output);if(r===2)return;r===1&&i.mode.build&&A.stop("build"),i.mode.publish?Hi("Exporting"):Ft("Export"),_e(),await(0,ur.pathExists)(i.dirs.export)||await(0,ur.mkdir)(i.dirs.export);let n=new Rd.default;for(let o of cn){let a=(0,En.join)(i.dirs.output,o);if(await(0,ur.pathExists)(a)){let c=await(0,Bd.glob)("*",{cwd:a,absolute:!0});for(let f of c){let p=`${o}/${(0,En.basename)(f)}`;(0,ur.statSync)(f).size===0?(n.addFile(p,Ln(" ")),ot(p,"empty file")):(r===1||r.has(f)===!1)&&n.addLocalFile(f,o)}}}let s=lt(n.toBuffer());if(i.vc.update!==null){await(0,ur.pathExists)(i.vc.update.dir)||await(0,ur.mkdir)(i.vc.update.dir),Ui(i.vc,"bump"),Ka(sr(s),(0,En.relative)(i.cwd,i.vc.update.zip));try{await n.writeZipPromise(i.vc.update.zip),t=i.vc.update.number}catch(o){return Yt(o,{file:i.vc.zip,details:"Failed to write zip file"})}}else{await(0,ur.pathExists)(i.vc.dir)?Ui(i.vc,"overwrite"):(await(0,ur.mkdir)(i.vc.dir),Ui(i.vc,"created")),Ka(sr(s),(0,En.relative)(i.cwd,i.vc.zip));try{await n.writeZipPromise(i.vc.zip)}catch(o){return Yt(o,{file:i.vc.zip,details:"Failed to write zip file"})}}i.pkg.version!==t&&(await Td(i.pkg.version,t)?(Xt("package.json","version bumped"),i.cache.build.themeVersion=t,await Kn("build")):ot("package.json version failed to bump","manual increment required")),A.stop("export"),i.mode.publish===!1&&(Ft(),_e(""),process.exit(0))}l();var Pd=Y(require("uWebSockets.js"));var Oo=require("fs-extra");async function kd(e){await No(e),A.start("publish"),Hi("Publishing");let t=Pd.default.App().get("/*",(n,s)=>{n.writeHeader("Access-Control-Allow-Origin","*"),n.writeHeader("Cache-Control","public, max-age=0");let o=i.vc.dir+s.getUrl();(0,Oo.existsSync)(o)?n.end((0,Oo.readFileSync)(o)):n.endWithoutBody()}).listen(i.publish.tunnelPort,n=>{n||console.log("Failed to listen to port "+i.publish.tunnelPort)});await dt(500),A.start("ngrok");let r=`${i.vc.number}.zip`;ct(m(r),{prefix:"server"});for(let n of i.sync.stores)A.start(n.domain),ct(n.domain,{prefix:"webshop",color:ye}),ct(`${h("role")} ${I} ${i.publish.publishRole}`,{prefix:"publish"}),ct(h(`v${i.vc.number}`),{prefix:"version",color:ui}),_e(),await dt(1e3),Kt("uploading",{style:"spinning",color:Ee}),await dt(2e3),Kt.update("dispatched"),await dt(2e3),Kt.update("extracting"),await dt(2e3),Kt.update("processing"),await dt(1e3),Kt.stop("done"),ct(`${h("published")} ${I} ${n.domain}`,{prefix:"status",color:Ee,suffix:A.now(n.domain)});t.close(),_e(),Ft(),_e(),await prompts([{name:"action",hint:" ",type:"select",message:"Post-Publishing",choices:[{title:"Update Config",value:"config"},{title:"Publish Themes",value:"publish"},{title:"Delete Themes",value:"delete"}]}])}l();function Nd(e){let t=e.toString().trim().toLowerCase();if(t==="v"){let r=zt(i.errors);for(let n=0,s=r.length;n<s;n++){let o=r[n];if(i.errors[o].size!==0){n>0&&Wi(),ct(h.whiteBright(o));for(let a of i.errors[o].values())H(a)&&a.length>0&&Se(a);i.errors[o].clear()}}i.mode.upload&&(Ft(),process.exit(0))}else if(t==="s"){for(let r of i.errors)H(r)&&r.length>0&&Se(r);i.errors.clear()}else if(t==="w"){let r=i.warnings[i.log.uri];for(let n of r.keys()){let s=r.get(n);if(s.size===0)continue;let o=X({type:"warning"}).Newline("yellow").Ruler().Newline("yellow").Line(n.toUpperCase(),h.yellow).Newline("yellow");for(let a of s.values())H(a)&&a.length>0&&o.Line(a);An(o.toString()),s.clear()}}}l();function Od(e){T(Wc);let t=V("-".repeat(80)),r=`
    ${h("SYNCIFY CLI  "+I+O("  v0.0.1-rc.1"))}

    ${O("Please provide a command argument.")}

    ${h("USAGE"+P)}

    $ syncify                    ${m.italic("Show this screen")}
    $ syncify {store} [theme]    ${m.italic("Store and theme targeting")}

    ${h("HELP"+P)}

    -h, --help                   ${m.italic("Print a list of all available commands")}
    -h, --help examples          ${m.italic("Print a list of command examples")}

  `;if(e.help===null)return T(r);let n=`
    ${h("SYNCIFY CLI  "+I+O("  v0.0.1-rc.1"))}

    Below are some usage examples for working with the Syncify CLI.
    The ${m("=")} character is optional and samples are using the ${m("$ sy")} alias.

    ${h("TARGETING"+P)}

    ${m("Target 1 store and 1 theme")}:
    $ sy your-store${m("=")}theme-1

    ${m("Target 1 store and 2 theme")}:
    $ sy your-store${m("=")}theme-1,some-theme,test-theme

    ${m("Target 2 stores and 1 theme")}:
    $ sy --your-store${m("=")}theme-1 --another-store${m("=")}some-theme

    ${m("Target 2 stores and 4 theme")}:
    $ sy --your-store${m("=")}theme-1,theme-2 --another-store${m("=")}some-theme,test-theme

  ${t}

    ${h("BUILDING"+P)}

    ${m("Build theme from source")}:
    $ sy --build

    ${m("Build theme with terse minification")}:
    $ sy --build --terse

    ${m("Build theme and clean")}:
    $ sy --build --clean --terse

  ${t}

    ${h("WATCHING"+P)}

    ${m("Watch 1 store and 1 theme")}:
    $ sy your-store${m("=")}theme-1 --watch

    ${m("Watch 1 store and 2 themes with hot reloading")}:
    $ sy your-store${m("=")}theme-1,theme-2 --watch --hot

    ${m("Watch 2 stores and 1 theme")}:
    $ sy --your-store${m("=")}theme-1 --another-store${m("=")}some-theme --watch

    ${m("Watch 2 stores and 2 themes")}:
    $ sy --your-store${m("=")}theme-1,theme-2 --another-store${m("=")}some-theme,test-theme --watch

    ${m("Watch 1 store with 2 themes and clean mode with hot live reloads")}:
    $ sy your-store${m("=")}theme-1,theme-2 --watch --clean --hot

    ${m("Watch 1 store with 2 themes in production mode")}:
    $ sy your-store${m("=")}theme-1,theme-2 --prod --watch

  `,s=`
    ${h("SYNCIFY CLI  "+I+O("  v0.0.1-rc.1"))}

    Welcome to the Syncify CLI. The command line utility assumes that you have
    defined stores, themes and setup credentials within a ${m(".env")} file.

    ${h("ALIASES"+P)}

      $ sy                         ${m.italic("Shorthand for syncify")}

    ${h("COMMANDS"+P)}

      $ syncify                    ${m.italic("Show this screen")}
      $ syncify {store} [theme]    ${m.italic("Store and theme targeting")}

    ${h("THEMES"+P)}

        --{store} [theme]          ${m.italic("A store reference command (run examples)")}
      -t, --theme [theme]          ${m.italic("A comma seprated list of themes")}

    ${h("PATHS"+P)}

      -c, --config    <path>       ${m.italic("Set config directory path")}
      -i, --input     <path>       ${m.italic("Set input directory path")}
      -o, --output    <path>       ${m.italic("Set output directory path")}

    ${h("MODES"+P)}

      -w, --watch                  ${m.italic("Run watch mode")}
      -b, --build                  ${m.italic("Run build mode from input")}
      -u, --upload                 ${m.italic("Run upload mode theme to stores")}
      -d, --import                 ${m.italic("Run download mode from theme and stores")}
      -e, --export                 ${m.italic("Run export mode and generate theme zip")}
      -p, --publish                ${m.italic("Run publish and create a release")}
      -r, --resource               ${m.italic("Run resource mode, resource name expected")}

    ${h("RESOURCES"+P)}

      -r, --resource themes        ${m.italic("Run the themes resource")}
      -r, --resource assets        ${m.italic("Run the theme assets resource")}
      -r, --resource pages         ${m.italic("Run the pages resource")}
      -r, --resource metafields    ${m.italic("Run the metafields resource")}
      -r, --resource redirects     ${m.italic("Run the redirects resource")}
      -r, --resource files         ${m.italic("Run the files resource")}

    ${h("ENVIRONMENT"+P)}

      --dev                       ${m.italic("Build in development mode (default)")}
      --prod                      ${m.italic("Build in production mode")}
      --hot                       ${m.italic("Run watch with hot-reloads")}

    ${h("OPERATIONS"+P)}

      --clean                     ${m.italic("Clean the output, use with modes")}
      --silent                    ${m.italic("Silent logging, only errors will print")}
      --cache                     ${m.italic("Purges the local .cache references")}

    ${h("TRIGGERS"+P)}

      --spawn  [list]             ${m.italic("Invoke a defined spawn child process/s")}
      --delete [list]             ${m.italic("Delete a remote and local file")}
      --terse  [list]             ${m.italic("invoke minify mode, accepts resource/s")}

    ${h("TRANSFORMS"+P)}

      --script                    ${m.italic("Run the script transform in isolation")}
      --style                     ${m.italic("Run the style transform in isolation")}
      --svg                       ${m.italic("Run the svg transform in isolation")}
      --image                     ${m.italic("Run the image transform in isolation")}

    ${h("UTILITY"+P)}

      -f, --filter <path>         ${m.italic("Filter operation to be used with modes")}

    ${h("VERSIONING"+P)}

      --bump patch                ${m.italic("Apply a patch version bump, use in export mode")}
      --bump minor                ${m.italic("Apply a minor version bump, use in export mode")}
      --bump major                ${m.italic("Apply a major version bump, use in export mode")}

    ${h("STRAPS"+P)}

      --strap dusk                ${m.italic("Import and generate a dusk strap")}
      --strap dawn                ${m.italic("Import and generate a dawn strap")}
      --strap silk                ${m.italic("Import and generate a silk strap")}

    ${h("HELP"+P)}

      -h, --help                  ${m.italic("Print this screen")}
      -h, --help examples         ${m.italic("Print a list of command examples")}

    ${t}

    ${m("BY \u039D\u0399\u039A\u039F\u039B\u0391\u03A3 \u03A3\u0391\u0392\u0392\u0399\u0394\u0397\u03A3")}

    ${m.underline("https://github.com/panoply")}
    ${m.underline("https://x.com/niksavvidis")}

  `;T(e.help==="examples"?n:s)}l();var og=require("chokidar");l();var uc=Y(zr());function _d(){if(!w("transform",i.config)||!w("json",i.config.transform))return;let{json:e}=i.config.transform;if(Ne(e)||(_(e)||ee({option:"processors",name:"json",expects:"{}",provided:typeof e}),De(e)))return;let t=ut("liquid configuration");for(let r in e){if(r==="indent")if(Rt(e[r])){i.json[r]=e[r];continue}else ee({option:"json",name:r,provided:e[r],expects:"number"});if(r==="comments")if(Ae(e[r])){i.json[r]=e[r];continue}else ee({option:"json",name:r,provided:e[r],expects:"boolean"});if(r==="useTab")if(Ae(e[r])){i.json[r]=e[r];continue}else ee({option:"json",name:r,provided:e[r],expects:"boolean"});if(r==="exclude"){let n=H(e[r])?[e[r]]:e[r];if(B(n)){i.json[r]=(0,uc.default)(Ot(e[r]));continue}else ee({option:"json",name:r,provided:n[r],expects:"string | string[]"})}if(r==="terse"&&i.mode.terse===!0){if(De(e.terse))i.json.terse.enabled=!1,t("Terse option is empty, minification will not apply");else if(Ae(e.terse)&&e.terse===!0)i.json.terse.enabled=!0;else if(_(e.terse)){i.json.terse.enabled=!0;for(let n in e.terse)if(n!=="exclude"&&w(n,i.json.terse))if(Ae(e.terse[r])){i.json.terse[n]=e.terse[n];continue}else ee({option:`json ${I} terse`,name:n,provided:e.terse[n],expects:"boolean"});else n==="exclude"&&(i.json.terse.exclude=(0,uc.default)(Ot(e.terse[r])))}}}}l();var cr=require("path"),cc=require("fs-extra");async function Id(){i.paths.schema.input!==null&&i.paths.schema.input.size>0&&(await ob(),await ab(),mt(i.section,"schema",{get(){return i.cache.schema}}))}async function ob(){for(let e of i.paths.schema.input){let t=(0,cr.extname)(e),r=(0,cr.basename)(e,t);i.section.shared.has(r)&&Qe(`Duplicated shared schema file name ${h.yellow(r+t)} detected.`,["Shared Schema JSON file names must be unique across the workspace.","Update the file name and try again."]);try{let s=(await(0,cc.readFile)(e)).toString();if(s.trim().length===0)continue;let o=Jr(s.toString());w("$schema",o)&&delete o.$schema,w("$description",o)&&delete o.$description;for(let a in o)if(_(o[a]))w("$description",o[a])&&delete o[a].$description;else if(B(o[a]))for(let u of o[a])w("$description",u)&&delete u.$description;i.cache.schema[e]=new Set,i.section.shared.set(r,{uri:e,schema:o})}catch(n){return qe((0,cr.relative)(i.cwd,e),{notify:{title:"JSON Error (setSharedSchema)",message:`Error when parsing ${(0,cr.basename)(e)}`}}),n instanceof Cr&&wn(n,{relative:(0,cr.relative)(i.cwd,e),base:(0,cr.basename)(e)}),null}}}async function ab(){let{shared:e}=i.section,t=ut("Section Schema");for(let r of i.paths.sections.input){let n=await(0,cc.readFile)(r),s=dr(n);if(w(r,i.cache.schema)&&i.cache.checksum[r]===s)continue;i.cache.checksum[r]=s;let o=n.toString(),a=o.search(/{%-?\s*schema/);if(a<0)continue;let u=o.indexOf("%}",a+2)+2,c=o.slice(u),f=u+c.search(/{%-?\s*endschema/);if(f<0){t("Liquid Parse Error",(0,cr.relative)(i.cwd,r));continue}try{let p=JSON.parse(o.slice(u,f)),d=He(p);if(d("settings")){for(let g of p.settings)if(w("$ref",g)){let b=g.$ref.split(".")[0];e.has(b)&&i.cache.schema[e.get(b).uri].add(r)}}if(d("blocks"))for(let g of p.blocks){let b=He(g);if(b("$ref")){let D=g.$ref.split(".")[0];e.has(D)&&i.cache.schema[e.get(D).uri].add(r)}if(b("settings")){for(let D of g.settings)if(w("$ref",D)){let v=D.$ref.split(".")[0];e.has(v)&&i.cache.schema[e.get(v).uri].add(r)}}}}catch{w(r,i.cache.sections)&&delete i.cache.sections[r],t("JSON Parse Error",(0,cr.relative)(i.cwd,r))}}}l();l();var _o=require("enquirer");var Ks={prefix:V("\u2502 "),styles:{primary:Ee,success:Ee,danger:ae.bold,warning:re,muted:m,disabled:m,typing:m},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}},pointer(e,t){let r=this.state.index===t?C.stub.trimEnd()+" ":C.trim+" ";return t===0?C.trim+`
`+r:r}};async function jd(e){let t=0,r={...Ks},s=(await Po(e)).filter(({role:D})=>D!=="demo"),o=jt(s,"name"),a=s.map(D=>(D.name.length>t&&(t=D.name.length),{name:D.name,message:D.name,hint:`${o(D.name)} ${ie} ${m(D.role)}`,value:D}));a.push({role:"separator",message:V("\u2500".repeat(t))},{name:"create",message:"Create Theme",value:"create"});let{targets:u}=await(0,_o.prompt)({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:r,choices:a,result(D){return Tn(this.map(D))},format(D){if(B(D)&&D.length>0)return ye(`${D.join(O(", "))}`)}}),c={domain:e.store.toLowerCase(),themes:{}},f=[];for(let D of u)c.themes["${"+D.name+"}"]=D.id,f.push({name:D.name,message:D.name,validate(v,W,j){if(j&&j.name===D.name){if(/[A-Z]/.test(v))return`
`+At.redBright("  Target name must be lowercase");if(/[0-9]/.test(v))return`
`+At.redBright("  Target name cannot contain numbers");if(/[ ]/.test(v))return`
`+At.redBright("  Target name cannot contain spaces");if(/-/.test(v))return`
`+At.redBright("  Target name cannot contain dashes")}return!0}});r.styles.primary=ye.italic,r.styles.typing=Ee;let p=JSON.stringify(c,null,2),d=await(0,_o.prompt)({name:"stores",type:"snippet",required:u.map(({name:D})=>D),message:"Theme Targets",newline:`
`,theme:r,fields:f,template:p,format(){return this.state.submitted===!0&&this.state.completed!==100?Ee(`${this.state.completed}% completed`):` ${I}  ${gt(`${this.state.completed}% completed`)}`}}),g={syncify:JSON.parse(d.stores.result)},b=await(0,_o.prompt)({name:"save",type:"confirm",message:"Save Settings",theme:r,initial:!0,newline:`
`,format(){return/^[ty1]/i.test(this.input)?"Yes":"No"},footer:C.line+["",m("The following store and theme references will be saved"),m("to your package.json file on the syncify key property."),"",JSON.stringify(g.syncify,null,2).split(`
`).join(`
`+C.line),""].join(`
`+C.line)});console.log(b)}async function Md(e){let t=i.mode.metafields||i.mode.pages||i.mode.redirects||i.mode.release||i.mode.publish||i.mode.themes,r=i.mode.watch||i.mode.upload||i.mode.import,n,s=[],o=!1;t&&i.cmd.stores.length===0&&i.mode.themes===!1&&Rr({expected:"syncify <store>",message:["You have not provided a store to target, which is required when","there are multiple stores defined in your setup. Because you are","executing syncify in a mode which will transfers files to a remote","source, it is unable to determine which store to target."],fix:["Provide the store target name as the first command argument","followed by theme target/s and other flags."]}),i.mode.themes&&i.stores.length>0?s=Cp():(n=i.cmd.stores.length===0?i.stores.map(({domain:a})=>a):i.cmd.stores,s=i.stores.filter(({domain:a})=>fa(a,n)),o=s.length>1);for(let a of s){let u=`${a.domain}.myshopify.com`.toLowerCase(),c=Ep(a.domain),f=i.sync.stores.push({store:a.domain,password:a.password,domain:u,client:c,queue:o})-1;if(i.mode.themes)continue;if(i.mode.metafields||i.mode.pages)return;let p=[];w("theme",e)?p=e.theme.split(","):w(a.domain,e)?p=e[a.domain].split(","):w("themes",a)&&(p=zt(a.themes)),p.length===0&&await jd(i.sync.stores[f]);for(let d of p)w(d,a.themes)||Zl({type:"theme",expected:zt(a.themes).join(","),provided:d,message:[`Unknown theme target (${k(d)}) provided to ${k(a.domain)} store`,`Your ${k("package.json")} file contains no such theme using this name.`],fix:[`Provide an ${k("expected")} theme target or update/add an existing target.`,`You have ${k(`${p.length}`)} theme targets defined for ${k(a.domain)}:`,`

`,`${an} ${p.join(`
${an} `)}`,`

`]}),i.sync.themes.push({target:d,sidx:f,store:u,id:a.themes[d],url:`/themes/${a.themes[d]}/assets.json`})}r&&i.sync.themes.length===0&&Rr({expected:"-t <theme>",message:["You have not provided a theme to target, which is required","when running syncify in this resource mode."],fix:[`Provide a theme name to target following a ${k("-t")} or ${k("--theme")} flag.`,"Theme targets should be passed as the 2nd argument, the 1st argument should be store name/s."]}),i.sync.stores.length===0&&Qe("Unknown, missing or invalid store/theme targets",["Check your store config"]),i.env.sync=i.sync.stores.length===1&&i.sync.themes.length===1?1:2}l();var Wd=Y(require("fast-glob")),Io=Y(zr());async function qd(){let e=Nn(i.dirs.input),t=ut("paths"),r=(s,o,a)=>{if(Ne(o))return[e(a)];if(B(o))return o.map(e);if(H(o))return[e(o)];ee({option:"paths",expects:"string | string[]",provided:o,name:s})},n=(s,o)=>{let a=i.config.paths[s];if(_(a)){if(De(a))return t(`Undefined path/s on "${s}", using fallback`,"{}"),[e(o)];let u=0;"*"in a&&"[name]"in a&&(t("Multiple fallback rename keys, paths will be merged",'"*" and "[name]"'),B(a["*"])?(B(a["[name]"])?a["*"]=[...a["*"],...a["[name]"]]:H(a["[name]"])&&a["*"].push(a["[name]"]),delete a["[name]"]):B(a["[name]"])&&(B(a["*"])?a["[name]"]=[...a["[name]"],...a["*"]]:H(a["*"])&&a["[name]"].push(a["*"]),delete a["*"]));let c=[],f=[];for(let p in a)if(B(a[p])){let d=[p,a[p].map(g=>{let b=e(g);return i.watch.add(b),b})];u===0&&(u=d[1].length),p==="*"||p==="[name]"?c.push(...d):f.push(d)}else if(H(a)){let d=[p,[e(a[p])]];u===0&&(u=d[1].length),i.watch.add(d[1]),p==="*"||p==="[name]"?c.push(...d):f.push(d)}else Ne(a[p])&&ee({option:`paths ${I} ${s}`,expects:"string | string[]",provided:a[p],name:p});if(u===0)return t(`Unresolved path/s in "${s}"`,"{}"),[e(o)];i.paths[s].rename=[[(0,Io.default)(c[1]),c[0]]];for(let[p,d]of f)i.paths[s].rename.push([(0,Io.default)([...c[1].map(g=>g[0]!=="!"?`!${g}`:g),...d]),p]);return c[1].concat(f.flatMap(p=>p[1]))}else return r(s,a,o)};for(let s of un){let o=[];s==="snippets"||s==="sections"?o=n(s,`${s}/*`):s==="customers"||s==="metaobject"?o=r(s,i.config.paths[s],`templates/${s}/*`):o=r(s,i.config.paths[s],`${s}/*`),i.paths[s].match=(0,Io.default)(o),s!=="metafields"&&s!=="redirects"&&(await(0,Wd.default)(o,{cwd:i.cwd})).forEach(a=>{i.paths[s].input.add(a),i.watch.add(a)})}}l();var Or=require("path");function lc(e){let t=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{1,2})$/);if(!t)throw new Error("Unable to parse: "+e);return{patch:parseInt(t[3],10),minor:parseInt(t[2],10),major:parseInt(t[1],10)}}function Hd(e){let t=He(i.cache.build);if(t("syncifyVersion")||(i.cache.build.syncifyVersion=i.version),t("themeVersion")||(i.cache.build.themeVersion=i.pkg.version),i.cache.build.themeVersion!==i.pkg.number){i.vc.update=lc(i.pkg.version),i.vc.update.number=i.pkg.version,i.vc.update.dir=(0,Or.join)(i.dirs.export,`v${i.vc.major}`),i.vc.update.zip=(0,Or.join)(i.vc.update.dir,`${i.vc.number}.zip`);let r=lc(i.cache.build.themeVersion);i.vc.number=i.cache.build.themeVersion,i.vc.patch=r.patch,i.vc.minor=r.minor,i.vc.major=r.major,i.vc.dir=(0,Or.join)(i.dirs.export,`v${i.vc.major}`),i.vc.zip=(0,Or.join)(i.vc.dir,`${i.vc.number}.zip`)}else{let r=lc(i.pkg.version);i.vc.number=i.pkg.version,i.vc.patch=r.patch,i.vc.minor=r.minor,i.vc.major=r.major,i.vc.dir=(0,Or.join)(i.dirs.export,`v${i.vc.major}`),i.vc.zip=(0,Or.join)(i.vc.dir,`${i.vc.number}.zip`)}e.release!==null&&(i.vc.update=G(i.vc),e.release==="patch"?(i.vc.update.patch=i.vc.patch+1,i.vc.update.bump="patch"):e.release==="minor"?(i.vc.update.minor=i.vc.minor+1,i.vc.update.bump="minor"):e.release==="major"&&(i.vc.update.major=i.vc.major+1,i.vc.update.bump="major",i.vc.update.dir=(0,Or.join)(i.dirs.export,`v${i.vc.update.major}`)),i.vc.update.number=`${i.vc.update.major}.${i.vc.update.minor}.${i.vc.update.patch}`,i.vc.update.zip=(0,Or.join)(i.vc.update.dir,`${i.vc.update.number}.zip`))}l();var Qd=Y(Yd());l();var Kd=require("child_process");function pc(e,t,r){let n=(0,Kd.spawn)(t.cmd,t.args,{stdio:"pipe"});t.pid=n.pid,async function s(){if(i.env.ready===!1)return await dt(100),s();n.stdio[0].on("data",r.bind({name:e,type:"stdin"})),n.stdio[0].on("data",r.bind({name:e,type:"stdout"})),n.stdio[2].on("data",r.bind({name:e,type:"stderr"})),i.spawn.streams.set(e,n)}()}l();var Xd=!1,Zd=!1,mc=new Set;function jo(e,t){if(!Xd){Xd=!0;for(let r of mc)r();e&&process.exit(128+t)}}function Mo(e){return mc.add(e),Zd||(Zd=!0,process.once("exit",jo),process.once("SIGINT",jo.bind(void 0,!0,2)),process.once("SIGTERM",jo.bind(void 0,!0,15)),process.on("message",t=>{t==="shutdown"&&jo(!0,-128)})),()=>mc.delete(e)}function eh(){let{mode:e,spawn:t,config:r}=i;if(!w("spawn",r)||Ne(r.spawn))return;_(r.spawn)||ee({option:"config",name:"spawn",provided:r.spawn,expects:"{ build: {}, watch: {} }"});let n=He(r.spawn),s=null;if(e.build&&n("build")&&(s="build"),e.watch&&n("watch")&&(s="watch"),!(Ne(e)||Ne(r.spawn[s]))&&(_(r.spawn[s])||ee({option:"spawn",name:s,provided:r.spawn[s],expects:"{ build: {}, watch: {} }"}),!De(r.spawn[s]))){for(let o in r.spawn[s]){let a=r.spawn[s][o];if(H(a)){i.spawn.commands[o]=G();let u=a.trimStart().indexOf(" ")>-1?a.trimStart().split(" "):[a];i.spawn.commands[o].cmd=u.shift().trim(),i.spawn.commands[o].args=u,i.spawn.commands[o].pid=NaN,pc(o,i.spawn.commands[o],Ja(o))}else if(B(a)){let u=a.shift().trim();i.spawn.commands[o]=G({cmd:u,args:a,pid:NaN}),pc(o,i.spawn.commands[o],Ja(o))}else ee({option:"spawn",name:s,provided:r.spawn[s],expects:"string | string[]"})}Pt.spawns(i),Mo(()=>{se.pause(),se.clear(),_e(""),t.streams.forEach((o,a)=>{T(`- ${m(`pid: #${o.pid} (${a}) process exited`)}`),(0,Qd.default)(o.pid)}),_e(""),t.streams.clear(),process.exit(0)})}}l();var dc=require("path"),th=Y(zr());async function rh(){if(!w("script",i.config.transform)||!i.config.transform.script||De(i.config.transform.script))return;let e=ut("Script Transform");w("entryPoints",i.processor.esbuild)&&(e("processor option is not allowed and was omitted","entryPoints"),delete i.processor.esbuild.entryPoints);let t=Hn(i.config.transform.script,{addWatch:!1,flatten:!0}),r=pa(["input","watch","rename","snippet"]);w("absWorkingDir",i.processor.esbuild)||(i.processor.esbuild.absWorkingDir=i.cwd);for(let n of t){let s=n.snippet?"snippets":"assets",{name:o}=Vr(n.input,n.rename),a;!o.endsWith(".js")&&!o.endsWith(".mjs")?a=o+".js":o.endsWith(".cjs")?nt({option:"transform.script",name:"rename",value:o,expects:".js | .mjs",reason:["You cannot use cjs extensions in Shopify themes.","The .cjs extension is for Node, themes are a web environment. "]}):a=o;let u=He(n),c=G();if(n.snippet){if(a.endsWith(".liquid")||(a=a+".liquid"),c.attrs=[],c.snippet=!0,c.namespace="snippets",c.type=3,u("attrs")&&De(n.attrs)===!1)if(B(n.attrs))for(let f=0;f<n.attrs.length;f++){let p=n.attrs[f];B(p)?c.attrs.push(p.join("")):ee({option:"transform.script",name:`attrs[${f}]`,provided:p,expects:"string[]"})}else ee({option:"transform.script",name:"attrs",provided:n.attrs,expects:"[ [ name: string, value: string ] ]"})}else c.attrs=[],c.snippet=!1,c.namespace="assets",c.type=10;if(c.uuid=tr(),c.snippet=n.snippet,c.input=n.input,c.output=(0,dc.join)(i.dirs.output,s,a),c.key=(0,dc.join)(s,a),c.size=NaN,c.watch=null,c.watchCustom=null,c.esbuild=null,i.processor.esbuild.outfile=c.output,i.mode.watch&&i.watch.unwatch(c.output),u("esbuild"))if(Ae(n.esbuild)||Ne(n.esbuild))c.esbuild=De(r)?be(i.processor.esbuild):be(i.processor.esbuild,r);else if(_(n.esbuild)){let f=He(n.esbuild);for(let p in["entryPoints","outdir","watch","absWorkingDir","watch","write","logLevel","incremental"])p==="entryPoints"&&f(p)?e('Option is not allowed, use Syncify "input" instead',p):p==="outdir"&&f(p)?e("Option is not allowed, Syncify will handle output location",p):p==="watch"&&f(p)?e("Option is not allowed, declare watch paths using Syncify",p):f(p)&&e("Option is not allowed and will be ignored",p);f("plugins")&&w("plugins",i.processor.esbuild)&&n.esbuild.plugins.unshift(...i.processor.esbuild.plugins),c.esbuild=De(r)?be(i.processor.esbuild,n.esbuild):be(i.processor.esbuild,n.esbuild,r)}else ee({option:"script",name:"esbuild",provided:typeof n.esbuild,expects:"boolean | null | {}"});else c.esbuild=De(r)?be(i.processor.esbuild):be(i.processor.esbuild,r);if(c.esbuild.entryPoints=[c.input],i.mode.watch)if(!u("watch"))c.watch=new Set;else{B(n.watch)||ee({option:"script",name:"watch",provided:n.watch,expects:"string[]"});let f=Ot(n.watch);c.watchCustom=(0,th.default)(f),c.watch=new Set(f)}else c.watch=new Set;try{await Zm(c)}catch(f){rf(f,{message:["Syncify has failed to initialize due to a script transform prebuild error.","Script transforms execute runtime builds but the compile process did not complete.","This is typically due to invalid JavaScript syntax but may also be caused due to invalid","transform options being passed."],solution:["You will need to correct the error encountered. Alternatively you can skip Syncify","from applying the transform by excluding the file."],entries:{processor:"ESBuild"}})}i.mode.terse&&(c.esbuild=be(c.esbuild,{exclude:void 0})),i.script.push(c)}}l();var hc=Y(require("fast-glob")),gc=Y(zr());var Ar=require("path"),yc=require("fs-extra");async function cb(){let e=await gu("postcss.config",{tsconfig:null});if(e!==null&&(i.processor.postcss.file=e.path,i.processor.postcss.config=e.config,i.watch.add(e.path)),i.processor.tailwind.installed=hu(i.pkg,"tailwindcss"),i.processor.tailwind.installed){await Gu("tailwind")||Qe("Unable to dynamically import TailwindCSS",["Ensure you have installed tailwindcss"]);let r=await gu("tailwind.config",{tsconfig:null});r!==null&&(i.processor.tailwind.file=r.path,i.processor.tailwind.config=r.config,i.watch.add(r.path))}i.processor.sass.installed=hu(i.pkg,"sass"),i.processor.sass.installed&&(await Gu("sass")||Qe("Unable to dynamically import SASS",["Ensure you have installed sass"]))}async function nh(){if(!w("style",i.config.transform)||!i.config.transform.style||De(i.config.transform.style))return;await cb();let e=ut("Style Transform"),t=Hn(i.config.transform.style,{addWatch:!1,flatten:!0}),r=Nn(i.config.input);for(let n=0;n<t.length;n++){let s=t[n],o=He(s),a=G();if(a.uuid=tr(),a.input=s.input,a.watch=null,a.attrs=[],a.postcss=null,a.sass=!1,a.tailwind=null,o("postcss")?B(s.postcss)&&s.postcss.length>0?mt(a,"postcss",{get(){return s.postcss}}):Ae(s.postcss)&&s.postcss!==!1&&Ne(s.postcss)===!1?mt(a,"postcss",{get(){return be(i.processor.postcss.config)}}):ee({option:"style",name:"postcss",provided:a.postcss,expects:"boolean | []"}):mt(a,"postcss",{get(){return be(i.processor.postcss.config)}}),o("tailwind")){i.processor.tailwind.installed||Sa("tailwindcss");let f=_(s.tailwind);if(f||Ae(s.tailwind)&&s.tailwind!==!1&&Ne(s.tailwind)===!1){let p=be(f?s.tailwind:i.processor.tailwind.config);if(B(p.content)&&De(p.content)&&(p.content=[(0,Ar.join)(i.dirs.input,"**","*.{js,ts,jsx,tsx,vue,svelte,liquid,json,schema}")]),mt(a,"tailwind",{get(){return p}}),i.mode.watch&&B(a.tailwind.content)){let d=await(0,hc.default)(a.tailwind.content);i.processor.tailwind.map===null&&(i.processor.tailwind.map=G()),i.processor.tailwind.map[n]=new Set(d)}}else ee({option:"style",name:"tailwind",provided:a.tailwind,expects:"boolean | {}"})}if(o("sass")&&s.sass!==!1&&i.processor.sass.installed===!0){let f=_(s.sass);if((Ae(s.sass)||f)&&Ne(s.sass)===!1)if(i.processor.sass.installed||Sa("sass"),f===!1)mt(a,"sass",{get(){return s.sass}});else{a.sass=be(i.processor.sass.config,s.sass);for(let p in s.sass)if(p==="sourcemap"||p==="warnings"||p==="quietDeps")Ae(s.sass[p])?a.sass[p]=s.sass[p]:ee({option:"sass",name:p,provided:s.sass[p],expects:"boolean"});else if(p==="style")H(s.sass[p])===!1&&ee({option:"sass",name:p,provided:s.sass[p],expects:"string"}),s.sass[p]==="expanded"||s.sass[p]==="compressed"?a.sass[p]=s.sass[p]:nt({option:"sass",name:p,value:s.sass[p],expects:"expanded | compressed"});else if(p==="includePaths")if(B(s.sass[p])){let d=[];for(let g of s.sass[p]){let b=(0,Ar.join)(i.cwd,g);await(0,yc.exists)(b)?d.push(b):e("Cannot resolve sass includePath entry",g)}a.sass[p]=d}else ee({option:"sass",name:p,provided:s.sass[p],expects:"string[]"})}else ee({option:"style",name:"sass",provided:s.sass,expects:"boolean | {}"});s.snippet===!1&&!/\.s[ac]ss/.test((0,Ar.extname)(a.input))&&e("Input is not a sass file",a.input)}let u=Vr(s.rename);o("rename")&&Ne(s)===!1&&(H(s.rename)===!1&&ee({option:"styles",name:"rename",provided:s.rename,expects:"string"}),u=Vr(a.input,s.rename),/[a-zA-Z0-9_.-]+/.test(u.name)===!1&&ee({option:"sass",name:"rename",provided:u,expects:"Characters: [a-zA-Z0-9_.-]"}),u.name.endsWith(".css")?a.rename=u.name:u.name.endsWith(".scss")?u.name=u.name.replace(".scss",".css"):u.name.endsWith(".sass")?u.name=u.name.replace(".sass",".css"):u.name.endsWith(".liquid")||(u.name=u.name+".css"));let c=[];if(i.mode.watch&&o("watch")){B(s.watch)||ee({option:"styles",name:"watch",provided:s.watch,expects:"string[]"});for(let f of s.watch){let p=await(0,hc.default)((0,Ar.join)(i.cwd,r(f)));p.length===0&&f[0]!=="!"&&e("Cannot resolve watch glob/path uri",f);for(let d of p)await(0,yc.exists)(d)?c.push(d):e("No file exists in path",d)}c.push(a.input);for(let f of c)i.watch.add(f);a.watch=(0,gc.default)(c)}else a.watch=(0,gc.default)([a.input]),i.watch.add(a.input);if(_(a.sass)&&(a.sass.include.unshift(i.cwd,(0,Ar.join)(i.cwd,u.dir)),Jt("sass.include",s)&&(a.sass.include=s.sass.include.map(f=>(0,Ar.join)(i.cwd,f)))),o("snippet")&&(Ae(s.snippet)||ee({option:"styles",name:"snippet",provided:s.snippet,expects:"boolean"}),a.snippet=s.snippet,a.snippet===!0&&o("attrs")&&De(s.attrs)===!1))if(B(s.attrs))for(let f=0;f<s.attrs.length;f++){let p=s.attrs[f];B(p)?a.attrs.push(p.join("")):ee({option:"style",name:`attrs[${f}]`,provided:p,expects:"string[]"})}else ee({option:"style",name:"attrs",provided:s.attrs,expects:"[ string[] ]"});a.snippet?(w("rename",a)||(a.rename=u.name),(u.name.endsWith(".liquid")===!1||a.rename.endsWith(".liquid")===!1)&&(a.rename=u.name+".liquid"),i.paths.transforms.set(a.input,9),i.mode.watch&&i.watch.unwatch((0,Ar.join)(i.dirs.output,"snippets",a.rename))):(a.rename=u.name,i.mode.watch&&i.watch.unwatch((0,Ar.join)(i.dirs.output,"assets",u.name))),i.style.push(a)}}l();var sh=Y(zr());var lb=["minifySchema"],fb=["minifyCSS","minifyJS","collapseWhitespace","removeComments"];function ih(){let{mode:e}=i;if(!w("liquid",i.config.transform)||De(i.config.transform.liquid))return;_(i.config.transform.liquid)||ee({option:"transform",name:"liquid",expects:"{}",provided:typeof i.config.transform.liquid});let t=ut("liquid configuration");if(w("terse",i.config.transform.liquid)&&e.terse===!0){if(De(i.config.transform.liquid.terse))i.liquid.terse.enabled=!1,t("Terse option is empty, minification will not apply");else if(Ae(i.config.transform.liquid)&&i.config.transform.liquid===!0)i.liquid.terse.enabled=!0;else if(_(i.config.transform.liquid.terse)){i.liquid.terse.enabled=!0;let{terse:r}=i.config.transform.liquid;for(let n of lb)w(n,r)&&(i.liquid.terse.liquid[n]=r[n]);for(let n in fb)w(n,r)&&(i.liquid.terse.markup[n]=r[n]);w("exclude",r)&&(i.liquid.terse.exclude=(0,sh.default)(Ot(r.exclude)))}}}l();var Wo=require("path");async function oh(){if(!w("svg",i.config.transform)||!i.config.transform.svg||De(i.config.transform.svg))return;let e=ut("SVG Transform"),t=Hn(i.config.transform.svg,{addWatch:!0,flatten:!1});for(let r of t){let n=r.input.filter(a=>(0,Wo.extname)(a)===".svg"?!0:(e("Excluded file which is not an SVG type",(0,Wo.relative)(i.cwd,a)),!1));if(n.length===0){e("No SVG file paths were resolved");continue}let s=He(r),o=G();o.uuid=tr(),o.input=new Set(n),o.format=null,o.match=r.match,o.rename=r.rename,o.snippet=r.snippet,s("svgo")&&s("sprite")&&nt({option:"transform",name:"svg",value:"svgo AND sprite",expects:"svgo OR sprite"}),s("format")?r.format==="file"||r.format==="sprite"?(o.format=r.format,r.format==="file"?o.svgo=!0:o.sprite=!0):nt({option:"transform > svg",name:"format",value:r.format,expects:'"sprite" | "file"'}):s("svgo")?(o.format="file",o.svgo=_(r.svgo)?be(i.processor.svgo,r.svgo):!0):s("sprite")?(o.format="sprite",o.sprite=_(r.sprite)?be(i.processor.sprite,r.sprite):!0):Ql({option:"transform.svg",key:"format",expects:"sprite | file",reason:[`SVG transforms require you to define ${ge("format")} Syncify needs to knows how`,"it should handle the input and which processor to use for the transform."]}),i.svg.push(o)}}l();var lh=require("path");l();var bc=Y(require("uWebSockets.js"));l();var ah=Y(require("uWebSockets.js")),en=require("fs-extra"),Xs=require("path");var Dc={enable:!0,output:[]};async function uh(){if(!Dc.enable)return Dc.output.push(C.red,C.red+xe("Change the socket port address or kill the session occupying it."),C.red+xe("This error typically occurs when multiple Syncify instances are active.")),qe(xe(`${h("ERROR")} on ${h(`${i.hot.method==="hot"?"HOT":"LIVE"} Reload:`)}`)),T(Dc.output.join(`
`)),null;T(we(h(`${i.hot.method==="hot"?"HOT Reload":"LIVE Reload"}${P}`))),it(we("configuring HOT Reload"));let e=(0,Xs.join)(i.dirs.output,"assets"),t=ah.default.App(),r=await(0,en.readFile)(i.hot.source);return t.get("/*",(n,s)=>{let o=s.getUrl();if(o==="/")n.endWithoutBody();else{let a=(0,Xs.extname)(o),u=(0,Xs.join)(e,o);n.writeHeader("Access-Control-Allow-Origin","*"),n.writeHeader("Cache-Control","public, max-age=0"),a===".js"||a===".mjs"?n.writeHeader("Content-Type","application/javascript"):a===".css"?n.writeHeader("Content-Type","text/css"):a===".json"&&n.writeHeader("Content-Type","application/json"),(0,en.existsSync)(u)&&(0,en.ensureFile)(u)?n.end((0,en.readFileSync)(u)):o.endsWith("hot.min.js")?n.end(r):n.endWithoutBody()}}),t.listen(i.hot.server,n=>{n?it(we(`${ye("server")}  ${I}  ${m("PORT")}  ${I} ${Ut(`${i.hot.server}`)}`)):console.log("Failed to listen to port "+i.hot.server)}),t}async function ch(){let e,r=(await uh()).ws("/ws",{compression:bc.default.SHARED_COMPRESSOR,maxPayloadLength:16*1024*1024,idleTimeout:32,open:n=>{Qc.forEach(s=>n.subscribe(s))},message:(n,s,o)=>{Gi(Buffer.from(s).toString(o?"binary":"utf8"))}}).listen(i.hot.socket,n=>{e=n,n?(T(we(`${ye("socket")}  ${I}  ${m("PORT")}  ${I} ${Ut(`${i.hot.socket}`)}`)),_e()):console.log("Failed to listen on websocket")});return Mo(()=>{r.close(),bc.default.us_listen_socket_close(e)}),{get http(){return r},script:(n,s)=>r.publish("script",`script,${s},${n}`),stylesheet:(n,s)=>r.publish("stylesheet",`stylesheet,${s},${n}`),section:n=>r.publish("section",`section,${n}`),svg:n=>r.publish("svg",`svg,${n}`),assets:()=>r.publish("assets","assets"),reload:()=>r.publish("reload","reload"),replace:()=>r.publish("replace","replace"),connected:()=>r.publish("connected","connected"),disconnect:()=>r.publish("disconnect","disconnect")}}async function fh(){if(i.mode.watch!==!0||i.mode.hot===!1&&i.config.hot===!1)return;i.hot.source=(0,lh.join)(i.cwd,"node_modules","@syncify/cli","hot.min.js");let e=ut("HOT Reloads");if(i.env.sync>1){e("HOT Reloads can only be used on 1 store");return}else if(i.sync.themes.length>1){e("HOT Reloads can only be used on 1 theme");return}if(Wr(_(i.config.hot),Ae(i.config.hot),Ne(i.config.hot))&&ee({option:"config",name:"hot",provided:i.config.hot,expects:"boolean | {}"}),_(i.config.hot)&&De(i.config.hot)===!1){let t=He(i.hot);for(let r in i.config.hot)t(r)||Ai(`hot.${r}`,i.config.hot[r]),r==="label"?i.config.hot[r]==="visible"||i.config.hot[r]==="hidden"?i.hot[r]=i.config.hot[r]:nt({option:"hot",name:r,value:i.config.hot[r],expects:"visible | hidden"}):r==="strategy"?i.config.hot[r]==="hydrate"||i.config.hot[r]==="replace"?i.hot[r]=i.config.hot[r]:nt({option:"hot",name:r,value:i.config.hot[r],expects:"hydrate | replace"}):r==="method"?i.config.hot[r]==="hot"||i.config.hot[r]==="refresh"?i.hot[r]=i.config.hot[r]:nt({option:"hot",name:r,value:i.config.hot[r],expects:"hot | refresh"}):r==="scroll"?i.config.hot[r]==="preserved"||i.config.hot[r]==="top"?i.hot[r]=i.config.hot[r]:nt({option:"hot",name:r,value:i.config.hot[r],expects:"preserved | top"}):typeof i.hot[r]==typeof i.config.hot[r]?i.hot[r]=i.config.hot[r]:ee({option:"hot",name:r,provided:i.config.hot[r],expects:typeof i.hot[r]})}i.wss=await ch()}l();var mh=require("path");function wc(e,t){let r=[],n=G();i.mode.upload?(n.base="output",n.from="output",n.dirs=cn.map(s=>`${$("-")} ${k(s)}`),n.fix=[`The ${k("--filter")} (or ${k("-f")}) flag command argument expects you`,"provide a theme output directory as the starting point. Filtering begins with","a Shopify output directory name, for example:","",`${$("$")} ${$(`syncify --filter ${k("sections/file.liquid")}`)}`,`${$("$")} ${$(`syncify --filter ${k("snippets/*")}`)}`,`${$("$")} ${$(`syncify --filter ${k("templates/*.json")}`)}`,`${$("$")} ${$(`syncify --filter ${k("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${h(n.base)} directory`,"based on the starting point directory name. You can pass glob star matches following the",`directory namespace or starting point ignores (${k("!")}) as long the directory can match.`]):(n.base="input",n.from="paths",n.dirs=un.map(s=>`${$("-")} ${k(s)}`),n.fix=[`The ${k("--filter")} (or ${k("-f")}) flag command argument expects you`,`provide a ${pr.bold("paths")} key name as the starting point. Filtering begins with`,"a Shopify output directory name, for example:","",`${$("$")} ${$(`syncify --filter ${k("sections/file.liquid")}`)}`,`${$("$")} ${$(`syncify --filter ${k("snippets/*")}`)}`,`${$("$")} ${$(`syncify --filter ${k("templates/*.json")}`)}`,`${$("$")} ${$(`syncify --filter ${k("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${h(n.base)} directory`,`based on the starting point ${h("paths")} name. You can pass glob star matches following the`,`starting point or ignores (${k("!")}) as long the reference can match.`]),e==="pattern"?(r.push(`Invalid ${k("--filter")} pattern provided. You cannot pass starting point`),t[0]==="*"?r.push(`glob (${k("*")}) stars as filters, Syncify does not support this.`):t[0]==="/"?r.push(`path (${k("/")}) roots as filters, Syncify does not support this.`):t[0]==="."&&r.push(`dot paths (${k(".")})  as filters, Syncify does not support this.`),r.push(`Use a starting point reference name based on the ${k(n.from)} key property`,`in your ${k(i.file.base)} file.`)):r.push(`Invalid directory provided. The ${k("--filter")} pattern expects the starting point`,"directory path be one of the following:","",...n.dirs,""),Rr({message:r,expected:"--filter <dir>",fix:n.fix})}function ph(e,t,r){if((t[0]==="*"||t[0]==="/"||t[0]===".")&&wc("pattern",t),t[0]==="!"){r.test(t.slice(1))||wc("dir",t);return}r.test(t)||wc("dir",t);let n=t.slice(0,t.indexOf("/"));B(i.filters[n])||(i.filters[n]=[]),i.filters[n].push((0,mh.join)(e,t))}function dh(e){if(!w("filter",e))return;let t=i.mode.upload?i.dirs.output:i.dirs.input,r=e.filter.replace(/\s+/g," ").trim(),n=i.mode.upload?new RegExp(`^(${cn.join("|")})`):new RegExp(`^(${un.join("|")})`);if(r.indexOf(",")>-1){let s=r.split(",").filter(Boolean).map(o=>o.trim());for(let o of s)ph(t,o,n)}else ph(t,r,n)}l();async function hh(){if(_(i.config.publish)&&De(i.config.publish)===!1)for(let e in i.config.publish)w(e,i.publish)||Ai(`publish.${e}`,i.config.publish[e]),e==="tunnelPort"?Rt(i.config.publish[e])&&isNaN(i.config.publish[e])===!1?i.publish[e]=i.config.publish[e]:nt({option:"publish",name:e,value:i.config.hot[e],expects:"visible | hidden"}):e==="publishRole"?i.config.publish[e]==="main"||i.config.publish[e]==="unpublished"||i.config.publish[e]==="development"?i.publish[e]=i.config.publish[e]:nt({option:"publish",name:e,value:i.config.hot[e],expects:"main | unpublished | development"}):e==="bindVersion"?Ae(i.config.publish[e])?i.publish[e]=i.config.publish[e]:ee({option:"bindVersion",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}):e==="themeLimit"&&(Rt(i.config.publish[e])?i.config.publish[e]>5?nt({option:"publish",name:e,value:i.config.hot[e],expects:"1 - 5",reason:["Syncify requries a theme limit between 1 and 5."]}):i.publish[e]=i.config.publish[e]:ee({option:"themeLimit",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}));(i.mode.publish===!0||i.mode.release===!0)&&(w("ngrok_auth_token",i.env.vars)||Qe("Missing ngrok auth token",["Theme publishing requires an ngrok authorisation token",`This is easy to obtain, visit ${mr("https://ngrok.com")}`,`and create a ${h("free")} account to get a token.`,"",`Once you have obtained an auth token, provide it in your ${m(".env")}`,"file, use the following environment variable name:","",`${O('ngrok_auth_token = ""')}`]))}l();l();l();var Jb=Y(require("fs"),1),rg=Y(require("net"),1);var ea={};Ic(ea,{darwin:()=>Yh,darwinFast:()=>Rc,linux:()=>Gb,win32:()=>Kh,wsl:()=>Ub});l();var Jh=Y(require("fs"),1),Qt=Y(require("path"),1),Lc=require("os"),os=require("child_process"),ss=Y(yh(),1);l();var ts=Y(require("process"),1),Nh=require("events"),rn=Y(Ah(),1);l();var pt=typeof performance<"u"&&performance,Rh;Th=process.hrtime,Cc=function(){var e=Th();return e[0]*1e9+e[1]},Lh=Cc(),Rh=function(){return(Cc()-Lh)/1e6};var Th,Cc,Lh,Bh=pt&&pt.now?function(){return pt.now()}:Rh;function Ho(e){if(!e)throw new Error("name must be non-empty")}function Pb(e,t){for(var r=0,n=e.length,s;r<n;)s=r+n>>>1,e[s].startTime<t.startTime?r=s+1:n=s;e.splice(r,0,t)}var zo,Vo,ni,Jo;pt&&pt.mark&&pt.measure&&pt.getEntriesByName&&pt.getEntriesByType&&pt.clearMarks&&pt.clearMeasures&&pt.clearResourceTimings?(zo=function(e){Ho(e),pt.mark("start "+e)},Vo=function(e){Ho(e),pt.mark("end "+e);var t=pt.measure(e,"start "+e,"end "+e);if(t)return t;var r=pt.getEntriesByName(e);return r[r.length-1]},ni=function(){return pt.getEntriesByType("measure")},Jo=function(){pt.clearMarks(),pt.clearMeasures()}):(Go={},Uo=[],zo=function(e){Ho(e);var t=Bh();Go["$"+e]=t},Vo=function(e){Ho(e);var t=Bh(),r=Go["$"+e];if(!r)throw new Error("no known mark: "+e);var n={startTime:r,name:e,duration:t-r,entryType:"measure"};return Pb(Uo,n),n},ni=function(){return Uo},Jo=function(){Go={},Uo=[]});var Go,Uo;var tn=ts.default.platform==="win32",Qn=ts.default.browser,es={red:Qn?"crimson":1,yellow:Qn?"gold":3,cyan:Qn?"darkturquoise":6,green:Qn?"forestgreen":2,blue:Qn?"steelblue":4,magenta:Qn?"palevioletred":5};rn.default.colors=[es.cyan,es.green,es.blue,es.magenta];var Ec=class extends Nh.EventEmitter{issueStatus(t,r){(t==="status"||t==="statusEnd")&&this.emit(t,[t,...r])}issueWarning(t,r){this.emit("warning",[t,...r])}},Ph={},Nb=25,kh,rs=class e{static _logToStdErr(t,r){e.loggerfn(t)(...r)}static loggerfn(t){t=`LH:${t}`;let r=Ph[t];return r||(r=(0,rn.default)(t),Ph[t]=r,t.endsWith("error")?r.color=es.red:t.endsWith("warn")&&(r.color=es.yellow)),r}static setLevel(t){switch(kh=t,t){case"silent":rn.default.enable("-LH:*");break;case"verbose":rn.default.enable("LH:*");break;case"warn":rn.default.enable("-LH:*, LH:*:warn, LH:*:error");break;case"error":rn.default.enable("-LH:*, LH:*:error");break;default:rn.default.enable("LH:*, -LH:*:verbose")}}static formatProtocol(t,r,n){let s=!ts.default||ts.default.browser?1/0:ts.default.stdout.columns,o=r.method||"?????",a=s-o.length-t.length-Nb,u=r.params&&o!=="IO.read"?JSON.stringify(r.params).substr(0,a):"";e._logToStdErr(`${t}:${n||""}`,[o,u])}static isVerbose(){return kh==="verbose"}static time({msg:t,id:r,args:n=[]},s="log"){zo(r),e[s]("status",t,...n)}static timeEnd({msg:t,id:r,args:n=[]},s="verbose"){e[s]("statusEnd",t,...n),Vo(r)}static log(t,...r){return e.events.issueStatus(t,r),e._logToStdErr(t,r)}static warn(t,...r){return e.events.issueWarning(t,r),e._logToStdErr(`${t}:warn`,r)}static error(t,...r){return e._logToStdErr(`${t}:error`,r)}static verbose(t,...r){return e.events.issueStatus(t,r),e._logToStdErr(`${t}:verbose`,r)}static greenify(t){return`${e.green}${t}${e.reset}`}static redify(t){return`${e.red}${t}${e.reset}`}static get green(){return"\x1B[32m"}static get red(){return"\x1B[31m"}static get yellow(){return"\x1B[33m"}static get purple(){return"\x1B[95m"}static get reset(){return"\x1B[0m"}static get bold(){return"\x1B[1m"}static get dim(){return"\x1B[2m"}static get tick(){return tn?"\u221A":"\u2713"}static get cross(){return tn?"\xD7":"\u2718"}static get whiteSmallSquare(){return tn?"\u0387":"\u25AB"}static get heavyHorizontal(){return tn?"\u2500":"\u2501"}static get heavyVertical(){return tn?"\u2502 ":"\u2503 "}static get heavyUpAndRight(){return tn?"\u2514":"\u2517"}static get heavyVerticalAndRight(){return tn?"\u251C":"\u2523"}static get heavyDownAndHorizontal(){return tn?"\u252C":"\u2533"}static get doubleLightHorizontal(){return"\u2500\u2500"}};rs.events=new Ec;rs.takeTimeEntries=()=>{let e=ni();return Jo(),e};rs.getTimeEntries=()=>ni();var ze=rs;l();var qh=require("path"),Zo=Y(require("child_process"),1),Hh=require("fs"),Gh=Y(Wh(),1);function lr(e,t){return typeof e>"u"?t:e}async function Uh(e){return new Promise(t=>setTimeout(t,e))}var ns=class extends Error{constructor(t="Unexpected error",r){return super(),this.message=t,this.code=r,this.stack=new Error().stack,this}},Yo=class extends ns{constructor(){super(...arguments),this.message="The CHROME_PATH environment variable must be set to a Chrome/Chromium executable no older than Chrome stable.",this.code="ERR_LAUNCHER_PATH_NOT_SET"}},Ko=class extends ns{constructor(){super(...arguments),this.message="userDataDir must be false or a path.",this.code="ERR_LAUNCHER_INVALID_USER_DATA_DIRECTORY"}},si=class extends ns{constructor(){super(...arguments),this.message=`Platform ${Tr()} is not supported.`,this.code="ERR_LAUNCHER_UNSUPPORTED_PLATFORM"}},Xo=class extends ns{constructor(){super(...arguments),this.message="No Chrome installations found.",this.code="ERR_LAUNCHER_NOT_INSTALLED"}};function Tr(){return Gh.default?"wsl":process.platform}function zh(){switch(Tr()){case"darwin":case"linux":return qb();case"wsl":process.env.TEMP=Tc(`${process.env.PATH}`);case"win32":return Hb();default:throw new si}}function Mb(e=""){let t=/\/mnt\/([a-z])\//.exec(e);if(!t)return e;let r=t[1];return e.replace(`/mnt/${r}/`,`${r.toUpperCase()}:\\`).replace(/\//g,"\\")}function Vh(e=""){if(/[a-z]:\\/iu.test(e))return e;try{return Zo.default.execFileSync("wslpath",["-w",e]).toString().trim()}catch{return Mb(e)}}function Qo(e,t){try{return Zo.default.execFileSync("wslpath",["-u",e]).toString().trim()}catch{return t}}function Wb(e){let r=/\/mnt\/([a-z])\/Users\/([^\/:]+)\/AppData\//.exec(e)||[];return`/mnt/${r[1]}/Users/${r[2]}/AppData/Local`}function Tc(e){let r=/\/([a-z])\/Users\/([^\/:]+)\/AppData\//.exec(e)||[];return Qo(`${r[1]}:\\Users\\${r[2]}\\AppData\\Local`,Wb(e))}function qb(){return Zo.default.execSync("mktemp -d -t lighthouse.XXXXXXX").toString().trim()}function Hb(){let e=process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp",t=Math.floor(Math.random()*9e7+1e7),r=(0,qh.join)(e,"lighthouse."+t);return(0,Hh.mkdirSync)(r,{recursive:!0}),r}var Bc=/\r?\n/;function Rc(){let e=[process.env.CHROME_PATH,process.env.LIGHTHOUSE_CHROMIUM_PATH,"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary","/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"];for(let t of e)if(t&&nn(t))return t;return Yh()[0]}function Yh(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome"],t="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister",r=[],n=Pc();n&&r.push(n),(0,os.execSync)(`${t} -dump | grep -i 'google chrome\\( canary\\)\\?\\.app' | awk '{$1=""; print $0}'`).toString().split(Bc).forEach(a=>{e.forEach(u=>{let c=Qt.default.join(a.substring(0,a.indexOf(".app")+4).trim(),u);nn(c)&&r.indexOf(c)===-1&&r.push(c)})});let s=(0,ss.default)(process.env.HOME||(0,Lc.homedir)()),o=[{regex:new RegExp(`^${s}/Applications/.*Chrome\\.app`),weight:50},{regex:new RegExp(`^${s}/Applications/.*Chrome Canary\\.app`),weight:51},{regex:/^\/Applications\/.*Chrome.app/,weight:100},{regex:/^\/Applications\/.*Chrome Canary.app/,weight:101},{regex:/^\/Volumes\/.*Chrome.app/,weight:-2},{regex:/^\/Volumes\/.*Chrome Canary.app/,weight:-1}];return process.env.LIGHTHOUSE_CHROMIUM_PATH&&o.unshift({regex:new RegExp((0,ss.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)),weight:150}),process.env.CHROME_PATH&&o.unshift({regex:new RegExp((0,ss.default)(process.env.CHROME_PATH)),weight:151}),Xh(r,o)}function Pc(){if(nn(process.env.CHROME_PATH))return process.env.CHROME_PATH;if(nn(process.env.LIGHTHOUSE_CHROMIUM_PATH))return ze.warn("ChromeLauncher","LIGHTHOUSE_CHROMIUM_PATH is deprecated, use CHROME_PATH env variable instead."),process.env.LIGHTHOUSE_CHROMIUM_PATH}function Gb(){let e=[],t=Pc();if(t&&e.push(t),[Qt.default.join((0,Lc.homedir)(),".local/share/applications/"),"/usr/share/applications/"].forEach(o=>{e=e.concat(Vb(o))}),["google-chrome-stable","google-chrome","chromium-browser","chromium"].forEach(o=>{try{let a=(0,os.execFileSync)("which",[o],{stdio:"pipe"}).toString().split(Bc)[0];nn(a)&&e.push(a)}catch{}}),!e.length)throw new Yo;let s=[{regex:/chrome-wrapper$/,weight:51},{regex:/google-chrome-stable$/,weight:50},{regex:/google-chrome$/,weight:49},{regex:/chromium-browser$/,weight:48},{regex:/chromium$/,weight:47}];return process.env.LIGHTHOUSE_CHROMIUM_PATH&&s.unshift({regex:new RegExp((0,ss.default)(process.env.LIGHTHOUSE_CHROMIUM_PATH)),weight:100}),process.env.CHROME_PATH&&s.unshift({regex:new RegExp((0,ss.default)(process.env.CHROME_PATH)),weight:101}),Xh(zb(e.filter(Boolean)),s)}function Ub(){return process.env.LOCALAPPDATA=Tc(`${process.env.PATH}`),process.env.PROGRAMFILES=Qo("C:/Program Files","/mnt/c/Program Files"),process.env["PROGRAMFILES(X86)"]=Qo("C:/Program Files (x86)","/mnt/c/Program Files (x86)"),Kh()}function Kh(){let e=[],t=[`${Qt.default.sep}Google${Qt.default.sep}Chrome SxS${Qt.default.sep}Application${Qt.default.sep}chrome.exe`,`${Qt.default.sep}Google${Qt.default.sep}Chrome${Qt.default.sep}Application${Qt.default.sep}chrome.exe`],r=[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"]].filter(Boolean),n=Pc();return n&&e.push(n),r.forEach(s=>t.forEach(o=>{let a=Qt.default.join(s,o);nn(a)&&e.push(a)})),e}function Xh(e,t){return e.map(n=>{for(let s of t)if(s.regex.test(n))return{path:n,weight:s.weight};return{path:n,weight:10}}).sort((n,s)=>s.weight-n.weight).map(n=>n.path)}function nn(e){if(!e)return!1;try{return Jh.default.accessSync(e),!0}catch{return!1}}function zb(e){return Array.from(new Set(e))}function Vb(e){let t=/(^[^ ]+).*/,r="^Exec=/.*/(google-chrome|chrome|chromium)-.*",n=[];if(nn(e)){let s;try{s=(0,os.execSync)(`grep -ER "${r}" ${e} | awk -F '=' '{print $2}'`,{stdio:"pipe"})}catch{s=(0,os.execSync)(`grep -Er "${r}" ${e} | awk -F '=' '{print $2}'`,{stdio:"pipe"})}s=s.toString().split(Bc).map(o=>o.replace(t,"$1")),s.forEach(o=>nn(o)&&n.push(o))}return n}l();var Zh=require("http");function Qh(){return new Promise((e,t)=>{let r=(0,Zh.createServer)();r.listen(0),r.once("listening",()=>{let{port:n}=r.address();r.close(()=>e(n))}),r.once("error",t)})}l();var kc=["--disable-features="+["Translate","OptimizationHints","MediaRouter","DialMediaRouteProvider","CalculateNativeWinOcclusion","InterestFeedContentSuggestions","CertificateTransparencyComponentUpdater","AutofillServerCommunication","PrivacySandboxSettings4"].join(","),"--disable-extensions","--disable-component-extensions-with-background-pages","--disable-background-networking","--disable-component-update","--disable-client-side-phishing-detection","--disable-sync","--metrics-recording-only","--disable-default-apps","--mute-audio","--no-default-browser-check","--no-first-run","--disable-backgrounding-occluded-windows","--disable-renderer-backgrounding","--disable-background-timer-throttling","--disable-ipc-flooding-protection","--password-store=basic","--use-mock-keychain","--force-fieldtrials=*BackgroundTracing/default/","--disable-hang-monitor","--disable-prompt-on-repost","--disable-domain-reliability","--propagate-iph-for-testing"];var ta=require("child_process");var Yb=Tr()==="wsl",Kb=Tr()==="win32",eg="SIGINT",Xb=130,Zb=new Set(["darwin","linux","win32","wsl"]),as=new Set,tg=()=>{Qb(),process.exit(Xb)};async function ng(e={}){e.handleSIGINT=lr(e.handleSIGINT,!0);let t=new Nc(e);e.handleSIGINT&&as.size===0&&process.on(eg,tg),as.add(t),await t.launch();let r=()=>{as.delete(t),as.size===0&&process.removeListener(eg,tg),t.kill()};return{pid:t.pid,port:t.port,kill:r,process:t.chromeProcess}}function Qb(){let e=[];for(let t of as)try{t.kill(),as.delete(t)}catch(r){e.push(r)}return e}var Nc=class e{constructor(t={},r={}){if(this.opts=t,this.tmpDirandPidFileReady=!1,this.fs=r.fs||Jb,this.spawn=r.spawn||ta.spawn,ze.setLevel(lr(this.opts.logLevel,"silent")),this.startingUrl=lr(this.opts.startingUrl,"about:blank"),this.chromeFlags=lr(this.opts.chromeFlags,[]),this.prefs=lr(this.opts.prefs,{}),this.requestedPort=lr(this.opts.port,0),this.portStrictMode=t.portStrictMode,this.chromePath=this.opts.chromePath,this.ignoreDefaultFlags=lr(this.opts.ignoreDefaultFlags,!1),this.connectionPollInterval=lr(this.opts.connectionPollInterval,500),this.maxConnectionRetries=lr(this.opts.maxConnectionRetries,50),this.envVars=lr(t.envVars,Object.assign({},process.env)),typeof this.opts.userDataDir=="boolean")if(!this.opts.userDataDir)this.useDefaultProfile=!0,this.userDataDir=void 0;else throw new Ko;else this.useDefaultProfile=!1,this.userDataDir=this.opts.userDataDir}get flags(){let t=this.ignoreDefaultFlags?[]:kc.slice();return t.push(`--remote-debugging-port=${this.port}`),!this.ignoreDefaultFlags&&Tr()==="linux"&&t.push("--disable-setuid-sandbox"),this.useDefaultProfile||t.push(`--user-data-dir=${Yb?Vh(this.userDataDir):this.userDataDir}`),process.env.HEADLESS&&t.push("--headless"),t.push(...this.chromeFlags),t.push(this.startingUrl),t}static defaultFlags(){return kc.slice()}static getFirstInstallation(){return Tr()==="darwin"?Rc():ea[Tr()]()[0]}static getInstallations(){return ea[Tr()]()}makeTmpDir(){return zh()}prepare(){let t=Tr();if(!Zb.has(t))throw new si;this.userDataDir=this.userDataDir||this.makeTmpDir(),this.outFile=this.fs.openSync(`${this.userDataDir}/chrome-out.log`,"a"),this.errFile=this.fs.openSync(`${this.userDataDir}/chrome-err.log`,"a"),this.setBrowserPrefs(),this.pidFile=`${this.userDataDir}/chrome.pid`,ze.verbose("ChromeLauncher",`created ${this.userDataDir}`),this.tmpDirandPidFileReady=!0}setBrowserPrefs(){if(Object.keys(this.prefs).length===0)return;let t=`${this.userDataDir}/Default`;this.fs.existsSync(t)||this.fs.mkdirSync(t,{recursive:!0});let r=`${t}/Preferences`;try{if(this.fs.existsSync(r)){let n=this.fs.readFileSync(r,"utf-8"),s=JSON.parse(n);this.fs.writeFileSync(r,JSON.stringify({...s,...this.prefs}),"utf-8")}else this.fs.writeFileSync(r,JSON.stringify({...this.prefs}),"utf-8")}catch(n){ze.log("ChromeLauncher",`Failed to set browser prefs: ${n.message}`)}}async launch(){if(this.requestedPort!==0){this.port=this.requestedPort;try{await this.isDebuggerReady(),ze.log("ChromeLauncher",`Found existing Chrome already running using port ${this.port}, using that.`);return}catch{if(this.portStrictMode)throw new Error(`found no Chrome at port ${this.requestedPort}`);ze.log("ChromeLauncher",`No debugging port found on port ${this.port}, launching a new Chrome.`)}}if(this.chromePath===void 0){let t=e.getFirstInstallation();if(!t)throw new Xo;this.chromePath=t}return this.tmpDirandPidFileReady||this.prepare(),this.pid=await this.spawnProcess(this.chromePath),Promise.resolve()}async spawnProcess(t){let n=await(async()=>this.chromeProcess?(ze.log("ChromeLauncher",`Chrome already running with pid ${this.chromeProcess.pid}.`),this.chromeProcess.pid):(this.requestedPort===0&&(this.port=await Qh()),ze.verbose("ChromeLauncher",`Launching with command:
"${t}" ${this.flags.join(" ")}`),this.chromeProcess=this.spawn(t,this.flags,{detached:process.platform!=="win32",stdio:["ignore",this.outFile,this.errFile],env:this.envVars}),this.chromeProcess.pid&&this.fs.writeFileSync(this.pidFile,this.chromeProcess.pid.toString()),ze.verbose("ChromeLauncher",`Chrome running with pid ${this.chromeProcess.pid} on port ${this.port}.`),this.chromeProcess.pid))();return await this.waitUntilReady(),n}cleanup(t){t&&(t.removeAllListeners(),t.end(),t.destroy(),t.unref())}isDebuggerReady(){return new Promise((t,r)=>{let n=rg.createConnection(this.port,"127.0.0.1");n.once("error",s=>{this.cleanup(n),r(s)}),n.once("connect",()=>{this.cleanup(n),t()})})}waitUntilReady(){let t=this;return new Promise((r,n)=>{let s=0,o="Waiting for browser.",a=()=>{s===0&&ze.log("ChromeLauncher",o),s++,o+="..",ze.log("ChromeLauncher",o),t.isDebuggerReady().then(()=>{ze.log("ChromeLauncher",o+`${ze.greenify(ze.tick)}`),r()}).catch(u=>{if(s>t.maxConnectionRetries){ze.error("ChromeLauncher",u.message);let c=this.fs.readFileSync(`${this.userDataDir}/chrome-err.log`,{encoding:"utf-8"});return ze.error("ChromeLauncher",`Logging contents of ${this.userDataDir}/chrome-err.log`),ze.error("ChromeLauncher",c),n(u)}Uh(t.connectionPollInterval).then(a)})};a()})}kill(){if(this.chromeProcess){this.chromeProcess.on("close",()=>{delete this.chromeProcess,this.destroyTmp()}),ze.log("ChromeLauncher",`Killing Chrome instance ${this.chromeProcess.pid}`);try{if(Kb){let t=(0,ta.spawnSync)(`taskkill /pid ${this.chromeProcess.pid} /T /F`,{shell:!0,encoding:"utf-8"}),{stderr:r}=t;r&&ze.error("ChromeLauncher","taskkill stderr",r)}else this.chromeProcess.pid&&process.kill(-this.chromeProcess.pid,"SIGKILL")}catch(t){let r=`Chrome could not be killed ${t.message}`;ze.warn("ChromeLauncher",r)}this.destroyTmp()}}destroyTmp(){if(this.outFile&&(this.fs.closeSync(this.outFile),delete this.outFile),this.userDataDir===void 0||this.opts.userDataDir!==void 0)return;this.errFile&&(this.fs.closeSync(this.errFile),delete this.errFile),(this.fs.rmSync||this.fs.rmdirSync)(this.userDataDir,{recursive:!0,force:!0,maxRetries:10})}};var sg=Y(require("chrome-remote-interface"));var tw=()=>i.hot.previewBar?"":`
  const preview = document.getElementById("preview-bar-iframe");
  if (preview) preview.style.display = "none";
`,rw=()=>`

  const injection = new Promise((resolve, reject) => {

    try {

      const inject = document.getElementById('syncify-hot-injection');

      if (inject) {
        console.log('Script already injected.');
        return resolve();
      }

      const script = document.createElement('script');
      script.setAttribute('spx-eval', 'false');
      script.setAttribute('id', 'syncify-hot-injection');
      script.setAttribute('src', 'http://localhost:${i.hot.server}/hot.min.js');

      script.onload = () => {

        // console.log('Script loaded successfully.');

        window.syncify.connect({
          server: ${i.hot.server},
          socket: ${i.hot.socket},
          strategy: "${i.hot.strategy}",
          method: "${i.hot.method}"
        });

        resolve();

      };

      script.onerror = (e) => {
        console.error('Failed to load script:', e);
        reject(new Error('Script load error'));
      };

      document.head.appendChild(script);
      // console.log('Script appended to the document.');

    } catch (err) {

      // console.error('Error during script injection:', err);
      reject(err);

    }
  });

  injection.then(() => {

    ${i.hot.loadEventJS}

  });
`,ig=async()=>{try{let e=await ng({port:9222,chromeFlags:i.hot.chromeFlags,ignoreDefaultFlags:!0,userDataDir:i.dirs.chrome}),t=await(0,sg.default)({port:e.port}),{Page:r,Runtime:n}=t;await n.enable(),await r.enable(),await r.navigate({url:`https://${i.sync.themes[0].store}?preview_theme_id=${i.sync.themes[0].id}`}),await r.loadEventFired(async()=>{await n.evaluate({returnByValue:!0,awaitPromise:!0,expression:`
            ${tw()}
            ${i.mode.hot?rw():""}
          `})}),i.mode.hot&&r.navigatedWithinDocument(async s=>{await n.evaluate({returnByValue:!0,awaitPromise:!0,expression:`
            window.syncify.sections.load();
          `})}),process.on("exit",()=>e.kill())}catch(e){console.error("An error occurred:",e)}};async function ag(e,t){if(A.start("runtime"),Pt(i),await Ld(),await ac(),await ow(),await cd(),i.mode.setup||i.mode.strap||i.mode.themes||(process.env.SYNCIFY_ENV=i.env.dev?"dev":"prod",process.env.SYNCIFY_WATCH=String(i.mode.watch),Hd(e),dh(e),Pt.modes(i),await Md(e),i.mode.themes)||(nw(),sw(),hh(),eh(),await Promise.all([sf(),of(),va(),uf(),qd()]).catch(n=>{Yt(n,{details:"Directory and path generation error"})}),i.mode.themes))return;_d(),ih(),iw(),i.mode.build||Pt.stores(i),await Id(),await rh(),await oh(),await nh();let r=await Promise.all([fh(),ld()]).catch(n=>{Yt(n,{details:"Runtime error"})});return Pt.warnings(i),i.mode.build||Pt.time(),await ig().catch(n=>{console.error(n),process.exit(1)}),r}function nw(){(i.cmd.watch||i.cmd.upload)&&(i.watch=new og.FSWatcher({persistent:!0,ignoreInitial:!0,usePolling:!0,interval:75,binaryInterval:100,ignored:["*.map"],ignorePermissionErrors:!0}),i.watch=fl(i.watch,{has:{value(e,t=i.cwd){return i.watch._watched.has(t)?i.watch._watched.get(t).items.has(e):!1}},paths:{get(){return jr(this._closers.keys())}},watching:{get(){return i.watch._watched}}}))}function sw(){if(w("processors",i.config)&&_(process.config))for(let e in i.config.processors)De(i.config.processors[e])||(B(i.config.processors[e])?i.processor[e].config=i.config.processors[e]:_(i.config.processors[e])&&(e==="esbuild"?i.processor[e]=be(i.processor[e],i.config.processors[e]):i.processor[e].config=be(i.processor[e].config,i.config.processors[e])))}function iw(){if(w("plugins",i.config)&&B(i.config.plugins))for(let e of i.config.plugins)w("onInit",e)&&e.onInit.call({...i},i.config),w("onChange",e)&&i.plugins.onChange.push([e.name,e.onChange]),w("onTransform",e)&&i.plugins.onTransform.push([e.name,e.onTransform]),i.mode.watch&&(w("onWatch",e)&&i.plugins.onWatch.push([e.name,e.onWatch]),w("onReload",e)&&i.plugins.onReload.push([e.name,e.onReload])),i.mode.build&&w("onBuild",e)&&i.plugins.onBuild.push([e.name,e.onBuild])}async function ow(){let e=await Ad();e!==null?i.config=e:w("syncify",i.pkg)&&(w("config",i.pkg.syncify)?i.config=i.pkg.syncify.config:!w("stores",i.pkg.syncify)&&i.cmd.setup===!1&&!i.cmd.strap&&tf(i.cwd))}l();var ra=require("enquirer");l();async function ug(e){return _n.get("/oauth/access_scopes.json",e).then(({data:t})=>t).catch(t=>!1)}async function cg(){let e=X({type:"info"}),t={store:null,domain:null,token:null,ngrok:null,version:null,scopes:{read_content:!1,read_files:!1,read_online_store_pages:!1,read_themes:!1,write_content:!1,write_files:!1,write_online_store_pages:!1,write_themes:!1}},r=ne({},Ks,{pointer(f,p){return this.state.index===p?C.stub.trimEnd()+" ":C.trim+" "}}),n=[`Existing Setup${P}  `,`Shopify Domain${P}  `,`Admin API Token${P} `,`Ngrok API Token${P} `];if(i.env.file!==null)return T(e.Line("Environment references exist, setup can only be used for new installations.").NL.End(i.log.group).BR.toString());let{domain:s}=await(0,ra.prompt)({type:"input",name:"domain",message:n[1],required:!0,format(f){return f+".myshopify.com"},validate(f){return this.state.symbols.pointer="  ",f===".myshopify.com"||f.length===0?"Enter myshopify.com domain name":!0},theme:r}),{token:o}=await(0,ra.prompt)({type:"input",name:"token",required:!0,message:n[2],theme:r,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Admin API Token":!0}}),{ngrok:a}=await(0,ra.prompt)({type:"input",name:"ngrok",required:!0,message:n[3],theme:r,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Ngrok API Token":!0}}),u=await ug({baseURL:`https://${s}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":o.trim()}});if(Ae(u))return T(e.NL.Wrap(`Connection failed on ${ge(`${s}.myshopify.com`)}. Please check the API Access Token`,"is correct and you have set the right access scopes, then try again.",ae).NL.End(i.log.group).BR.toString());if(u.access_scopes.length>0){e.Newline();for(let{handle:f}of u.access_scopes)f in t.scopes&&(t.scopes[f]=!0,e.Line(`${Uc} ${f}`))}let c=0;for(let f in t.scopes)t.scopes[f]===!1&&(e.Line(`${Ir} ${f}`,ae),c=c+1);if(c>0)return T(e.NL.Wrap("Syncify requires read and write access to all the above resources.","Provide access to all scopes listed in red (above) and try again.",ae).NL.End(i.log.group).BR.toString());T(e.toLine()),t.store=s,t.domain=`${s}.myshopify.com`,t.token=o.trim(),t.ngrok=a.trim()}l();var lg=require("enquirer"),fg=require("fs-extra");var ii=require("path");async function pg(){let e=(0,ii.join)(i.cwd,"node_modules","@syncify/cli","straps"),t={dawn:(0,ii.join)(e,"dawn"),dusk:(0,ii.join)(e,"dusk"),silk:(0,ii.join)(e,"silk")},r=ne({},Ks,{pointer(s,o){return this.state.index===o?C.stub.trimEnd()+" ":C.trim+" "}}),{template:n}=await(0,lg.prompt)({type:"select",name:"template",message:`Choose Strap${P}    `,required:!0,theme:r,choices:[{name:"dusk",message:"Dusk  ",hint:"Stripped theme"},{name:"dawn",message:"Dawn  ",hint:"Shopify Slop"},{name:"silk",message:"Silk  ",hint:"Custom theme"}]});(0,fg.copy)(t[n],i.cwd)}l();async function Oc(e,t,r){if(e.help)return Od(e);if(await ag(e,t),i.mode.themes)return Sd();if(i.mode.setup)return cg();if(i.mode.strap)return pg();mg.default.stdin.on("data",Nd);try{if(i.env.ready=!0,i.mode.build&&i.mode.export===!1)return Ao(r);if(i.mode.watch)return bd(r);if(i.mode.upload)return jp(r);if(i.mode.import)return Fd(r);if(i.mode.export&&i.mode.publish===!1)return No(r);if(i.mode.publish)return kd(r);if(i.mode.interactive)return console.log("TODO: --interactive is not yet supported");if(i.mode.metafields)return console.log("TODO: --metafields is not yet supported")}catch(n){console.log(n)}}Oc(ff(dg.argv,{config:{type:"string",short:"c"},input:{type:"string",short:"i"},output:{type:"string",short:"o"},theme:{type:"string",short:"t"},spawn:{type:"string",short:"s"},delete:{type:"string",short:"d"},filter:{type:"string",short:"f"},help:{type:"boolean",short:"h",default:!1},publish:{type:"boolean",default:!1},release:{type:"string"},bump:{type:"string"},setup:{type:"boolean",default:!1},dev:{type:"boolean",default:!0},prod:{type:"boolean",default:!1},import:{type:"boolean",default:!1},export:{type:"boolean",default:!1},build:{type:"boolean",short:"b",default:!1},watch:{type:"boolean",short:"w",default:!1},upload:{type:"boolean",short:"u",default:!1},terse:{type:"boolean",default:!1},hot:{type:"boolean",default:!1},interactive:{type:"boolean",default:!1},script:{type:"boolean",default:!1},style:{type:"boolean",default:!1},svg:{type:"boolean",default:!1},image:{type:"boolean",default:!1},metafields:{type:"boolean",default:!1},pages:{type:"boolean",default:!1},redirects:{type:"boolean",default:!1},doctor:{type:"boolean",default:!1},clean:{type:"boolean",default:!1},silent:{type:"boolean",default:!1},force:{type:"boolean",default:!1},cache:{type:"boolean",default:!1}})).catch(console.error);
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

imurmurhash/imurmurhash.js:
  (**
   * @preserve
   * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
   *
   * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
   * @see http://github.com/homebrewing/brauhaus-diff
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/murmurhash-js
   * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
   * @see http://sites.google.com/site/murmurhash/
   *)

lighthouse-logger/index.js:
  (**
   * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)

chrome-launcher/dist/utils.js:
  (**
   * @license Copyright 2017 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)

chrome-launcher/dist/chrome-finder.js:
  (**
   * @license Copyright 2016 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)

chrome-launcher/dist/random-port.js:
  (**
   * @license Copyright 2016 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)

chrome-launcher/dist/flags.js:
  (**
   * @license Copyright 2017 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)

chrome-launcher/dist/chrome-launcher.js:
  (**
   * @license Copyright 2016 Google Inc. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
   * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
   *)
*/
