var pg=Object.create;var Vs=Object.defineProperty;var mg=Object.getOwnPropertyDescriptor;var dg=Object.getOwnPropertyNames;var gg=Object.getPrototypeOf,hg=Object.prototype.hasOwnProperty;var yg=(e,t)=>()=>(e&&(t=e(e=0)),t);var ge=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sc=(e,t)=>{for(var r in t)Vs(e,r,{get:t[r],enumerable:!0})},ic=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dg(t))!hg.call(e,s)&&s!==r&&Vs(e,s,{get:()=>t[s],enumerable:!(n=mg(t,s))||n.enumerable});return e};var V=(e,t,r)=>(r=e!=null?pg(gg(e)):{},ic(t||!e||!e.__esModule?Vs(r,"default",{value:e,enumerable:!0}):r,e)),Dg=e=>ic(Vs({},"__esModule",{value:!0}),e);var bg,y,l=yg(()=>{bg=()=>typeof document>"u"?new URL(`file:${__filename}`).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,y=bg()});var yc=ge((Rb,Wo)=>{"use strict";l();var $g=Object.prototype.hasOwnProperty,ft="~";function Vn(){}Object.create&&(Vn.prototype=Object.create(null),new Vn().__proto__||(ft=!1));function Cg(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function hc(e,t,r,n,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Cg(r,n||e,s),a=ft?ft+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function Zs(e,t){--e._eventsCount===0?e._events=new Vn:delete e._events[t]}function it(){this._events=new Vn,this._eventsCount=0}it.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)$g.call(r,n)&&t.push(ft?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};it.prototype.listeners=function(t){var r=ft?ft+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,a=new Array(o);s<o;s++)a[s]=n[s].fn;return a};it.prototype.listenerCount=function(t){var r=ft?ft+t:t,n=this._events[r];return n?n.fn?1:n.length:0};it.prototype.emit=function(t,r,n,s,o,a){var u=ft?ft+t:t;if(!this._events[u])return!1;var c=this._events[u],f=arguments.length,p,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,s),!0;case 5:return c.fn.call(c.context,r,n,s,o),!0;case 6:return c.fn.call(c.context,r,n,s,o,a),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];c.fn.apply(c.context,p)}else{var b=c.length,D;for(d=0;d<b;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),f){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,s);break;default:if(!p)for(D=1,p=new Array(f-1);D<f;D++)p[D-1]=arguments[D];c[d].fn.apply(c[d].context,p)}}return!0};it.prototype.on=function(t,r,n){return hc(this,t,r,n,!1)};it.prototype.once=function(t,r,n){return hc(this,t,r,n,!0)};it.prototype.removeListener=function(t,r,n,s){var o=ft?ft+t:t;if(!this._events[o])return this;if(!r)return Zs(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!s||a.once)&&(!n||a.context===n)&&Zs(this,o);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==r||s&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=c.length===1?c[0]:c:Zs(this,o)}return this};it.prototype.removeAllListeners=function(t){var r;return t?(r=ft?ft+t:t,this._events[r]&&Zs(this,r)):(this._events=new Vn,this._eventsCount=0),this};it.prototype.off=it.prototype.removeListener;it.prototype.addListener=it.prototype.on;it.prefixed=ft;it.EventEmitter=it;typeof Wo<"u"&&(Wo.exports=it)});var Ic=ge((_c,Ko)=>{"use strict";l();Object.defineProperty(_c,"__esModule",{value:!0});var{round:tn,floor:vc,max:Lg}=Math,Lc=e=>{let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],r=t?t.length:0;if(r===3)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(r!==6)return[0,0,0];let n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]},Rc=(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:tn((e-8)/247*24)+232:16+36*tn(e/51)+6*tn(t/51)+tn(r/51),Vo=e=>{let t,r,n,s,o,a;return e<8?30+e:e<16?e-8+90:(e>=232?t=r=n=(10*(e-232)+8)/255:(a=(e-=16)%36,t=vc(e/36)/5,r=vc(a/6)/5,n=a%6/5),s=2*Lg(t,r,n),s===0?30:(o=30+(tn(n)<<2|tn(r)<<1|tn(t)),s===2?o+60:o))},$c=(e,t,r)=>Vo(Rc(e,t,r)),Jo=(e=>{let t=Y=>!!c.find(G=>Y.test(G)),r=globalThis,n=r.Deno,s=n!=null,o=r.process||n||{},a=o.stdout,u=(s?n.build.os:o.platform)==="win32",c=o.argv||o.args||[],f=o.env||{},p=-1;if(s)try{f=f.toObject()}catch{p=0}let d="FORCE_COLOR",b=f[d],D=parseInt(b),h=b==="false"?0:isNaN(D)?3:D,F="NO_COLOR"in f||h===0||t(/^-{1,2}(no-color|color=(false|never))$/),j=d in f&&h||t(/^-{1,2}color=?(true|always)?$/),q=(f.NEXT_RUNTIME||"").indexOf("edge")>-1||"PM2_HOME"in f&&"pm_id"in f||(s?n.isatty(1):a&&"isTTY"in a);return F?0:(p<0&&(p=((Y,G,Z)=>{let{TERM:K,COLORTERM:Ie}=Y;return"TF_BUILD"in Y?1:"TEAMCITY_VERSION"in Y?2:"CI"in Y?["GITHUB_ACTIONS","GITEA_ACTIONS"].some(qe=>qe in Y)?3:1:!G||/-mono|dumb/i.test(K)?0:Z||Ie==="truecolor"||Ie==="24bit"||K==="xterm-kitty"?3:/-256(colou?r)?$/i.test(K)?2:/^screen|^tmux|^xterm|^vt[1-5][0-9]([0-9])?|^ansi|color|cygwin|linux|mintty|rxvt/i.test(K)?1:3})(f,q,u)),j&&p===0?3:p)})(),Nc=Jo>0,kc={open:"",close:""},Ee=Nc?(e,t)=>({open:`\x1B[${e}m`,close:`\x1B[${t}m`}):()=>kc,Rr=39,Nr=49,Cc=e=>(t,r,n)=>e(Rc(t,r,n)),Ec=e=>t=>{let[r,n,s]=Lc(t);return e(r,n,s)},ti=e=>Ee(`38;5;${e}`,Rr),ri=e=>Ee(`48;5;${e}`,Nr),es=(e,t,r)=>Ee(`38;2;${e};${t};${r}`,Rr),ni=(e,t,r)=>Ee(`48;2;${e};${t};${r}`,Nr);Jo===1?(ti=e=>Ee(Vo(e),Rr),ri=e=>Ee(Vo(e)+10,Nr),es=(e,t,r)=>Ee($c(e,t,r),Rr),ni=(e,t,r)=>Ee($c(e,t,r)+10,Nr)):Jo===2&&(es=Cc(ti),ni=Cc(ri));var Xn,Uo,Qn={ansi256:ti,bgAnsi256:ri,fg:ti,bg:ri,rgb:es,bgRgb:ni,hex:Ec(es),bgHex:Ec(ni),visible:kc,reset:Ee(0,0),inverse:Ee(7,27),hidden:Ee(8,28),bold:Ee(1,22),dim:Ee(2,22),italic:Ee(3,23),underline:Ee(4,24),strikethrough:Ee(9,29),strike:Ee(9,29),grey:Ee(90,Rr),gray:Ee(90,Rr),bgGrey:Ee(100,Nr),bgGray:Ee(100,Nr)},Rg=["black","red","green","yellow","blue","magenta","cyan","white"],Ac="Bright",Zn=30;for(Xn of Rg)Uo="bg"+Xn[0].toUpperCase()+Xn.slice(1),Qn[Xn]=Ee(Zn,Rr),Qn[Xn+Ac]=Ee(Zn+60,Rr),Qn[Uo]=Ee(Zn+10,Nr),Qn[Uo+Ac]=Ee(Zn+70,Nr),Zn++;var{defineProperty:Ng,defineProperties:kg,setPrototypeOf:Pc}=Object,Pg=/[Â›][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,Og=/(\r?\n)/g,Tc={},Bc=({_p:e},{open:t,close:r})=>{let n=(a,...u)=>{if(!a)return"";let c=n._p,{_a:f,_b:p}=c,d=a.raw!=null?String.raw(a,...u):""+a;if(d.includes("\x1B"))for(;c!=null;){let b=c.close,D=b.length;if(D){let h,F=0,j="";for(;~(h=d.indexOf(b,F));)j+=d.slice(F,h)+c.open,F=h+D;F&&(d=j+d.slice(F))}c=c._p}return d.includes(`
`)&&(d=d.replace(Og,p+"$1"+f)),f+d+p},s=t,o=r;return e!=null&&(s=e._a+t,o=r+e._b),Pc(n,Yo),n._p={open:t,close:r,_a:s,_b:o,_p:e},n.open=s,n.close=o,n},Oc=function(){let e=t=>""+t;return e.isSupported=()=>Nc,e.strip=t=>t.replace(Pg,""),e.extend=t=>{for(let r in t){let n=t[r],s=typeof n,o=s==="string"?es(...Lc(n)):n;Tc[r]=s==="function"?{get(){return(...a)=>Bc(this,n(...a))}}:{get(){let a=Bc(this,o);return Ng(this,r,{value:a}),a}}}Yo=kg({},Tc),Pc(e,Yo)},e.extend(Qn),e},Yo,_g=new Oc;Ko.exports=_g,Ko.exports.Ansis=Oc});var $s=ge((j$,_f)=>{"use strict";l();var p0=require("path"),fr="\\\\/",Nf=`[^${fr}]`,vr="\\.",m0="\\+",d0="\\?",qi="\\/",g0="(?=.)",kf="[^/]",Wa=`(?:${qi}|$)`,Pf=`(?:^|${qi})`,Ma=`${vr}{1,2}${Wa}`,h0=`(?!${vr})`,y0=`(?!${Pf}${Ma})`,D0=`(?!${vr}{0,1}${Wa})`,b0=`(?!${Ma})`,w0=`[^.${qi}]`,x0=`${kf}*?`,Of={DOT_LITERAL:vr,PLUS_LITERAL:m0,QMARK_LITERAL:d0,SLASH_LITERAL:qi,ONE_CHAR:g0,QMARK:kf,END_ANCHOR:Wa,DOTS_SLASH:Ma,NO_DOT:h0,NO_DOTS:y0,NO_DOT_SLASH:D0,NO_DOTS_SLASH:b0,QMARK_NO_DOT:w0,STAR:x0,START_ANCHOR:Pf},S0={...Of,SLASH_LITERAL:`[${fr}]`,QMARK:Nf,STAR:`${Nf}*?`,DOTS_SLASH:`${vr}{1,2}(?:[${fr}]|$)`,NO_DOT:`(?!${vr})`,NO_DOTS:`(?!(?:^|[${fr}])${vr}{1,2}(?:[${fr}]|$))`,NO_DOT_SLASH:`(?!${vr}{0,1}(?:[${fr}]|$))`,NO_DOTS_SLASH:`(?!${vr}{1,2}(?:[${fr}]|$))`,QMARK_NO_DOT:`[^.${fr}]`,START_ANCHOR:`(?:^|[${fr}])`,END_ANCHOR:`(?:[${fr}]|$)`},F0={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};_f.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:F0,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:p0.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?S0:Of}}});var Gi=ge(At=>{"use strict";l();var v0=require("path"),$0=process.platform==="win32",{REGEX_BACKSLASH:C0,REGEX_REMOVE_BACKSLASH:E0,REGEX_SPECIAL_CHARS:A0,REGEX_SPECIAL_CHARS_GLOBAL:T0}=$s();At.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);At.hasRegexChars=e=>A0.test(e);At.isRegexChar=e=>e.length===1&&At.hasRegexChars(e);At.escapeRegex=e=>e.replace(T0,"\\$1");At.toPosixSlashes=e=>e.replace(C0,"/");At.removeBackslashes=e=>e.replace(E0,t=>t==="\\"?"":t);At.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};At.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:$0===!0||v0.sep==="\\";At.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?At.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};At.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};At.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var zf=ge((G$,Hf)=>{"use strict";l();var If=Gi(),{CHAR_ASTERISK:qa,CHAR_AT:B0,CHAR_BACKWARD_SLASH:Cs,CHAR_COMMA:L0,CHAR_DOT:Ga,CHAR_EXCLAMATION_MARK:Ha,CHAR_FORWARD_SLASH:Gf,CHAR_LEFT_CURLY_BRACE:za,CHAR_LEFT_PARENTHESES:Ua,CHAR_LEFT_SQUARE_BRACKET:R0,CHAR_PLUS:N0,CHAR_QUESTION_MARK:jf,CHAR_RIGHT_CURLY_BRACE:k0,CHAR_RIGHT_PARENTHESES:Wf,CHAR_RIGHT_SQUARE_BRACKET:P0}=$s(),Mf=e=>e===Gf||e===Cs,qf=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},O0=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],a=[],u=[],c=e,f=-1,p=0,d=0,b=!1,D=!1,h=!1,F=!1,j=!1,q=!1,Y=!1,G=!1,Z=!1,K=!1,Ie=0,qe,J,De={value:"",depth:0,isGlob:!1},Xe=()=>f>=n,$=()=>c.charCodeAt(f+1),Le=()=>(qe=J,c.charCodeAt(++f));for(;f<n;){J=Le();let ct;if(J===Cs){Y=De.backslashes=!0,J=Le(),J===za&&(q=!0);continue}if(q===!0||J===za){for(Ie++;Xe()!==!0&&(J=Le());){if(J===Cs){Y=De.backslashes=!0,Le();continue}if(J===za){Ie++;continue}if(q!==!0&&J===Ga&&(J=Le())===Ga){if(b=De.isBrace=!0,h=De.isGlob=!0,K=!0,s===!0)continue;break}if(q!==!0&&J===L0){if(b=De.isBrace=!0,h=De.isGlob=!0,K=!0,s===!0)continue;break}if(J===k0&&(Ie--,Ie===0)){q=!1,b=De.isBrace=!0,K=!0;break}}if(s===!0)continue;break}if(J===Gf){if(o.push(f),a.push(De),De={value:"",depth:0,isGlob:!1},K===!0)continue;if(qe===Ga&&f===p+1){p+=2;continue}d=f+1;continue}if(r.noext!==!0&&(J===N0||J===B0||J===qa||J===jf||J===Ha)===!0&&$()===Ua){if(h=De.isGlob=!0,F=De.isExtglob=!0,K=!0,J===Ha&&f===p&&(Z=!0),s===!0){for(;Xe()!==!0&&(J=Le());){if(J===Cs){Y=De.backslashes=!0,J=Le();continue}if(J===Wf){h=De.isGlob=!0,K=!0;break}}continue}break}if(J===qa){if(qe===qa&&(j=De.isGlobstar=!0),h=De.isGlob=!0,K=!0,s===!0)continue;break}if(J===jf){if(h=De.isGlob=!0,K=!0,s===!0)continue;break}if(J===R0){for(;Xe()!==!0&&(ct=Le());){if(ct===Cs){Y=De.backslashes=!0,Le();continue}if(ct===P0){D=De.isBracket=!0,h=De.isGlob=!0,K=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&J===Ha&&f===p){G=De.negated=!0,p++;continue}if(r.noparen!==!0&&J===Ua){if(h=De.isGlob=!0,s===!0){for(;Xe()!==!0&&(J=Le());){if(J===Ua){Y=De.backslashes=!0,J=Le();continue}if(J===Wf){K=!0;break}}continue}break}if(h===!0){if(K=!0,s===!0)continue;break}}r.noext===!0&&(F=!1,h=!1);let $e=c,Tr="",x="";p>0&&(Tr=c.slice(0,p),c=c.slice(p),d-=p),$e&&h===!0&&d>0?($e=c.slice(0,d),x=c.slice(d)):h===!0?($e="",x=c):$e=c,$e&&$e!==""&&$e!=="/"&&$e!==c&&Mf($e.charCodeAt($e.length-1))&&($e=$e.slice(0,-1)),r.unescape===!0&&(x&&(x=If.removeBackslashes(x)),$e&&Y===!0&&($e=If.removeBackslashes($e)));let S={prefix:Tr,input:e,start:p,base:$e,glob:x,isBrace:b,isBracket:D,isGlob:h,isExtglob:F,isGlobstar:j,negated:G,negatedExtglob:Z};if(r.tokens===!0&&(S.maxDepth=0,Mf(J)||a.push(De),S.tokens=a),r.parts===!0||r.tokens===!0){let ct;for(let de=0;de<o.length;de++){let er=ct?ct+1:p,tr=o[de],Lt=e.slice(er,tr);r.tokens&&(de===0&&p!==0?(a[de].isPrefix=!0,a[de].value=Tr):a[de].value=Lt,qf(a[de]),S.maxDepth+=a[de].depth),(de!==0||Lt!=="")&&u.push(Lt),ct=tr}if(ct&&ct+1<e.length){let de=e.slice(ct+1);u.push(de),r.tokens&&(a[a.length-1].value=de,qf(a[a.length-1]),S.maxDepth+=a[a.length-1].depth)}S.slashes=o,S.parts=u}return S};Hf.exports=O0});var Jf=ge((z$,Vf)=>{"use strict";l();var Hi=$s(),Ot=Gi(),{MAX_LENGTH:zi,POSIX_REGEX_SOURCE:_0,REGEX_NON_SPECIAL_CHARS:I0,REGEX_SPECIAL_CHARS_BACKREF:j0,REPLACEMENTS:Uf}=Hi,W0=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>Ot.escapeRegex(s)).join("..")}return r},On=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Va=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Uf[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(zi,r.maxLength):zi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},a=[o],u=r.capture?"":"?:",c=Ot.isWindows(t),f=Hi.globChars(c),p=Hi.extglobChars(f),{DOT_LITERAL:d,PLUS_LITERAL:b,SLASH_LITERAL:D,ONE_CHAR:h,DOTS_SLASH:F,NO_DOT:j,NO_DOT_SLASH:q,NO_DOTS_SLASH:Y,QMARK:G,QMARK_NO_DOT:Z,STAR:K,START_ANCHOR:Ie}=f,qe=P=>`(${u}(?:(?!${Ie}${P.dot?F:d}).)*?)`,J=r.dot?"":j,De=r.dot?G:Z,Xe=r.bash===!0?qe(r):K;r.capture&&(Xe=`(${Xe})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let $={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=Ot.removePrefix(e,$),s=e.length;let Le=[],$e=[],Tr=[],x=o,S,ct=()=>$.index===s-1,de=$.peek=(P=1)=>e[$.index+P],er=$.advance=()=>e[++$.index]||"",tr=()=>e.slice($.index+1),Lt=(P="",Ce=0)=>{$.consumed+=P,$.index+=Ce},Gs=P=>{$.output+=P.output!=null?P.output:P.value,Lt(P.value)},lg=()=>{let P=1;for(;de()==="!"&&(de(2)!=="("||de(3)==="?");)er(),$.start++,P++;return P%2===0?!1:($.negated=!0,$.start++,!0)},Hs=P=>{$[P]++,Tr.push(P)},Jr=P=>{$[P]--,Tr.pop()},ae=P=>{if(x.type==="globstar"){let Ce=$.braces>0&&(P.type==="comma"||P.type==="brace"),T=P.extglob===!0||Le.length&&(P.type==="pipe"||P.type==="paren");P.type!=="slash"&&P.type!=="paren"&&!Ce&&!T&&($.output=$.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=Xe,$.output+=x.output)}if(Le.length&&P.type!=="paren"&&(Le[Le.length-1].inner+=P.value),(P.value||P.output)&&Gs(P),x&&x.type==="text"&&P.type==="text"){x.value+=P.value,x.output=(x.output||"")+P.value;return}P.prev=x,a.push(P),x=P},zs=(P,Ce)=>{let T={...p[Ce],conditions:1,inner:""};T.prev=x,T.parens=$.parens,T.output=$.output;let se=(r.capture?"(":"")+T.open;Hs("parens"),ae({type:P,value:Ce,output:$.output?"":h}),ae({type:"paren",extglob:!0,value:er(),output:se}),Le.push(T)},fg=P=>{let Ce=P.close+(r.capture?")":""),T;if(P.type==="negate"){let se=Xe;if(P.inner&&P.inner.length>1&&P.inner.includes("/")&&(se=qe(r)),(se!==Xe||ct()||/^\)+$/.test(tr()))&&(Ce=P.close=`)$))${se}`),P.inner.includes("*")&&(T=tr())&&/^\.[^\\/.]+$/.test(T)){let Oe=Va(T,{...t,fastpaths:!1}).output;Ce=P.close=`)${Oe})${se})`}P.prev.type==="bos"&&($.negatedExtglob=!0)}ae({type:"paren",extglob:!0,value:S,output:Ce}),Jr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let P=!1,Ce=e.replace(j0,(T,se,Oe,lt,Ze,ko)=>lt==="\\"?(P=!0,T):lt==="?"?se?se+lt+(Ze?G.repeat(Ze.length):""):ko===0?De+(Ze?G.repeat(Ze.length):""):G.repeat(Oe.length):lt==="."?d.repeat(Oe.length):lt==="*"?se?se+lt+(Ze?Xe:""):Xe:se?T:`\\${T}`);return P===!0&&(r.unescape===!0?Ce=Ce.replace(/\\/g,""):Ce=Ce.replace(/\\+/g,T=>T.length%2===0?"\\\\":T?"\\":"")),Ce===e&&r.contains===!0?($.output=e,$):($.output=Ot.wrapOutput(Ce,$,t),$)}for(;!ct();){if(S=er(),S==="\0")continue;if(S==="\\"){let T=de();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){S+="\\",ae({type:"text",value:S});continue}let se=/^\\+/.exec(tr()),Oe=0;if(se&&se[0].length>2&&(Oe=se[0].length,$.index+=Oe,Oe%2!==0&&(S+="\\")),r.unescape===!0?S=er():S+=er(),$.brackets===0){ae({type:"text",value:S});continue}}if($.brackets>0&&(S!=="]"||x.value==="["||x.value==="[^")){if(r.posix!==!1&&S===":"){let T=x.value.slice(1);if(T.includes("[")&&(x.posix=!0,T.includes(":"))){let se=x.value.lastIndexOf("["),Oe=x.value.slice(0,se),lt=x.value.slice(se+2),Ze=_0[lt];if(Ze){x.value=Oe+Ze,$.backtrack=!0,er(),!o.output&&a.indexOf(x)===1&&(o.output=h);continue}}}(S==="["&&de()!==":"||S==="-"&&de()==="]")&&(S=`\\${S}`),S==="]"&&(x.value==="["||x.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&x.value==="["&&(S="^"),x.value+=S,Gs({value:S});continue}if($.quotes===1&&S!=='"'){S=Ot.escapeRegex(S),x.value+=S,Gs({value:S});continue}if(S==='"'){$.quotes=$.quotes===1?0:1,r.keepQuotes===!0&&ae({type:"text",value:S});continue}if(S==="("){Hs("parens"),ae({type:"paren",value:S});continue}if(S===")"){if($.parens===0&&r.strictBrackets===!0)throw new SyntaxError(On("opening","("));let T=Le[Le.length-1];if(T&&$.parens===T.parens+1){fg(Le.pop());continue}ae({type:"paren",value:S,output:$.parens?")":"\\)"}),Jr("parens");continue}if(S==="["){if(r.nobracket===!0||!tr().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(On("closing","]"));S=`\\${S}`}else Hs("brackets");ae({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||x&&x.type==="bracket"&&x.value.length===1){ae({type:"text",value:S,output:`\\${S}`});continue}if($.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(On("opening","["));ae({type:"text",value:S,output:`\\${S}`});continue}Jr("brackets");let T=x.value.slice(1);if(x.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(S=`/${S}`),x.value+=S,Gs({value:S}),r.literalBrackets===!1||Ot.hasRegexChars(T))continue;let se=Ot.escapeRegex(x.value);if($.output=$.output.slice(0,-x.value.length),r.literalBrackets===!0){$.output+=se,x.value=se;continue}x.value=`(${u}${se}|${x.value})`,$.output+=x.value;continue}if(S==="{"&&r.nobrace!==!0){Hs("braces");let T={type:"brace",value:S,output:"(",outputIndex:$.output.length,tokensIndex:$.tokens.length};$e.push(T),ae(T);continue}if(S==="}"){let T=$e[$e.length-1];if(r.nobrace===!0||!T){ae({type:"text",value:S,output:S});continue}let se=")";if(T.dots===!0){let Oe=a.slice(),lt=[];for(let Ze=Oe.length-1;Ze>=0&&(a.pop(),Oe[Ze].type!=="brace");Ze--)Oe[Ze].type!=="dots"&&lt.unshift(Oe[Ze].value);se=W0(lt,r),$.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let Oe=$.output.slice(0,T.outputIndex),lt=$.tokens.slice(T.tokensIndex);T.value=T.output="\\{",S=se="\\}",$.output=Oe;for(let Ze of lt)$.output+=Ze.output||Ze.value}ae({type:"brace",value:S,output:se}),Jr("braces"),$e.pop();continue}if(S==="|"){Le.length>0&&Le[Le.length-1].conditions++,ae({type:"text",value:S});continue}if(S===","){let T=S,se=$e[$e.length-1];se&&Tr[Tr.length-1]==="braces"&&(se.comma=!0,T="|"),ae({type:"comma",value:S,output:T});continue}if(S==="/"){if(x.type==="dot"&&$.index===$.start+1){$.start=$.index+1,$.consumed="",$.output="",a.pop(),x=o;continue}ae({type:"slash",value:S,output:D});continue}if(S==="."){if($.braces>0&&x.type==="dot"){x.value==="."&&(x.output=d);let T=$e[$e.length-1];x.type="dots",x.output+=S,x.value+=S,T.dots=!0;continue}if($.braces+$.parens===0&&x.type!=="bos"&&x.type!=="slash"){ae({type:"text",value:S,output:d});continue}ae({type:"dot",value:S,output:d});continue}if(S==="?"){if(!(x&&x.value==="(")&&r.noextglob!==!0&&de()==="("&&de(2)!=="?"){zs("qmark",S);continue}if(x&&x.type==="paren"){let se=de(),Oe=S;if(se==="<"&&!Ot.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(x.value==="("&&!/[!=<:]/.test(se)||se==="<"&&!/<([!=]|\w+>)/.test(tr()))&&(Oe=`\\${S}`),ae({type:"text",value:S,output:Oe});continue}if(r.dot!==!0&&(x.type==="slash"||x.type==="bos")){ae({type:"qmark",value:S,output:Z});continue}ae({type:"qmark",value:S,output:G});continue}if(S==="!"){if(r.noextglob!==!0&&de()==="("&&(de(2)!=="?"||!/[!=<:]/.test(de(3)))){zs("negate",S);continue}if(r.nonegate!==!0&&$.index===0){lg();continue}}if(S==="+"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){zs("plus",S);continue}if(x&&x.value==="("||r.regex===!1){ae({type:"plus",value:S,output:b});continue}if(x&&(x.type==="bracket"||x.type==="paren"||x.type==="brace")||$.parens>0){ae({type:"plus",value:S});continue}ae({type:"plus",value:b});continue}if(S==="@"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){ae({type:"at",extglob:!0,value:S,output:""});continue}ae({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let T=I0.exec(tr());T&&(S+=T[0],$.index+=T[0].length),ae({type:"text",value:S});continue}if(x&&(x.type==="globstar"||x.star===!0)){x.type="star",x.star=!0,x.value+=S,x.output=Xe,$.backtrack=!0,$.globstar=!0,Lt(S);continue}let P=tr();if(r.noextglob!==!0&&/^\([^?]/.test(P)){zs("star",S);continue}if(x.type==="star"){if(r.noglobstar===!0){Lt(S);continue}let T=x.prev,se=T.prev,Oe=T.type==="slash"||T.type==="bos",lt=se&&(se.type==="star"||se.type==="globstar");if(r.bash===!0&&(!Oe||P[0]&&P[0]!=="/")){ae({type:"star",value:S,output:""});continue}let Ze=$.braces>0&&(T.type==="comma"||T.type==="brace"),ko=Le.length&&(T.type==="pipe"||T.type==="paren");if(!Oe&&T.type!=="paren"&&!Ze&&!ko){ae({type:"star",value:S,output:""});continue}for(;P.slice(0,3)==="/**";){let Us=e[$.index+4];if(Us&&Us!=="/")break;P=P.slice(3),Lt("/**",3)}if(T.type==="bos"&&ct()){x.type="globstar",x.value+=S,x.output=qe(r),$.output=x.output,$.globstar=!0,Lt(S);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!lt&&ct()){$.output=$.output.slice(0,-(T.output+x.output).length),T.output=`(?:${T.output}`,x.type="globstar",x.output=qe(r)+(r.strictSlashes?")":"|$)"),x.value+=S,$.globstar=!0,$.output+=T.output+x.output,Lt(S);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&P[0]==="/"){let Us=P[1]!==void 0?"|$":"";$.output=$.output.slice(0,-(T.output+x.output).length),T.output=`(?:${T.output}`,x.type="globstar",x.output=`${qe(r)}${D}|${D}${Us})`,x.value+=S,$.output+=T.output+x.output,$.globstar=!0,Lt(S+er()),ae({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&P[0]==="/"){x.type="globstar",x.value+=S,x.output=`(?:^|${D}|${qe(r)}${D})`,$.output=x.output,$.globstar=!0,Lt(S+er()),ae({type:"slash",value:"/",output:""});continue}$.output=$.output.slice(0,-x.output.length),x.type="globstar",x.output=qe(r),x.value+=S,$.output+=x.output,$.globstar=!0,Lt(S);continue}let Ce={type:"star",value:S,output:Xe};if(r.bash===!0){Ce.output=".*?",(x.type==="bos"||x.type==="slash")&&(Ce.output=J+Ce.output),ae(Ce);continue}if(x&&(x.type==="bracket"||x.type==="paren")&&r.regex===!0){Ce.output=S,ae(Ce);continue}($.index===$.start||x.type==="slash"||x.type==="dot")&&(x.type==="dot"?($.output+=q,x.output+=q):r.dot===!0?($.output+=Y,x.output+=Y):($.output+=J,x.output+=J),de()!=="*"&&($.output+=h,x.output+=h)),ae(Ce)}for(;$.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(On("closing","]"));$.output=Ot.escapeLast($.output,"["),Jr("brackets")}for(;$.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(On("closing",")"));$.output=Ot.escapeLast($.output,"("),Jr("parens")}for(;$.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(On("closing","}"));$.output=Ot.escapeLast($.output,"{"),Jr("braces")}if(r.strictSlashes!==!0&&(x.type==="star"||x.type==="bracket")&&ae({type:"maybe_slash",value:"",output:`${D}?`}),$.backtrack===!0){$.output="";for(let P of $.tokens)$.output+=P.output!=null?P.output:P.value,P.suffix&&($.output+=P.suffix)}return $};Va.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(zi,r.maxLength):zi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=Uf[e]||e;let o=Ot.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:u,ONE_CHAR:c,DOTS_SLASH:f,NO_DOT:p,NO_DOTS:d,NO_DOTS_SLASH:b,STAR:D,START_ANCHOR:h}=Hi.globChars(o),F=r.dot?d:p,j=r.dot?b:p,q=r.capture?"":"?:",Y={negated:!1,prefix:""},G=r.bash===!0?".*?":D;r.capture&&(G=`(${G})`);let Z=J=>J.noglobstar===!0?G:`(${q}(?:(?!${h}${J.dot?f:a}).)*?)`,K=J=>{switch(J){case"*":return`${F}${c}${G}`;case".*":return`${a}${c}${G}`;case"*.*":return`${F}${G}${a}${c}${G}`;case"*/*":return`${F}${G}${u}${c}${j}${G}`;case"**":return F+Z(r);case"**/*":return`(?:${F}${Z(r)}${u})?${j}${c}${G}`;case"**/*.*":return`(?:${F}${Z(r)}${u})?${j}${G}${a}${c}${G}`;case"**/.*":return`(?:${F}${Z(r)}${u})?${a}${c}${G}`;default:{let De=/^(.*?)\.(\w+)$/.exec(J);if(!De)return;let Xe=K(De[1]);return Xe?Xe+a+De[2]:void 0}}},Ie=Ot.removePrefix(e,Y),qe=K(Ie);return qe&&r.strictSlashes!==!0&&(qe+=`${u}?`),qe};Vf.exports=Va});var Kf=ge((V$,Yf)=>{"use strict";l();var M0=require("path"),q0=zf(),Ja=Jf(),Ya=Gi(),G0=$s(),H0=e=>e&&typeof e=="object"&&!Array.isArray(e),ze=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(b=>ze(b,t,r));return b=>{for(let D of p){let h=D(b);if(h)return h}return!1}}let n=H0(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=Ya.isWindows(t),a=n?ze.compileRe(e,t):ze.makeRe(e,t,!1,!0),u=a.state;delete a.state;let c=()=>!1;if(s.ignore){let p={...t,ignore:null,onMatch:null,onResult:null};c=ze(s.ignore,p,r)}let f=(p,d=!1)=>{let{isMatch:b,match:D,output:h}=ze.test(p,a,t,{glob:e,posix:o}),F={glob:e,state:u,regex:a,posix:o,input:p,output:h,match:D,isMatch:b};return typeof s.onResult=="function"&&s.onResult(F),b===!1?(F.isMatch=!1,d?F:!1):c(p)?(typeof s.onIgnore=="function"&&s.onIgnore(F),F.isMatch=!1,d?F:!1):(typeof s.onMatch=="function"&&s.onMatch(F),d?F:!0)};return r&&(f.state=u),f};ze.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},a=o.format||(s?Ya.toPosixSlashes:null),u=e===n,c=u&&a?a(e):e;return u===!1&&(c=a?a(e):e,u=c===n),(u===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?u=ze.matchBase(e,t,r,s):u=t.exec(c)),{isMatch:!!u,match:u,output:c}};ze.matchBase=(e,t,r,n=Ya.isWindows(r))=>(t instanceof RegExp?t:ze.makeRe(t,r)).test(M0.basename(e));ze.isMatch=(e,t,r)=>ze(t,r)(e);ze.parse=(e,t)=>Array.isArray(e)?e.map(r=>ze.parse(r,t)):Ja(e,{...t,fastpaths:!1});ze.scan=(e,t)=>q0(e,t);ze.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},o=s.contains?"":"^",a=s.contains?"":"$",u=`${o}(?:${e.output})${a}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);let c=ze.toRegex(u,t);return n===!0&&(c.state=e),c};ze.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=Ja.fastpaths(e,t)),s.output||(s=Ja(e,t)),ze.compileRe(s,t,r,n)};ze.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};ze.constants=G0;Yf.exports=ze});var Zf=ge((Y$,Xf)=>{"use strict";l();Xf.exports=Kf()});var ep=ge((X$,Qf)=>{l();Qf.exports=function(e,t){if(typeof e!="string")throw new TypeError("expected path to be a string");if(e==="\\"||e==="/")return"/";var r=e.length;if(r<=1)return e;var n="";if(r>4&&e[3]==="\\"){var s=e[2];(s==="?"||s===".")&&e.slice(0,2)==="\\\\"&&(e=e.slice(2),n="//")}var o=e.split(/[/\\]+/);return t!==!1&&o[o.length-1]===""&&o.pop(),n+o.join("/")}});var pn=ge((sp,ip)=>{"use strict";l();Object.defineProperty(sp,"__esModule",{value:!0});var np=Zf(),z0=ep(),tp="!",U0={returnIndex:!1},V0=e=>Array.isArray(e)?e:[e],J0=(e,t)=>{if(typeof e=="function")return e;if(typeof e=="string"){let r=np(e,t);return n=>e===n||r(n)}return e instanceof RegExp?r=>e.test(r):r=>!1},rp=(e,t,r,n)=>{let s=Array.isArray(r),o=s?r[0]:r;if(!s&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let a=z0(o,!1);for(let c=0;c<t.length;c++){let f=t[c];if(f(a))return n?-1:!1}let u=s&&[a].concat(r.slice(1));for(let c=0;c<e.length;c++){let f=e[c];if(s?f(...u):f(a))return n?c:!0}return n?-1:!1},Ka=(e,t,r=U0)=>{if(e==null)throw new TypeError("anymatch: specify first argument");let n=typeof r=="boolean"?{returnIndex:r}:r,s=n.returnIndex||!1,o=V0(e),a=o.filter(c=>typeof c=="string"&&c.charAt(0)===tp).map(c=>c.slice(1)).map(c=>np(c,n)),u=o.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==tp).map(c=>J0(c,n));return t==null?(c,f=!1)=>rp(u,a,c,typeof f=="boolean"?f:!1):rp(u,a,t,s)};Ka.default=Ka;ip.exports=Ka});var op=ge(Ji=>{l();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;Ji.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!!(e[3]||e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}});var fp=ge(Es=>{"use strict";l();Object.defineProperty(Es,"__esModule",{value:!0});Es.isIdentifierChar=lp;Es.isIdentifierName=Q0;Es.isIdentifierStart=cp;var Qa="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ap="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",K0=new RegExp("["+Qa+"]"),X0=new RegExp("["+Qa+ap+"]");Qa=ap=null;var up=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Z0=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function Za(e,t){let r=65536;for(let n=0,s=t.length;n<s;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}return!1}function cp(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&K0.test(String.fromCharCode(e)):Za(e,up)}function lp(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&X0.test(String.fromCharCode(e)):Za(e,up)||Za(e,Z0)}function Q0(e){let t=!0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if((n&64512)===55296&&r+1<e.length){let s=e.charCodeAt(++r);(s&64512)===56320&&(n=65536+((n&1023)<<10)+(s&1023))}if(t){if(t=!1,!cp(n))return!1}else if(!lp(n))return!1}return!t}});var gp=ge(mn=>{"use strict";l();Object.defineProperty(mn,"__esModule",{value:!0});mn.isKeyword=sy;mn.isReservedWord=pp;mn.isStrictBindOnlyReservedWord=dp;mn.isStrictBindReservedWord=ny;mn.isStrictReservedWord=mp;var eu={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},ey=new Set(eu.keyword),ty=new Set(eu.strict),ry=new Set(eu.strictBind);function pp(e,t){return t&&e==="await"||e==="enum"}function mp(e,t){return pp(e,t)||ty.has(e)}function dp(e){return ry.has(e)}function ny(e,t){return mp(e,t)||dp(e)}function sy(e){return ey.has(e)}});var hp=ge(pr=>{"use strict";l();Object.defineProperty(pr,"__esModule",{value:!0});Object.defineProperty(pr,"isIdentifierChar",{enumerable:!0,get:function(){return tu.isIdentifierChar}});Object.defineProperty(pr,"isIdentifierName",{enumerable:!0,get:function(){return tu.isIdentifierName}});Object.defineProperty(pr,"isIdentifierStart",{enumerable:!0,get:function(){return tu.isIdentifierStart}});Object.defineProperty(pr,"isKeyword",{enumerable:!0,get:function(){return As.isKeyword}});Object.defineProperty(pr,"isReservedWord",{enumerable:!0,get:function(){return As.isReservedWord}});Object.defineProperty(pr,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return As.isStrictBindOnlyReservedWord}});Object.defineProperty(pr,"isStrictBindReservedWord",{enumerable:!0,get:function(){return As.isStrictBindReservedWord}});Object.defineProperty(pr,"isStrictReservedWord",{enumerable:!0,get:function(){return As.isStrictReservedWord}});var tu=fp(),As=gp()});var nu=ge((gC,ru)=>{l();var yp=process.argv||[],Yi=process.env,iy=!("NO_COLOR"in Yi||yp.includes("--no-color"))&&("FORCE_COLOR"in Yi||yp.includes("--color")||process.platform==="win32"||require!=null&&require("tty").isatty(1)&&Yi.TERM!=="dumb"||"CI"in Yi),oy=(e,t,r=e)=>n=>{let s=""+n,o=s.indexOf(t,e.length);return~o?e+ay(s,t,r,o)+t:e+s+t},ay=(e,t,r,n)=>{let s="",o=0;do s+=e.substring(o,n)+r,o=n+t.length,n=e.indexOf(t,o);while(~n);return s+e.substring(o)},Dp=(e=iy)=>{let t=e?oy:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m")}};ru.exports=Dp();ru.exports.createColors=Dp});var wp=ge((yC,bp)=>{"use strict";l();var uy=/[|\\{}()[\]^$+*?.]/g;bp.exports=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(uy,"\\$&")}});var Sp=ge((bC,xp)=>{"use strict";l();xp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var su=ge((xC,Cp)=>{l();var dn=Sp(),$p={};for(Ki in dn)dn.hasOwnProperty(Ki)&&($p[dn[Ki]]=Ki);var Ki,W=Cp.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(ht in W)if(W.hasOwnProperty(ht)){if(!("channels"in W[ht]))throw new Error("missing channels property: "+ht);if(!("labels"in W[ht]))throw new Error("missing channel labels property: "+ht);if(W[ht].labels.length!==W[ht].channels)throw new Error("channel and label counts mismatch: "+ht);Fp=W[ht].channels,vp=W[ht].labels,delete W[ht].channels,delete W[ht].labels,Object.defineProperty(W[ht],"channels",{value:Fp}),Object.defineProperty(W[ht],"labels",{value:vp})}var Fp,vp,ht;W.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.min(t,r,n),o=Math.max(t,r,n),a=o-s,u,c,f;return o===s?u=0:t===o?u=(r-n)/a:r===o?u=2+(n-t)/a:n===o&&(u=4+(t-r)/a),u=Math.min(u*60,360),u<0&&(u+=360),f=(s+o)/2,o===s?c=0:f<=.5?c=a/(o+s):c=a/(2-o-s),[u,c*100,f*100]};W.rgb.hsv=function(e){var t,r,n,s,o,a=e[0]/255,u=e[1]/255,c=e[2]/255,f=Math.max(a,u,c),p=f-Math.min(a,u,c),d=function(b){return(f-b)/6/p+1/2};return p===0?s=o=0:(o=p/f,t=d(a),r=d(u),n=d(c),a===f?s=n-r:u===f?s=1/3+t-n:c===f&&(s=2/3+r-t),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,f*100]};W.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],s=W.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[s,o*100,n*100]};W.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s,o,a,u;return u=Math.min(1-t,1-r,1-n),s=(1-t-u)/(1-u)||0,o=(1-r-u)/(1-u)||0,a=(1-n-u)/(1-u)||0,[s*100,o*100,a*100,u*100]};function cy(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}W.rgb.keyword=function(e){var t=$p[e];if(t)return t;var r=1/0,n;for(var s in dn)if(dn.hasOwnProperty(s)){var o=dn[s],a=cy(e,o);a<r&&(r=a,n=s)}return n};W.keyword.rgb=function(e){return dn[e]};W.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var s=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,a=t*.0193+r*.1192+n*.9505;return[s*100,o*100,a*100]};W.rgb.lab=function(e){var t=W.rgb.xyz(e),r=t[0],n=t[1],s=t[2],o,a,u;return r/=95.047,n/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=116*n-16,a=500*(r-n),u=200*(n-s),[o,a,u]};W.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,s,o,a,u,c;if(r===0)return c=n*255,[c,c,c];n<.5?o=n*(1+r):o=n+r-n*r,s=2*n-o,u=[0,0,0];for(var f=0;f<3;f++)a=t+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?c=s+(o-s)*6*a:2*a<1?c=o:3*a<2?c=s+(o-s)*(2/3-a)*6:c=s,u[f]=c*255;return u};W.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,s=r,o=Math.max(n,.01),a,u;return n*=2,r*=n<=1?n:2-n,s*=o<=1?o:2-o,u=(n+r)/2,a=n===0?2*s/(o+s):2*r/(n+r),[t,a*100,u*100]};W.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,s=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),u=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,s){case 0:return[n,c,a];case 1:return[u,n,a];case 2:return[a,n,c];case 3:return[a,u,n];case 4:return[c,a,n];case 5:return[n,a,u]}};W.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,s=Math.max(n,.01),o,a,u;return u=(2-r)*n,o=(2-r)*s,a=r*s,a/=o<=1?o:2-o,a=a||0,u/=2,[t,a*100,u*100]};W.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,s=r+n,o,a,u,c;s>1&&(r/=s,n/=s),o=Math.floor(6*t),a=1-n,u=6*t-o,o&1&&(u=1-u),c=r+u*(a-r);var f,p,d;switch(o){default:case 6:case 0:f=a,p=c,d=r;break;case 1:f=c,p=a,d=r;break;case 2:f=r,p=a,d=c;break;case 3:f=r,p=c,d=a;break;case 4:f=c,p=r,d=a;break;case 5:f=a,p=r,d=c;break}return[f*255,p*255,d*255]};W.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,s=e[3]/100,o,a,u;return o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),u=1-Math.min(1,n*(1-s)+s),[o*255,a*255,u*255]};W.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,s,o,a;return s=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,a=t*.0557+r*-.204+n*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};W.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=116*r-16,o=500*(t-r),a=200*(r-n),[s,o,a]};W.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;o=(t+16)/116,s=r/500+o,a=o-n/200;var u=Math.pow(o,3),c=Math.pow(s,3),f=Math.pow(a,3);return o=u>.008856?u:(o-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,a=f>.008856?f:(a-16/116)/7.787,s*=95.047,o*=100,a*=108.883,[s,o,a]};W.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return s=Math.atan2(n,r),o=s*360/2/Math.PI,o<0&&(o+=360),a=Math.sqrt(r*r+n*n),[t,a,o]};W.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],s,o,a;return a=n/360*2*Math.PI,s=r*Math.cos(a),o=r*Math.sin(a),[t,s,o]};W.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],s=1 in arguments?arguments[1]:W.rgb.hsv(e)[2];if(s=Math.round(s/50),s===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};W.hsv.ansi16=function(e){return W.rgb.ansi16(W.hsv.rgb(e),e[2])};W.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var s=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return s};W.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,s=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,s,o]};W.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,s=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,s,o]};W.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};W.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(u){return u+u}).join(""));var n=parseInt(r,16),s=n>>16&255,o=n>>8&255,a=n&255;return[s,o,a]};W.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),a=s-o,u,c;return a<1?u=o/(1-a):u=0,a<=0?c=0:s===t?c=(r-n)/a%6:s===r?c=2+(n-t)/a:c=4+(t-r)/a+4,c/=6,c%=1,[c*360,a*100,u*100]};W.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,s=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(s=(r-.5*n)/(1-n)),[e[0],n*100,s*100]};W.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,s=0;return n<1&&(s=(r-n)/(1-n)),[e[0],n*100,s*100]};W.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var s=[0,0,0],o=t%1*6,a=o%1,u=1-a,c=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=u,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=u,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=u}return c=(1-r)*n,[(r*s[0]+c)*255,(r*s[1]+c)*255,(r*s[2]+c)*255]};W.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),s=0;return n>0&&(s=t/n),[e[0],s*100,n*100]};W.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],s*100,n*100]};W.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};W.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,s=n-t,o=0;return s<1&&(o=(n-s)/(1-s)),[e[0],s*100,o*100]};W.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};W.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};W.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};W.gray.hsl=W.gray.hsv=function(e){return[0,0,e[0]]};W.gray.hwb=function(e){return[0,100,e[0]]};W.gray.cmyk=function(e){return[0,0,0,e[0]]};W.gray.lab=function(e){return[e[0],0,0]};W.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};W.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var Ap=ge((FC,Ep)=>{l();var Xi=su();function ly(){for(var e={},t=Object.keys(Xi),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function fy(e){var t=ly(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),s=Object.keys(Xi[n]),o=s.length,a=0;a<o;a++){var u=s[a],c=t[u];c.distance===-1&&(c.distance=t[n].distance+1,c.parent=n,r.unshift(u))}return t}function py(e,t){return function(r){return t(e(r))}}function my(e,t){for(var r=[t[e].parent,e],n=Xi[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),n=py(Xi[t[s].parent][s],n),s=t[s].parent;return n.conversion=r,n}Ep.exports=function(e){for(var t=fy(e),r={},n=Object.keys(t),s=n.length,o=0;o<s;o++){var a=n[o],u=t[a];u.parent!==null&&(r[a]=my(a,t))}return r}});var Bp=ge(($C,Tp)=>{l();var iu=su(),dy=Ap(),_n={},gy=Object.keys(iu);function hy(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function yy(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var s=n.length,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}gy.forEach(function(e){_n[e]={},Object.defineProperty(_n[e],"channels",{value:iu[e].channels}),Object.defineProperty(_n[e],"labels",{value:iu[e].labels});var t=dy(e),r=Object.keys(t);r.forEach(function(n){var s=t[n];_n[e][n]=yy(s),_n[e][n].raw=hy(s)})});Tp.exports=_n});var Rp=ge((EC,Lp)=>{"use strict";l();var In=Bp(),Zi=(e,t)=>function(){return`\x1B[${e.apply(In,arguments)+t}m`},Qi=(e,t)=>function(){let r=e.apply(In,arguments);return`\x1B[${38+t};5;${r}m`},eo=(e,t)=>function(){let r=e.apply(In,arguments);return`\x1B[${38+t};2;${r[0]};${r[1]};${r[2]}m`};function Dy(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.grey=t.color.gray;for(let s of Object.keys(t)){let o=t[s];for(let a of Object.keys(o)){let u=o[a];t[a]={open:`\x1B[${u[0]}m`,close:`\x1B[${u[1]}m`},o[a]=t[a],e.set(u[0],u[1])}Object.defineProperty(t,s,{value:o,enumerable:!1}),Object.defineProperty(t,"codes",{value:e,enumerable:!1})}let r=s=>s,n=(s,o,a)=>[s,o,a];t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi={ansi:Zi(r,0)},t.color.ansi256={ansi256:Qi(r,0)},t.color.ansi16m={rgb:eo(n,0)},t.bgColor.ansi={ansi:Zi(r,10)},t.bgColor.ansi256={ansi256:Qi(r,10)},t.bgColor.ansi16m={rgb:eo(n,10)};for(let s of Object.keys(In)){if(typeof In[s]!="object")continue;let o=In[s];s==="ansi16"&&(s="ansi"),"ansi16"in o&&(t.color.ansi[s]=Zi(o.ansi16,0),t.bgColor.ansi[s]=Zi(o.ansi16,10)),"ansi256"in o&&(t.color.ansi256[s]=Qi(o.ansi256,0),t.bgColor.ansi256[s]=Qi(o.ansi256,10)),"rgb"in o&&(t.color.ansi16m[s]=eo(o.rgb,0),t.bgColor.ansi16m[s]=eo(o.rgb,10))}return t}Object.defineProperty(Lp,"exports",{enumerable:!0,get:Dy})});var kp=ge((TC,Np)=>{"use strict";l();Np.exports=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1?!0:n<s)}});var Op=ge((LC,Pp)=>{"use strict";l();var by=require("os"),Jt=kp(),ut=process.env,jn;Jt("no-color")||Jt("no-colors")||Jt("color=false")?jn=!1:(Jt("color")||Jt("colors")||Jt("color=true")||Jt("color=always"))&&(jn=!0);"FORCE_COLOR"in ut&&(jn=ut.FORCE_COLOR.length===0||parseInt(ut.FORCE_COLOR,10)!==0);function wy(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function xy(e){if(jn===!1)return 0;if(Jt("color=16m")||Jt("color=full")||Jt("color=truecolor"))return 3;if(Jt("color=256"))return 2;if(e&&!e.isTTY&&jn!==!0)return 0;let t=jn?1:0;if(process.platform==="win32"){let r=by.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in ut)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in ut)||ut.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in ut)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ut.TEAMCITY_VERSION)?1:0;if(ut.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ut){let r=parseInt((ut.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ut.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ut.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ut.TERM)||"COLORTERM"in ut?1:(ut.TERM==="dumb",t)}function ou(e){let t=xy(e);return wy(t)}Pp.exports={supportsColor:ou,stdout:ou(process.stdout),stderr:ou(process.stderr)}});var Mp=ge((NC,Wp)=>{"use strict";l();var Sy=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,_p=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Fy=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,vy=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,$y=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function jp(e){return e[0]==="u"&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):$y.get(e)||e}function Cy(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),s;for(let o of n)if(!isNaN(o))r.push(Number(o));else if(s=o.match(Fy))r.push(s[2].replace(vy,(a,u,c)=>u?jp(u):c));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${e}')`);return r}function Ey(e){_p.lastIndex=0;let t=[],r;for(;(r=_p.exec(e))!==null;){let n=r[1];if(r[2]){let s=Cy(n,r[2]);t.push([n].concat(s))}else t.push([n])}return t}function Ip(e,t){let r={};for(let s of t)for(let o of s.styles)r[o[0]]=s.inverse?null:o.slice(1);let n=e;for(let s of Object.keys(r))if(Array.isArray(r[s])){if(!(s in n))throw new Error(`Unknown Chalk style: ${s}`);r[s].length>0?n=n[s].apply(n,r[s]):n=n[s]}return n}Wp.exports=(e,t)=>{let r=[],n=[],s=[];if(t.replace(Sy,(o,a,u,c,f,p)=>{if(a)s.push(jp(a));else if(c){let d=s.join("");s=[],n.push(r.length===0?d:Ip(e,r)(d)),r.push({inverse:u,styles:Ey(c)})}else if(f){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Ip(e,r)(s.join(""))),s=[],r.pop()}else s.push(p)}),n.push(s.join("")),r.length>0){let o=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return n.join("")}});var Up=ge((PC,Bs)=>{"use strict";l();var uu=wp(),Ke=Rp(),au=Op().stdout,Ay=Mp(),Gp=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),Hp=["ansi","ansi","ansi256","ansi16m"],zp=new Set(["gray"]),Wn=Object.create(null);function qp(e,t){t=t||{};let r=au?au.level:0;e.level=t.level===void 0?r:t.level,e.enabled="enabled"in t?t.enabled:e.level>0}function Ts(e){if(!this||!(this instanceof Ts)||this.template){let t={};return qp(t,e),t.template=function(){let r=[].slice.call(arguments);return Ly.apply(null,[t.template].concat(r))},Object.setPrototypeOf(t,Ts.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=Ts,t.template}qp(this,e)}Gp&&(Ke.blue.open="\x1B[94m");for(let e of Object.keys(Ke))Ke[e].closeRe=new RegExp(uu(Ke[e].close),"g"),Wn[e]={get(){let t=Ke[e];return to.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}};Wn.visible={get(){return to.call(this,this._styles||[],!0,"visible")}};Ke.color.closeRe=new RegExp(uu(Ke.color.close),"g");for(let e of Object.keys(Ke.color.ansi))zp.has(e)||(Wn[e]={get(){let t=this.level;return function(){let n={open:Ke.color[Hp[t]][e].apply(null,arguments),close:Ke.color.close,closeRe:Ke.color.closeRe};return to.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}});Ke.bgColor.closeRe=new RegExp(uu(Ke.bgColor.close),"g");for(let e of Object.keys(Ke.bgColor.ansi)){if(zp.has(e))continue;let t="bg"+e[0].toUpperCase()+e.slice(1);Wn[t]={get(){let r=this.level;return function(){let s={open:Ke.bgColor[Hp[r]][e].apply(null,arguments),close:Ke.bgColor.close,closeRe:Ke.bgColor.closeRe};return to.call(this,this._styles?this._styles.concat(s):[s],this._empty,e)}}}}var Ty=Object.defineProperties(()=>{},Wn);function to(e,t,r){let n=function(){return By.apply(n,arguments)};n._styles=e,n._empty=t;let s=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return s.level},set(o){s.level=o}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return s.enabled},set(o){s.enabled=o}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=Ty,n}function By(){let e=arguments,t=e.length,r=String(arguments[0]);if(t===0)return"";if(t>1)for(let s=1;s<t;s++)r+=" "+e[s];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=Ke.dim.open;Gp&&this.hasGrey&&(Ke.dim.open="");for(let s of this._styles.slice().reverse())r=s.open+r.replace(s.closeRe,s.open)+s.close,r=r.replace(/\r?\n/g,`${s.close}$&${s.open}`);return Ke.dim.open=n,r}function Ly(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[t.raw[0]];for(let s=1;s<t.length;s++)n.push(String(r[s-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(t.raw[s]));return Ay(e,n.join(""))}Object.defineProperties(Ts.prototype,Wn);Bs.exports=Ts();Bs.exports.supportsColor=au;Bs.exports.default=Bs.exports});var em=ge(Ls=>{"use strict";l();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=jy;Ls.shouldHighlight=Qp;var Vp=op(),Jp=hp(),lu=Ry(nu(),!0);function Kp(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Kp=function(n){return n?r:t})(e)}function Ry(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Kp(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var Xp=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,lu.createColors)(!1):lu.default,Yp=(e,t)=>r=>e(t(r)),Ny=new Set(["as","async","from","get","of","set"]);function ky(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:Yp(Yp(e.white,e.bgRed),e.bold)}}var Py=/\r\n|[\n\r\u2028\u2029]/,Oy=/^[()[\]{}]$/,Zp;{let e=/^[a-z][\w-]*$/i,t=function(r,n,s){if(r.type==="name"){if((0,Jp.isKeyword)(r.value)||(0,Jp.isStrictReservedWord)(r.value,!0)||Ny.has(r.value))return"keyword";if(e.test(r.value)&&(s[n-1]==="<"||s.slice(n-2,n)==="</"))return"jsxIdentifier";if(r.value[0]!==r.value[0].toLowerCase())return"capitalized"}return r.type==="punctuator"&&Oy.test(r.value)?"bracket":r.type==="invalid"&&(r.value==="@"||r.value==="#")?"punctuator":r.type};Zp=function*(r){let n;for(;n=Vp.default.exec(r);){let s=Vp.matchToToken(n);yield{type:t(s,n.index,r),value:s.value}}}}function _y(e,t){let r="";for(let{type:n,value:s}of Zp(t)){let o=e[n];o?r+=s.split(Py).map(a=>o(a)).join(`
`):r+=s}return r}function Qp(e){return Xp.isColorSupported||e.forceColor}var cu;function Iy(e){if(e){var t;return(t=cu)!=null||(cu=(0,lu.createColors)(!0)),cu}return Xp}function jy(e,t={}){if(e!==""&&Qp(t)){let r=ky(Iy(t.forceColor));return _y(r,e)}else return e}{let e,t;Ls.getChalk=({forceColor:r})=>{var n;if((n=e)!=null||(e=Up()),r){var s;return(s=t)!=null||(t=new e.constructor({enabled:!0,level:1})),t}return e}}});var am=ge(ro=>{"use strict";l();Object.defineProperty(ro,"__esModule",{value:!0});ro.codeFrameColumns=om;ro.default=zy;var tm=em(),pu=Wy(nu(),!0);function im(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(im=function(n){return n?r:t})(e)}function Wy(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=im(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var My=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,pu.createColors)(!1):pu.default,rm=(e,t)=>r=>e(t(r)),fu;function qy(e){if(e){var t;return(t=fu)!=null||(fu=(0,pu.createColors)(!0)),fu}return My}var nm=!1;function Gy(e){return{gutter:e.gray,marker:rm(e.red,e.bold),message:rm(e.red,e.bold)}}var sm=/\r\n|[\n\r\u2028\u2029]/;function Hy(e,t,r){let n=Object.assign({column:0,line:-1},e.start),s=Object.assign({},n,e.end),{linesAbove:o=2,linesBelow:a=3}=r||{},u=n.line,c=n.column,f=s.line,p=s.column,d=Math.max(u-(o+1),0),b=Math.min(t.length,f+a);u===-1&&(d=0),f===-1&&(b=t.length);let D=f-u,h={};if(D)for(let F=0;F<=D;F++){let j=F+u;if(!c)h[j]=!0;else if(F===0){let q=t[j-1].length;h[j]=[c,q-c+1]}else if(F===D)h[j]=[0,p];else{let q=t[j-F].length;h[j]=[0,q]}}else c===p?c?h[u]=[c,0]:h[u]=!0:h[u]=[c,p-c];return{start:d,end:b,markerLines:h}}function om(e,t,r={}){let n=(r.highlightCode||r.forceColor)&&(0,tm.shouldHighlight)(r),s=qy(r.forceColor),o=Gy(s),a=(F,j)=>n?F(j):j,u=e.split(sm),{start:c,end:f,markerLines:p}=Hy(t,u,r),d=t.start&&typeof t.start.column=="number",b=String(f).length,h=(n?(0,tm.default)(e,r):e).split(sm,f).slice(c,f).map((F,j)=>{let q=c+1+j,G=` ${` ${q}`.slice(-b)} |`,Z=p[q],K=!p[q+1];if(Z){let Ie="";if(Array.isArray(Z)){let qe=F.slice(0,Math.max(Z[0]-1,0)).replace(/[^\t]/g," "),J=Z[1]||1;Ie=[`
 `,a(o.gutter,G.replace(/\d/g," "))," ",qe,a(o.marker,"^").repeat(J)].join(""),K&&r.message&&(Ie+=" "+a(o.message,r.message))}return[a(o.marker,">"),a(o.gutter,G),F.length>0?` ${F}`:"",Ie].join("")}else return` ${a(o.gutter,G)}${F.length>0?` ${F}`:""}`}).join(`
`);return r.message&&!d&&(h=`${" ".repeat(b+1)}${r.message}
${h}`),n?s.reset(h):h}function zy(e,t,r,n={}){if(!nm){nm=!0;let o="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(o,"DeprecationWarning");else{let a=new Error(o);a.name="DeprecationWarning",console.warn(new Error(o))}}return r=Math.max(r,0),om(e,{start:{column:r,line:t}},n)}});var Fm=ge((y3,$u)=>{l();(function(){var e;function t(r,n){var s=this instanceof t?this:e;if(s.reset(n),typeof r=="string"&&r.length>0&&s.hash(r),s!==this)return s}t.prototype.hash=function(r){var n,s,o,a,u;switch(u=r.length,this.len+=u,s=this.k1,o=0,this.rem){case 0:s^=u>o?r.charCodeAt(o++)&65535:0;case 1:s^=u>o?(r.charCodeAt(o++)&65535)<<8:0;case 2:s^=u>o?(r.charCodeAt(o++)&65535)<<16:0;case 3:s^=u>o?(r.charCodeAt(o)&255)<<24:0,s^=u>o?(r.charCodeAt(o++)&65280)>>8:0}if(this.rem=u+this.rem&3,u-=this.rem,u>0){for(n=this.h1;s=s*11601+(s&65535)*3432906752&4294967295,s=s<<15|s>>>17,s=s*13715+(s&65535)*461832192&4294967295,n^=s,n=n<<13|n>>>19,n=n*5+3864292196&4294967295,!(o>=u);)s=r.charCodeAt(o++)&65535^(r.charCodeAt(o++)&65535)<<8^(r.charCodeAt(o++)&65535)<<16,a=r.charCodeAt(o++),s^=(a&255)<<24^(a&65280)>>8;switch(s=0,this.rem){case 3:s^=(r.charCodeAt(o+2)&65535)<<16;case 2:s^=(r.charCodeAt(o+1)&65535)<<8;case 1:s^=r.charCodeAt(o)&65535}this.h1=n}return this.k1=s,this},t.prototype.result=function(){var r,n;return r=this.k1,n=this.h1,r>0&&(r=r*11601+(r&65535)*3432906752&4294967295,r=r<<15|r>>>17,r=r*13715+(r&65535)*461832192&4294967295,n^=r),n^=this.len,n^=n>>>16,n=n*51819+(n&65535)*2246770688&4294967295,n^=n>>>13,n=n*44597+(n&65535)*3266445312&4294967295,n^=n>>>16,n>>>0},t.prototype.reset=function(r){return this.h1=typeof r=="number"?r:0,this.rem=this.k1=this.len=0,this},e=new t,typeof $u<"u"?$u.exports=t:this.MurmurHash3=t})()});var vm=ge(yn=>{"use strict";l();Object.defineProperty(yn,"__esModule",{value:!0});yn.signals=void 0;yn.signals=[];yn.signals.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&yn.signals.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&yn.signals.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT")});var $m=ge(dr=>{"use strict";l();var po;Object.defineProperty(dr,"__esModule",{value:!0});dr.unload=dr.load=dr.onExit=dr.signals=void 0;var mo=vm();Object.defineProperty(dr,"signals",{enumerable:!0,get:function(){return mo.signals}});var go=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Cu=Symbol.for("signal-exit emitter"),Eu=globalThis,bD=Object.defineProperty.bind(Object),Au=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Eu[Cu])return Eu[Cu];bD(Eu,Cu,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let o of this.listeners[t])s=o(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},ho=class{},wD=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),Tu=class extends ho{onExit(){return()=>{}}load(){}unload(){}},Bu=class extends ho{#n=Lu.platform==="win32"?"SIGINT":"SIGHUP";#t=new Au;#e;#a;#o;#i={};#r=!1;constructor(t){super(),this.#e=t,this.#i={};for(let r of mo.signals)this.#i[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(s+=o.__signal_exit_emitter__.count),n.length===s){this.unload();let a=this.#t.emit("exit",null,r),u=r==="SIGHUP"?this.#n:r;a||t.kill(t.pid,u)}};this.#o=t.reallyExit,this.#a=t.emit}onExit(t,r){if(!go(this.#e))return()=>{};this.#r===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let t of mo.signals)try{let r=this.#i[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#s(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#r&&(this.#r=!1,mo.signals.forEach(t=>{let r=this.#i[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#o,this.#t.count-=1)}#c(t){return go(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#s(t,...r){let n=this.#a;if(t==="exit"&&go(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},Lu=globalThis.process;po=wD(go(Lu)?new Bu(Lu):new Tu),dr.onExit=po.onExit,dr.load=po.load,dr.unload=po.unload});var Em=ge((F3,ks)=>{"use strict";l();ks.exports=ED;ks.exports.sync=AD;ks.exports._getTmpname=Ru;ks.exports._cleanupOnExit=Nu;var Pe=require("fs"),xD=Fm(),{onExit:Cm}=$m(),SD=require("path"),{promisify:Mt}=require("util"),zr={},FD=function(){try{return require("worker_threads").threadId}catch{return 0}}(),vD=0;function Ru(e){return e+"."+xD(__filename).hash(String(process.pid)).hash(String(FD)).hash(String(++vD)).result()}function Nu(e){return()=>{try{Pe.unlinkSync(typeof e=="function"?e():e)}catch{}}}function $D(e){return new Promise(t=>{zr[e]||(zr[e]=[]),zr[e].push(t),zr[e].length===1&&t()})}function yo(e){return e.code==="ENOSYS"||(!process.getuid||process.getuid()!==0)&&(e.code==="EINVAL"||e.code==="EPERM")}async function CD(e,t,r={}){typeof r=="string"&&(r={encoding:r});let n,s,o=Cm(Nu(()=>s)),a=SD.resolve(e);try{await $D(a);let u=await Mt(Pe.realpath)(e).catch(()=>e);if(s=Ru(u),!r.mode||!r.chown){let c=await Mt(Pe.stat)(u).catch(()=>{});c&&(r.mode==null&&(r.mode=c.mode),r.chown==null&&process.getuid&&(r.chown={uid:c.uid,gid:c.gid}))}n=await Mt(Pe.open)(s,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(s),ArrayBuffer.isView(t)?await Mt(Pe.write)(n,t,0,t.length,0):t!=null&&await Mt(Pe.write)(n,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&await Mt(Pe.fsync)(n),await Mt(Pe.close)(n),n=null,r.chown&&await Mt(Pe.chown)(s,r.chown.uid,r.chown.gid).catch(c=>{if(!yo(c))throw c}),r.mode&&await Mt(Pe.chmod)(s,r.mode).catch(c=>{if(!yo(c))throw c}),await Mt(Pe.rename)(s,u)}finally{n&&await Mt(Pe.close)(n).catch(()=>{}),o(),await Mt(Pe.unlink)(s).catch(()=>{}),zr[a].shift(),zr[a].length>0?zr[a][0]():delete zr[a]}}async function ED(e,t,r,n){r instanceof Function&&(n=r,r={});let s=CD(e,t,r);if(n)try{let o=await s;return n(o)}catch(o){return n(o)}return s}function AD(e,t,r){typeof r=="string"?r={encoding:r}:r||(r={});try{e=Pe.realpathSync(e)}catch{}let n=Ru(e);if(!r.mode||!r.chown)try{let c=Pe.statSync(e);r=Object.assign({},r),r.mode||(r.mode=c.mode),!r.chown&&process.getuid&&(r.chown={uid:c.uid,gid:c.gid})}catch{}let s,o=Nu(n),a=Cm(o),u=!0;try{if(s=Pe.openSync(n,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(n),ArrayBuffer.isView(t)?Pe.writeSync(s,t,0,t.length,0):t!=null&&Pe.writeSync(s,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&Pe.fsyncSync(s),Pe.closeSync(s),s=null,r.chown)try{Pe.chownSync(n,r.chown.uid,r.chown.gid)}catch(c){if(!yo(c))throw c}if(r.mode)try{Pe.chmodSync(n,r.mode)}catch(c){if(!yo(c))throw c}Pe.renameSync(n,e),u=!1}finally{if(s)try{Pe.closeSync(s)}catch{}a(),u&&o()}}});var Wd=ge((W5,jd)=>{"use strict";l();var Id=require("child_process"),Pd=Id.spawn,n1=Id.exec;jd.exports=function(e,t,r){if(typeof t=="function"&&r===void 0&&(r=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},s={};switch(n[e]=[],s[e]=1,process.platform){case"win32":n1("taskkill /pid "+e+" /T /F",r);break;case"darwin":Xu(e,n,s,function(o){return Pd("pgrep",["-P",o])},function(){Od(n,t,r)});break;default:Xu(e,n,s,function(o){return Pd("ps",["-o","pid","--no-headers","--ppid",o])},function(){Od(n,t,r)});break}};function Od(e,t,r){var n={};try{Object.keys(e).forEach(function(s){e[s].forEach(function(o){n[o]||(_d(o,t),n[o]=1)}),n[s]||(_d(s,t),n[s]=1)})}catch(s){if(r)return r(s);throw s}if(r)return r()}function _d(e,t){try{process.kill(parseInt(e,10),t)}catch(r){if(r.code!=="ESRCH")throw r}}function Xu(e,t,r,n,s){var o=n(e),a="";o.stdout.on("data",function(f){var f=f.toString("ascii");a+=f});var u=function(c){if(delete r[e],c!=0){Object.keys(r).length==0&&s();return}a.match(/\d+/g).forEach(function(f){f=parseInt(f,10),t[e].push(f),t[f]=[],r[f]=1,Xu(f,t,r,n,s)})};o.on("close",u)}});var m1={};sc(m1,{$:()=>i,defineConfig:()=>f1,env:()=>p1,run:()=>ug});module.exports=Dg(m1);l();var cg=require("process");l();l();l();function Ge(e){if(e===null)return"Null";if(e===void 0)return"Undefined";if(Number.isNaN(e))return"NaN";let t=Object.prototype.toString.call(e).slice(8,-1);return t==="AsyncFunction"?"Promise":t}l();var{isArray:Br}=Array;function Sn(e){return Br(e)?e.length>0:Ge(e)==="Object"?Object.keys(e).length>0:!!e}function rr(...e){let t=0;for(;t<e.length;){let r=e[t];if(Ge(r)==="Function"){if(Sn(r()))return!1}else if(Sn(r))return!1;t++}return!0}l();l();function Po(e){return Br(e)?e.length===0:Ge(e)==="Object"?Object.keys(e).length===0:!e}function Js(...e){let t=0;for(;t<e.length;){let r=e[t];if(Ge(r)==="Function"){if(Po(r()))return!1}else if(Po(r))return!1;t++}return!0}l();function Dt(...e){let t=0;for(;t<e.length;){let r=e[t];if(Ge(r)==="Function"){if(Sn(r()))return!0}else if(Sn(r))return!0;t++}return!1}l();l();function wg(e){return e<<0===e}var oc=Number.isInteger||wg;function Ys(e,t="."){return typeof e=="string"?e.split(t).map(r=>oc(r)?Number(r):r):e}l();function xg(e,t){let r=t,n=0,s=Ys(e);for(;n<s.length;){if(r==null||r[s[n]]===null)return;r=r[s[n]],n++}return r}function Oo(e,t){if(arguments.length===1)return r=>Oo(e,r);if(t!=null)return xg(e,t)}l();function _o(e,t){if(!Br(t))throw new Error(`Cannot read property 'indexOf' of ${t}`);let r=Ge(e);if(!["Array","NaN","Object","RegExp"].includes(r))return t.indexOf(e);let n=-1,s=-1,{length:o}=t;for(;++n<o&&s===-1;)Ks(t[n],e)&&(s=n);return s}function ac(e){let t=[],r;for(;!(r=e.next()).done;)t.push(r.value);return t}function Sg(e,t){if(e.size!==t.size)return!1;let r=ac(e.values()),n=ac(t.values());return r.filter(o=>_o(o,n)===-1).length===0}function Fg(e,t){return e.message!==t.message||e.toString!==t.toString?!1:e.toString()===t.toString()}function uc(e){return e.toDateString?[!0,e.getTime()]:[!1]}function cc(e){return e.constructor!==RegExp?[!1]:[!0,e.toString()]}function Ks(e,t){if(arguments.length===1)return u=>Ks(e,u);if(Object.is(e,t))return!0;let r=Ge(e);if(r!==Ge(t))return!1;if(r==="Function")return e.name===void 0?!1:e.name===t.name;if(["NaN","Null","Undefined"].includes(r))return!0;if(["BigInt","Number"].includes(r))return Object.is(-0,e)!==Object.is(-0,t)?!1:e.toString()===t.toString();if(["Boolean","String"].includes(r))return e.toString()===t.toString();if(r==="Array"){let u=Array.from(e),c=Array.from(t);if(u.toString()!==c.toString())return!1;let f=!0;return u.forEach((p,d)=>{f&&p!==c[d]&&!Ks(p,c[d])&&(f=!1)}),f}let n=cc(e),s=cc(t);if(n[0])return s[0]?n[1]===s[1]:!1;if(s[0])return!1;let o=uc(e),a=uc(t);if(o[0])return a[0]?o[1]===a[1]:!1;if(a[0])return!1;if(e instanceof Error)return t instanceof Error?Fg(e,t):!1;if(r==="Set")return Sg(e,t);if(r==="Object"){let u=Object.keys(e);if(u.length!==Object.keys(t).length)return!1;let c=!0;return u.forEach(f=>{if(c){let p=e[f],d=t[f];p!==d&&!Ks(p,d)&&(c=!1)}}),c}return!1}l();var vg="RAMBDAX_DELAY";function nt(e){return new Promise(t=>{setTimeout(()=>{t(vg)},e)})}l();function Io(e,t){if(arguments.length===1)return r=>Io(e,r);if(typeof t=="string")return t.includes(e);if(!t)throw new TypeError(`Cannot read property 'indexOf' of ${t}`);return Br(t)?_o(e,t)>-1:!1}l();function Fn(e,t){return arguments.length===1?r=>Fn(e,r):Ge(t)===e}l();async function lc(e,t){let r=t.map((n,s)=>e(n,s));return Promise.all(r)}function fc(e,t){return arguments.length===1?async r=>lc(e,r):new Promise((r,n)=>{lc(e,t).then(r).catch(n)})}l();l();l();function pc(e,t){return String(e)===String(t)}function mc(e,t){let r=-1,{length:n}=t;for(;++r<n;)if(pc(t[r],e))return!0;return!1}function jo(e,t){if(arguments.length===1)return s=>jo(e,s);if(t==null)return;let r=Ys(e,","),n={};for(let s in t)mc(s,r)||(n[s]=t[s]);return n}l();function _e(e,t){return arguments.length===1?r=>_e(e,r):t?t.hasOwnProperty(e):!1}l();function _t(e,t){return arguments.length===1?r=>_t(e,r):Oo(e,t)!==void 0}l();function Yr(e){let t=Ge(e);return["Undefined","NaN","Number","Null"].includes(t)?!1:e?Ge(e.isEmpty)==="Function"?e.isEmpty():e.isEmpty?!!e.isEmpty:t==="Object"?Object.keys(e).length===0:t==="Array"?e.length===0:!1:!0}l();function dc(e){return e==null}l();function gc(e){return typeof e=="string"?e[e.length-1]||"":e[e.length-1]}l();var Tf=V(require("fast-glob")),Bf=require("pathe"),Lf=require("fs-extra");l();l();async function nr(e,t,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:s}={}){return new Promise((o,a)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof t!="function")throw new TypeError("Mapper function is required");if(!(Number.isSafeInteger(r)&&r>=1||r===Number.POSITIVE_INFINITY))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let u=[],c=[],f=new Map,p=!1,d=!1,b=!1,D=0,h=0,F=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),j=Y=>{p=!0,d=!0,a(Y)};s&&(s.aborted&&j(s.reason),s.addEventListener("abort",()=>{j(s.reason)}));let q=async()=>{if(d)return;let Y=await F.next(),G=h;if(h++,Y.done){if(b=!0,D===0&&!d){if(!n&&c.length>0){j(new AggregateError(c));return}if(d=!0,f.size===0){o(u);return}let Z=[];for(let[K,Ie]of u.entries())f.get(K)!==Xs&&Z.push(Ie);o(Z)}return}D++,(async()=>{try{let Z=await Y.value;if(d)return;let K=await t(Z,G);K===Xs&&f.set(G,K),u[G]=K,D--,await q()}catch(Z){if(n)j(Z);else{c.push(Z),D--;try{await q()}catch(K){j(K)}}}})()};(async()=>{for(let Y=0;Y<r;Y++){try{await q()}catch(G){j(G);break}if(b||p)break}})()})}var Xs=Symbol("skip");l();l();l();var Mo=V(yc(),1);l();var Jn=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},qo=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t}},Dc=e=>globalThis.DOMException===void 0?new qo(e):new DOMException(e),bc=e=>{let t=e.reason===void 0?Dc("This operation was aborted."):e.reason;return t instanceof Error?t:Dc(t)};function Go(e,t){let{milliseconds:r,fallback:n,message:s,customTimers:o={setTimeout,clearTimeout}}=t,a,c=new Promise((f,p)=>{if(typeof r!="number"||Math.sign(r)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${r}\``);if(t.signal){let{signal:b}=t;b.aborted&&p(bc(b)),b.addEventListener("abort",()=>{p(bc(b))})}if(r===Number.POSITIVE_INFINITY){e.then(f,p);return}let d=new Jn;a=o.setTimeout.call(void 0,()=>{if(n){try{f(n())}catch(b){p(b)}return}typeof e.cancel=="function"&&e.cancel(),s===!1?f():s instanceof Error?p(s):(d.message=s??`Promise timed out after ${r} milliseconds`,p(d))},r),(async()=>{try{f(await e)}catch(b){p(b)}})()}).finally(()=>{c.clear()});return c.clear=()=>{o.clearTimeout.call(void 0,a),a=void 0},c}l();l();function Ho(e,t,r){let n=0,s=e.length;for(;s>0;){let o=Math.trunc(s/2),a=n+o;r(e[a],t)<=0?(n=++a,s-=o+1):s=o}return n}var Yn=class{#n=[];enqueue(t,r){r={priority:0,...r};let n={priority:r.priority,run:t};if(this.size&&this.#n[this.size-1].priority>=r.priority){this.#n.push(n);return}let s=Ho(this.#n,n,(o,a)=>a.priority-o.priority);this.#n.splice(s,0,n)}dequeue(){return this.#n.shift()?.run}filter(t){return this.#n.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this.#n.length}};var Kr=class extends Mo.default{#n;#t;#e=0;#a;#o;#i=0;#r;#c;#s;#g;#u=0;#f;#l;#h;timeout;constructor(t){if(super(),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Yn,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);this.#n=t.carryoverConcurrencyCount,this.#t=t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,this.#a=t.intervalCap,this.#o=t.interval,this.#s=new t.queueClass,this.#g=t.queueClass,this.concurrency=t.concurrency,this.timeout=t.timeout,this.#h=t.throwOnTimeout===!0,this.#l=t.autoStart===!1}get#b(){return this.#t||this.#e<this.#a}get#w(){return this.#u<this.#f}#x(){this.#u--,this.#p(),this.emit("next")}#S(){this.#D(),this.#y(),this.#c=void 0}get#F(){let t=Date.now();if(this.#r===void 0){let r=this.#i-t;if(r<0)this.#e=this.#n?this.#u:0;else return this.#c===void 0&&(this.#c=setTimeout(()=>{this.#S()},r)),!0}return!1}#p(){if(this.#s.size===0)return this.#r&&clearInterval(this.#r),this.#r=void 0,this.emit("empty"),this.#u===0&&this.emit("idle"),!1;if(!this.#l){let t=!this.#F;if(this.#b&&this.#w){let r=this.#s.dequeue();return r?(this.emit("active"),r(),t&&this.#y(),!0):!1}}return!1}#y(){this.#t||this.#r!==void 0||(this.#r=setInterval(()=>{this.#D()},this.#o),this.#i=Date.now()+this.#o)}#D(){this.#e===0&&this.#u===0&&this.#r&&(clearInterval(this.#r),this.#r=void 0),this.#e=this.#n?this.#u:0,this.#m()}#m(){for(;this.#p(););}get concurrency(){return this.#f}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#f=t,this.#m()}async#v(t){return new Promise((r,n)=>{t.addEventListener("abort",()=>{n(t.reason)},{once:!0})})}async add(t,r={}){return r={timeout:this.timeout,throwOnTimeout:this.#h,...r},new Promise((n,s)=>{this.#s.enqueue(async()=>{this.#u++,this.#e++;try{r.signal?.throwIfAborted();let o=t({signal:r.signal});r.timeout&&(o=Go(Promise.resolve(o),{milliseconds:r.timeout})),r.signal&&(o=Promise.race([o,this.#v(r.signal)]));let a=await o;n(a),this.emit("completed",a)}catch(o){if(o instanceof Jn&&!r.throwOnTimeout){n();return}s(o),this.emit("error",o)}finally{this.#x()}},r),this.emit("add"),this.#p()})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this.#l?(this.#l=!1,this.#m(),this):this}pause(){this.#l=!0}clear(){this.#s=new this.#g}async onEmpty(){this.#s.size!==0&&await this.#d("empty")}async onSizeLessThan(t){this.#s.size<t||await this.#d("next",()=>this.#s.size<t)}async onIdle(){this.#u===0&&this.#s.size===0||await this.#d("idle")}async#d(t,r){return new Promise(n=>{let s=()=>{r&&!r()||(this.off(t,s),n())};this.on(t,s)})}get size(){return this.#s.size}sizeBy(t){return this.#s.filter(t).length}get pending(){return this.#u}get isPaused(){return this.#l}};var wc=V(require("axios")),Xr=wc.default.create({responseType:"json",headers:{}}),te=new Kr({interval:500,intervalCap:2});function Zr(e){return e===429||e===500?!0:(te.isPaused||te.pause(),!1)}l();var ei=require("perf_hooks");l();var xc=require("console"),Qs=require("process"),Sc=require("events"),bt=new Sc.EventEmitter,{error:be,log:A,warn:vn,clear:Xb}=new xc.Console(Qs.stdout,Qs.stderr),{create:Qr,assign:Q,defineProperty:st,defineProperties:Zb,keys:It,values:$n,setPrototypeOf:Qb}=Object,Lr=Array.from,Cn=Buffer.from,{abs:en}=Math,{toString:e2}=Object.prototype;var E=new class{marks=[];time={};cache={};now(t){return this.stop(t||!0)}sec(t){let r=this.stop(t||!0);return r.slice(0,r.lastIndexOf(" "))}pause(t){t in this.marks&&(this.cache[t]=this.stop(t||!0))}start(t){t?this.time[t]=ei.performance.now():this.marks.push(ei.performance.now())}clear(t){if(t){if(t in this.time){delete this.time[t];return}if(t in this.cache){delete this.cache[t];return}}for(;this.marks.length!==0;)this.marks.pop()}stop(t=!1,r=!1){let n;if(typeof t=="boolean")n=t?this.marks[this.marks.length-1]:this.marks.pop();else if(t){if(t in this.cache){let u=this.cache[t];return delete this.cache[t],u}r?(n=this.time[t],delete this.time[t]):n=this.time[t]}let s=ei.performance.now()-n;if(s<1e3)return`${en(+s.toFixed(0))}ms`;let o=s/1e3;if(o<60)return`${en(+o.toFixed(0))}s ${en(+s.toFixed(0).slice(1,4))}ms`;let a=en(+(o/60).toFixed(0));return`${a}m ${en(+(o-60*Number(a)).toFixed(0))}s ${en(+s.toFixed(0).slice(1,4))}ms`}};l();var Jc=require("crypto"),Yc=require("module");l();var zo=Symbol("singleComment"),Fc=Symbol("multiComment"),Ag=()=>"",Tg=(e,t,r)=>e.slice(t,r).replace(/\S/g," "),Bg=(e,t)=>{let r=t-1,n=0;for(;e[r]==="\\";)r-=1,n+=1;return!!(n%2)};function Kn(e,{whitespace:t=!0,trailingCommas:r=!1}={}){if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);let n=t?Tg:Ag,s=!1,o=!1,a=0,u="",c="",f=-1;for(let p=0;p<e.length;p++){let d=e[p],b=e[p+1];if(!o&&d==='"'&&(Bg(e,p)||(s=!s)),!s)if(!o&&d+b==="//")u+=e.slice(a,p),a=p,o=zo,p++;else if(o===zo&&d+b===`\r
`){p++,o=!1,u+=n(e,a,p),a=p;continue}else if(o===zo&&d===`
`)o=!1,u+=n(e,a,p),a=p;else if(!o&&d+b==="/*"){u+=e.slice(a,p),a=p,o=Fc,p++;continue}else if(o===Fc&&d+b==="*/"){p++,o=!1,u+=n(e,a,p+1),a=p+1;continue}else r&&!o&&(f!==-1?d==="}"||d==="]"?(u+=e.slice(a,p),c+=n(u,0,1)+u.slice(1),u="",a=p,f=-1):d!==" "&&d!=="	"&&d!=="\r"&&d!==`
`&&(u+=e.slice(a,p),a=p,f=-1):d===","&&(c+=u+e.slice(a,p),u="",a=p,f=p))}return c+u+(o?n(e.slice(a)):e.slice(a))}l();l();l();var kr=V(Ic(),1);var{ansi256:c2,fg:l2,bgAnsi256:f2,bg:p2,rgb:m2,bgRgb:d2,hex:g2,bgHex:h2,reset:y2,inverse:D2,hidden:b2,visible:w2,bold:x2,dim:S2,italic:F2,underline:v2,strikethrough:$2,strike:C2,black:E2,red:A2,green:T2,yellow:B2,blue:L2,magenta:R2,cyan:N2,white:k2,grey:P2,gray:O2,blackBright:_2,redBright:I2,greenBright:j2,yellowBright:W2,blueBright:M2,magentaBright:q2,cyanBright:G2,whiteBright:H2,bgBlack:z2,bgRed:U2,bgGreen:V2,bgYellow:J2,bgBlue:Y2,bgMagenta:K2,bgCyan:X2,bgWhite:Z2,bgGrey:Q2,bgGray:ew,bgBlackBright:tw,bgRedBright:rw,bgGreenBright:nw,bgYellowBright:sw,bgBlueBright:iw,bgMagentaBright:ow,bgCyanBright:aw,bgWhiteBright:uw}=kr.default;var jc="\x1B[H\x1B[2J";kr.default.extend({brown:"#c19a6b",pink:"#ff75d1",teal:"#91EBC2",lightGray:"#2a2a2e",orange:"#FFAB40",lavender:"#8080FF",neonGreen:"#56ef83",neonCyan:"#69d5fd",neonRouge:"#FF8095",neonMagenta:"#7b68ee"});var{cyan:le,red:re,green:Ig,yellow:qt,magenta:Xo,blue:k,white:C,gray:m,dim:mw,cyanBright:dw,redBright:ie,greenBright:gw,yellowBright:ee,magentaBright:si,blueBright:Wc,whiteBright:I,strip:Mc,underline:sr,bold:g,reset:wt,lightGray:z,pink:Gt,brown:hw,teal:rn,orange:ot,lavender:yw,neonGreen:xe,neonCyan:ue,neonRouge:ii,neonMagenta:En}=kr.default;var v=L({open:`${z.open}\u250C\u2500${z.close} `,stub:`${z.open}\u251C${z.close}  `,dash:`${z.open}\u251C\u2500${z.close} `,trim:`${z.open}\u2502${z.close}`,line:`${z.open}\u2502${z.close}  `,next:`
${z.open}\u2502${z.close}`,after:`${z.open}\u2502${z.close}`,wrap:`
${z.open}\u2502${z.close}
`,base:`${z.open}\u2514\u2500${z.close} `,red:`${re.dim.open}\u2502${re.dim.close}  `,redTrim:`${re.dim.open}\u2502${re.dim.close}`,yellow:`${qt.dim.open}\u2502${qt.dim.close}  `,yellowTrim:`${qt.dim.open}\u2502${qt.dim.close}`,indent:L({edge:`${z.open}\u251C\u2500\u2500\u252C\u2500${z.close} `,fall:`${z.open}\u251C\u2500\u2500\u2510${z.close} `,line:`${z.open}\u2502  \u2502${z.close} `,stub:`${z.open}\u2502  \u251C${z.close} `,dash:`${z.open}\u2502  \u251C\u2500${z.close} `,base:`${z.open}\u2502  \u2514\u2500${z.close} `})}),xw=`${m.open}|${m.close}`,qc=`${m.open}#${m.close}`,Sw=`${m.open}+${m.close}`,Fw=`${m.open}-${m.close}`,vw=`${m.open},${m.close}`,Gc=`${xe.open}\u2713${xe.close}`,Pr=`${ie.open}\u{10102}${ie.close}`,R=`${m.open}:${m.close}`,M=`${m.open}\u2192${m.close}`,Dr=`${m.open}\u25B8${m.close}`,oi=`${m.open}\u2942${m.close}`,X=`${m.open}~${m.close}`,br=`${m.open}\u2014${m.close}`,ai=`${m.open}(${m.close}`,ui=`${m.open})${m.close}`,Hc=`${m.open}{${m.close}`,zc=`${m.open}}${m.close}`,Uc=`${m.open}[${m.close}`,Vc=`${m.open}]${m.close}`,ci=`${m.open}<${m.close}`,li=`${m.open}>${m.close}`;function Re(e,...t){let r=B(e);return function n(s,o,a){let u=typeof a;if(a&&u==="object")if(B(a))for(let c of a)o=n(s,o,c);else for(let c in a){let f=a[c];Ve(f)?o[c]=f(o[c],Re):f===void 0?s?o.splice(c,1):delete o[c]:f===null||O(f)===!1||B(f)?o[c]=f:typeof o[c]=="object"?o[c]=f===o[c]?f:Re(o[c],f):o[c]=n(!1,{},f)}else u==="function"&&(o=a(o,Re));return o}(r,r?e.slice():Q({},e),t)}function w(e,t){return O(t)?e in t:!1}function Ae(e){return t=>t in e}function L(e){return e?Q(Qr(null),e):Qr(null)}function Kc(e,{onlyFirst:t=!1}={}){let r=e.match(new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),t?void 0:"g"));return r!==null?r:!1}function fi(e){if(Kn(e).trim()==="")return{};try{return new Function(`return ${Kn(e).trim()}`)()}catch{return{}}}async function Xc(e,{format:t}){return t==="esm"?r=>import(r):jg(e)}function jg(e){return Ve(require)?require(e):(0,Yc.createRequire)(y)(e)}function Zc(e){return e===".mjs"||e===".cjs"?"js":e.slice(1)}function An(){let e=new Date,t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();return(t<10?`0${t}`:t)+R+(r<10?`0${r}`:r)+R+(n<10?`0${n}`:n)}function Qc(e,t=2){return e.reduce((r,n,s)=>{let o=Math.floor(s/t);return r[o]||(r[o]=[]),r[o].push(n),r},[])}function el(){return new Promise(e=>{Ve(setImmediate)?setImmediate(e):setTimeout(e)})}function Fe(e){return pt(e)?e.toString():O(e)||B(e)?JSON.stringify(e):he(e)||Ft(e)?`${e}`:_(e)?e:String(e)}function ir(e){return(0,Jc.createHash)("md5").update(e).digest("hex")}function tl(e){return e.toLowerCase().replace(/[^a-z0-9_:]+/g,"-").replace(/-$/,"").replace(/^-/,"")}function St(e,t){return t>=2?e[e.length-1]!=="s"?`${e}s`:e:e[e.length-1]!=="s"?e:e.slice(0,-1)}function Or(e){return e.charAt(0).toUpperCase()+e.slice(1)}function pi(e){let t=e%10,r=e%100;return e+(t===1&&r!==11?"st":t===2&&r!==12?"nd":t===3&&r!==13?"rd":"th")}function fe(...e){return e.join(" ")}function ce(...e){return B(e[0])?e[0].join(""):e.join("")}function Rt(e,t=null){let r=0;if(B(e))for(let n of e)t?n[t].length>r&&(r=n[t].length):n.length>r&&(r=n.length);else for(let n in e)n.length>r&&(r=n.length);return r=r+1,function(s){let o=_(s)?r-s.length:r-s;return o<1?" ":" ".repeat(o)}}function Ht(){return Math.random().toString(36).slice(2)}function pe(e){return e==null}function rl(e){return pt(e)?e.toString().trim().length===0:e.trim().length===0}function oe(e){if(O(e)){for(let t in e)return!1;return!0}return B(e)?e.length===0:me(e)||Ft(e)||Wg(e)||Zo(e)?!1:!e}function B(e){return Array.isArray(e)}function O(e){return typeof e=="object"}function _(e){return typeof e=="string"}function wr(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"}function Ve(e){return typeof e=="function"}function he(e){return typeof e=="boolean"}function Ft(e){return typeof e=="number"}function Zo(e){return Number.isNaN(e)}function Wg(e){return Object.prototype.toString.call(e).slice(8,-1)==="Null"}function me(e){return typeof e>"u"}function pt(e){return Buffer.isBuffer(e)}l();var dl=require("process");l();var Mg=Object.assign||((e,t)=>(t&&Object.keys(t).forEach(r=>e[r]=t[r]),e)),Qo=(e,t,r)=>{let n=typeof r;if(r&&n==="object")if(Array.isArray(r))for(let s of r)t=Qo(e,t,s);else for(let s of Object.keys(r)){let o=r[s];typeof o=="function"?t[s]=o(t[s],mi):o===void 0?e&&!isNaN(s)?t.splice(s,1):delete t[s]:o===null||typeof o!="object"||Array.isArray(o)?t[s]=o:typeof t[s]=="object"?t[s]=o===t[s]?o:mi(t[s],o):t[s]=Qo(!1,{},o)}else n==="function"&&(t=r(t,mi));return t},mi=(e,...t)=>{let r=Array.isArray(e);return Qo(r,r?e.slice():Mg({},e),t)},nn=mi;l();var He=require("process"),sl=require("child_process"),il=require("url"),gi=require("pathe");function di(e,t,r){return(0,sl.execFileSync)(e,t,{encoding:"utf8",shell:r,stdio:["ignore","pipe","ignore"]}).trim()}function nl(e,t){let r=(0,gi.dirname)((0,il.fileURLToPath)(y));return di((0,gi.join)(r,e),[],t).split(/\r?\n/)}function _r(e,t){let r=Number.parseInt(e,10);return{wrap:r>85?85:r,cols:Number.parseInt(e,10),rows:Number.parseInt(t,10)}}function ol(){if(He.stdout&&He.stdout.columns&&He.stdout.rows)return _r(He.stdout.columns,He.stdout.rows);if(He.stderr&&He.stderr.columns&&He.stderr.rows)return _r(He.stderr.columns,He.stderr.rows);if(He.env.COLUMNS&&He.env.LINES)return _r(He.env.COLUMNS,He.env.LINES);if(He.platform==="win32")try{let e=nl("vendor/windows/term-size.exe",!1);if(e.length===2)return _r(e[0],e[1])}catch{}else{if(He.platform==="darwin")try{let e=nl("vendor/macos/term-size",!0);if(e.length===2)return _r(e[0],e[1])}catch{}try{let e=di("resize",["-u"]).match(/\d+/g);if(e.length===2)return _r(e[0],e[1])}catch{}if(He.env.TERM)try{let e=di("tput",["cols"]),t=di("tput",["lines"]);if(e&&t)return _r(e,t)}catch{}}return _r(80,24)}l();var hi=["build","checksum","metafields","pages","paths","schema","sections","settings","templates"],al=[["cache","node_modules"],["input","source"],["output","theme"],["export","export"],["import","import"],["config","."]],sn=["assets","config","layout","customers","locales","sections","schema","snippets","templates","metaobject","metafields","pages","redirects"],on=["templates","templates/customers","templates/metaobject","assets","config","layout","locales","sections","snippets"],ul=["js","cjs","mjs","ts"];var cl=["You cannot use script minification without esbuild installed","and configured as a processor. Install esbuild and configure Syncify","to apply transforms to leverage script minification."],ts=/([|,])/g,yi=/\.(mjs|cjs|ts|js|tsx|jsx)$/;var ea={404:"The requested resource was not found.",400:"The request was not understood by the server, generally due to bad syntax or because the Content-Type header was not correctly set to application / json. This status is also returned when the request provides an invalid code parameter during the OAuth token exchange process.",303:"The response to the request can be found under a different URL in the Location header and can be retrieved using a GET method on that resource.",401:"The necessary authentication credentials are not present in the request or are incorrect",402:"The requested shop is currently frozen. The shop owner needs to log in to the shop's admin, and pay the outstanding balance to unfreeze the shop.",406:"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request.",423:"The requested shop is currently locked. Shops are locked if they repeatedly exceed their API request limit. or if there is an issue with the account, such as a detected compromise or fraud risk.",403:"The server is refusing to respond to the request. This is generally because you have not requested the appropriate scope for this action.",501:"The requested endpoint is not available on that particular shop, e.g. requesting access to a Shopify Plus\u2013only API on a non-Plus shop. This response may also indicate that this endpoint is reserved for future use.",503:"The server is currently unavailable. Check the Shopify status page for reported service outages. See https://www.shopifystatus.com"};l();var ll=()=>({json:{assets:!0,config:!0,locales:!0,metafields:!0,metaobject:!0,groups:!0,templates:!0,exclude:[]},script:{minifySyntax:!0,minifyIdentifiers:!0,minifyWhitespace:!0,mangleProps:void 0,legalComments:"none",mangleQuoted:!1,keepNames:!1,exclude:[]},liquid:{minifyJavascript:!1,minifyStylesheet:!1,minifyStyle:!0,minifySchema:!0,removeComments:!0,collapseInner:!1,collapseWhitespace:!0,stripDashes:!0,exclude:[]},style:{exclude:[],format:!1,inline:!1,purgeUnusedCSS:!1,obfuscateAlphabet:"abcefghijklmnopqrstuvwxyz0123456789",obfuscateClassNames:!1,obfuscateWhitelist:[]},markup:{caseSensitive:!1,collapseBooleanAttributes:!1,collapseInlineTagWhitespace:!1,conservativeCollapse:!1,keepClosingSlash:!1,noNewlinesBeforeTagClose:!1,preventAttributesEscaping:!1,removeEmptyAttributes:!1,removeEmptyElements:!1,removeOptionalTags:!1,removeRedundantAttributes:!1,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,useShortDoctype:!1,collapseWhitespace:!0,continueOnParseError:!0,removeComments:!0,minifyCSS:!0,minifyJS:!0,trimCustomFragments:!1,ignoreCustomFragments:[/(?<=\bstyle\b=["']\s?)[\s\S]*?(?="[\s\n>]?)/,/<style[\s\S]*?<\/style>/,/<script[\s\S]*?<\/script>/,/{%[\s\S]*?%}/]}});l();var fl=()=>({input:"source",output:"theme",import:"import",export:"export",config:".",hot:!1,stores:null,publish:{bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80},spawn:{build:null,watch:null},log:{clear:!0,silent:!1,stats:!0,warnings:!0},paths:{assets:"assets/*",config:"config/*.json",layout:"layout/*.liquid",locales:"locales/*.json",metafields:"metafields/**/*.json",redirects:"redirects.yaml",schema:"schema/*.{schema,json}",snippets:"snippets/**/*.liquid",metaobject:"templates/metaobject/*",sections:"sections/**/*.{liquid,json}",pages:"pages/*",templates:"templates/*",customers:"templates/customers/*"},views:{sections:{prefixDir:!1,separator:"-",global:[]},snippets:{prefixDir:!1,separator:"-",global:[]},pages:{author:"",safeSync:!0,language:"html",suffixDir:!1,global:[]}},transform:{svg:null,style:null,script:null},terser:{json:!1,markup:!1,liquid:!1,script:!1}});l();var pl=()=>({json:{indent:2,useTab:!1,crlf:!1,exclude:null},tailwind:{installed:!1,loaded:!1,file:!1,map:null,config:null},sass:{installed:!1,loaded:!1,file:!1,config:{warnings:!0,style:"compressed",sourcemap:!0,quietDeps:!1,include:["node_modules"]}},esbuild:{bundle:!0,format:"esm",globalName:void 0,target:"es2016",metafile:!0,external:[],platform:"browser",splitting:!1,sourcemap:"linked",write:!1,logLevel:"silent",plugins:[]},sharp:{installed:!1,required:!1,loaded:!1,file:!1,config:{}},postcss:{file:!1,config:[]},sprite:{mode:{inline:!0,symbol:{example:!1}},shape:{transform:["svgo"],id:{generator:"svg-%s"}},svg:{xmlDeclaration:!1,doctypeDeclaration:!1,dimensionAttributes:!1,namespaceClassnames:!1,namespaceIDs:!1}},svgo:{multipass:!0,js2svg:{indent:2,pretty:!0},plugins:["preset-default"]}});l();var ml=()=>({onBuild:[],onChange:[],onReload:[],onTransform:[],onWatch:[]});function qg(){let e=L();for(let t of sn)e[t]=L({input:null,match:null});return e.transforms=new Map,e}var i=new class mt{static defaults=fl();static plugins=ml();static terser=ll();static processor=pl();static package=L();static cache=L();static watch=new Set;process;restart=!1;cli=L();wss=null;stats=L();filters=L();commands=L();version="0.3.0-beta";cwd=null;argv=dl.argv.slice(2).join(" ");errors=new Set;warnings=new Map;publish=L({ngrok:null,bindVersion:!1,publishRole:"unpublished",themeLimit:3,tunnelPort:80});vc=L({dir:null,number:null,zip:null,patch:0,major:0,minor:0,update:null});env=L({cli:!1,tree:!1,dev:!0,prod:!1,ready:!1,sync:0,file:null,vars:{}});hot=L({inject:!0,server:3e3,socket:8089,history:!1,method:"hot",strategy:"hydrate",scroll:"preserved",layouts:["theme.liquid"],label:"visible",snippet:null,output:null,alive:{},renderer:"{% render 'hot.js'"+["","server: 3000","socket: 8089",'strategy: "hydrate"','scroll: "preserved"','label: "visible"',"history: false",'method: "hot"'].join(", ")+" %}"});log=L({idle:!1,group:"Syncify",title:"",uri:"",listen:null,thrown:null,queue:new Set,changes:L(),config:L({clear:!0,silent:!1,stats:!0,warnings:!0})});mode=L({build:!1,interactive:!1,dev:!0,prod:!1,strap:!1,watch:!1,clean:!1,cache:!1,setup:!1,upload:!1,import:!1,metafields:!1,terse:!1,hot:!1,pages:!1,pull:!1,force:!1,views:!1,script:!1,image:!1,style:!1,svg:!1,redirects:!1,export:!1,release:!1,publish:!1,themes:!1});file=L({base:null,path:null,relative:null});files=new Map;dirs=L();cmd=L({config:null,delete:null,filter:null,input:null,output:null});stores=[];sync=L({themes:[],stores:[]});spawn=L({paths:new Set,streams:new Map,invoked:!1,commands:L()});section=L({prefixDir:!1,separator:"-",global:null,baseDir:new Set,schema:null,shared:new Map});snippet=L({prefixDir:!1,separator:"-",global:null,baseDir:new Set});paths=qg();page=L({safeSync:!0,author:"",global:null,suffixDir:!1,language:"html",export:L({quotes:"\u201C\u201D\u2018\u2019",html:!0,linkify:!1,typographer:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-"}),import:L({codeBlockStyle:"fenced",emDelimiter:"_",fence:"```",headingStyle:"atx",hr:"---",linkReferenceStyle:"full",linkStyle:"inlined",strongDelimiter:"**",bulletListMarker:"-"})});script=[];style=[];svg=[];image;terse=L({json:!1,liquid:!1,markup:!1,style:!1,script:!1});get watch(){return mt.watch}set watch(t){mt.watch=t}get cache(){return mt.cache}set cache(t){mt.cache=t}get terser(){return mt.terser}set terser(t){mt.terser=nn(mt.terser,t)}get processor(){return mt.processor}set config(t){mt.defaults=nn(mt.defaults,t)}get config(){return mt.defaults}set pkg(t){mt.package=t}get pkg(){return mt.package}get plugins(){return mt.plugins}get terminal(){return ol()}};l();l();var Tn=class{constructor({base:t,dir:r,ext:n,name:s,root:o}){this.base=t,this.dir=r,this.ext=n,this.name=s,this.root=o}data=void 0;hash;uuid;type;resource;root;dir;name;ext;base;relative;key;namespace;kind;input;output;size};l();var Bi=require("readline"),s0=require("util"),Ti=require("process"),Li=V(require("node-notifier"));l();var Gg=require("stream"),Hg=require("console");l();l();l();l();l();l();function ta({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var zg=ta();function an(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(zg,"")}l();l();function gl(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}function hl(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function yl(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9800&&e<=9811||e===9855||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12771||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101632&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129672||e>=129680&&e<=129725||e>=129727&&e<=129733||e>=129742&&e<=129755||e>=129760&&e<=129768||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}function Ug(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}function Di(e,{ambiguousAsWide:t=!1}={}){return Ug(e),hl(e)||yl(e)||t&&gl(e)?2:1}l();var Dl=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var Vg=new Intl.Segmenter,Jg=/^\p{Default_Ignorable_Code_Point}$/u;function un(e,t={}){if(typeof e!="string"||e.length===0)return 0;let{ambiguousIsNarrow:r=!0,countAnsiEscapeCodes:n=!1}=t;if(n||(e=an(e)),e.length===0)return 0;let s=0,o={ambiguousAsWide:!r};for(let{segment:a}of Vg.segment(e)){let u=a.codePointAt(0);if(!(u<=31||u>=127&&u<=159)&&!(u>=8203&&u<=8207||u===65279)&&!(u>=768&&u<=879||u>=6832&&u<=6911||u>=7616&&u<=7679||u>=8400&&u<=8447||u>=65056&&u<=65071)&&!(u>=55296&&u<=57343)&&!(u>=65024&&u<=65039)&&!Jg.test(a)){if(Dl().test(a)){s+=2;continue}s+=Di(u,o)}}return s}l();var bl=(e=0)=>t=>`\x1B[${t+e}m`,wl=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,xl=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,Ne={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Fx=Object.keys(Ne.modifier),Yg=Object.keys(Ne.color),Kg=Object.keys(Ne.bgColor),vx=[...Yg,...Kg];function Xg(){let e=new Map;for(let[t,r]of Object.entries(Ne)){for(let[n,s]of Object.entries(r))Ne[n]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[n]=Ne[n],e.set(s[0],s[1]);Object.defineProperty(Ne,t,{value:r,enumerable:!1})}return Object.defineProperty(Ne,"codes",{value:e,enumerable:!1}),Ne.color.close="\x1B[39m",Ne.bgColor.close="\x1B[49m",Ne.color.ansi=bl(),Ne.color.ansi256=wl(),Ne.color.ansi16m=xl(),Ne.bgColor.ansi=bl(10),Ne.bgColor.ansi256=wl(10),Ne.bgColor.ansi16m=xl(10),Object.defineProperties(Ne,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let s=Number.parseInt(n,16);return[s>>16&255,s>>8&255,s&255]},enumerable:!1},hexToAnsi256:{value:t=>Ne.rgbToAnsi256(...Ne.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,s;if(t>=232)r=((t-232)*10+8)/255,n=r,s=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,s=u%6/5}let o=Math.max(r,n,s)*2;if(o===0)return 30;let a=30+(Math.round(s)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>Ne.ansi256ToAnsi(Ne.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>Ne.ansi256ToAnsi(Ne.hexToAnsi256(t)),enumerable:!1}}),Ne}var Zg=Xg(),zt=Zg;var wi=new Set(["\x1B","\x9B"]),Qg=39,na="\x07",vl="[",eh="]",$l="m",bi=`${eh}8;;`,Sl=e=>`${wi.values().next().value}${vl}${e}${$l}`,Fl=e=>`${wi.values().next().value}${bi}${e}${na}`,th=e=>e.split(" ").map(t=>un(t)),ra=(e,t,r)=>{let n=[...t],s=!1,o=!1,a=un(an(e.at(-1)));for(let[u,c]of n.entries()){let f=un(c);if(a+f<=r?e[e.length-1]+=c:(e.push(c),a=0),wi.has(c)&&(s=!0,o=n.slice(u+1,u+1+bi.length).join("")===bi),s){o?c===na&&(s=!1,o=!1):c===$l&&(s=!1);continue}a+=f,a===r&&u<n.length-1&&(e.push(""),a=0)}!a&&e.at(-1).length>0&&e.length>1&&(e[e.length-2]+=e.pop())},rh=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(un(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},nh=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",s,o,a=th(e),u=[""];for(let[d,b]of e.split(" ").entries()){r.trim!==!1&&(u[u.length-1]=u.at(-1).trimStart());let D=un(u.at(-1));if(d!==0&&(D>=t&&(r.wordWrap===!1||r.trim===!1)&&(u.push(""),D=0),(D>0||r.trim===!1)&&(u[u.length-1]+=" ",D++)),r.hard&&a[d]>t){let h=t-D,F=1+Math.floor((a[d]-h-1)/t);Math.floor((a[d]-1)/t)<F&&u.push(""),ra(u,b,t);continue}if(D+a[d]>t&&D>0&&a[d]>0){if(r.wordWrap===!1&&D<t){ra(u,b,t);continue}u.push("")}if(D+a[d]>t&&r.wordWrap===!1){ra(u,b,t);continue}u[u.length-1]+=b}r.trim!==!1&&(u=u.map(d=>rh(d)));let c=u.join(`
`),f=[...c],p=0;for(let[d,b]of f.entries()){if(n+=b,wi.has(b)){let{groups:h}=new RegExp(`(?:\\${vl}(?<code>\\d+)m|\\${bi}(?<uri>.*)${na})`).exec(c.slice(p))||{groups:{}};if(h.code!==void 0){let F=Number.parseFloat(h.code);s=F===Qg?void 0:F}else h.uri!==void 0&&(o=h.uri.length===0?void 0:h.uri)}let D=zt.codes.get(Number(s));f[d+1]===`
`?(o&&(n+=Fl("")),s&&D&&(n+=Sl(D))):b===`
`&&(s&&D&&(n+=Sl(s)),o&&(n+=Fl(o))),p+=b.length}return n};function Ir(e,t,r){return String(e).normalize().replaceAll(`\r
`,`
`).split(`
`).map(n=>nh(n,t,r)).join(`
`)}l();l();function sa(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}l();var Cl=V(require("os"),1),sh=()=>Cl.default.homedir().replace(/\\/g,"/"),El=sh;var Al=/\s+at.*[(\s](.*)\)?/,Tl=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/;function rs(e,{pretty:t=!1,basePath:r,pathFilter:n}={}){let s=r&&new RegExp(`(file://)?${sa(r.replace(/\\/g,"/"))}/?`,"g"),o=t?El():"";if(typeof e=="string")return e.replace(/\\/g,"/").split(`
`).filter(a=>{let u=a.match(Al);if(u===null||!u[1])return!0;let c=u[1];return c.includes(".app/Contents/Resources/electron.asar")||c.includes(".app/Contents/Resources/default_app.asar")||c.includes("node_modules/electron/dist/resources/electron.asar")||c.includes("node_modules/electron/dist/resources/default_app.asar")?!1:n?!Tl.test(c)&&n(c):!Tl.test(c)}).filter(a=>a.trim()!=="").map(a=>(s&&(a=a.replace(s,"")),t&&(a=a.replace(Al,(u,c)=>u.replace(c,c.replace(o,"~")))),a)).join(`
`)}function N(e,...t){let r=e.length>9?"  ":" ".repeat(11-e.length),n=t.length>0?t.length===1?M+"  "+t[0]:t.length===2?M+"  "+t[0]+" "+M+" "+t[1]:M+"  "+t[0]+" "+M+" "+t[1]+" "+Te(t[2]):"";return e+r+n}function Te(e){return e?X+" "+wt.gray(e):""}function oa(e,t,{spaced:r=!1}={}){let n=r?" ":"";switch(e){case"AN":return ci+n+t+n+li;case"CB":return Hc+n+t+n+zc;case"PR":return ai+n+t+n+ui;case"SB":return Uc+n+t+n+Vc}}var cn=L({warning:qt(` ${X} Type ${g("w")} and press ${g("enter")} to view`),error:re(` ${X} Type ${g("v")} and press ${g("enter")} to view`),stack:m(`Type ${g("s")} and press ${g("enter")} to view stack trace`)});function Bl(e=i.terminal.wrap,t=!0){let r="\u251C"+"\u2500".repeat(e-10);return t?`${z.open}
${r}
\u2502${z.close}`:`${z.open}${r}${z.close}`}function ss(e){return v.open+wt.gray(`${e} ~ ${An()}`)}function ns(...e){let t=L({color:null,line:v.line}),r,n="";for(B(e[0])?(O(e[1])&&Q(t,e[1]),r=Ir(e[0].join(" "),i.terminal.wrap).split(`
`)):(O(e[e.length-1])&&Q(t,e.pop()),r=Ir(e.join(" "),i.terminal.wrap).split(`
`));r.length!==0;){let s=r.shift().trim();s.length>0?n+=t.line+(t.color?t.color(s):s)+`
`:n+=t.line+`
`}return n.trimEnd()}function ar(e){return v.trim+`
`+v.line+e+`
`+v.trim}function ne(e){return v.line+e}function os(e){return v.red+e}function jr(e){return v.yellow+e}function Ll(e){return v.trim+`
`+v.line+e}function Rl(e){return v.line+e+`
`+v.line}function aa(e){return v.dash+e}function as(e){return v.base+wt.gray(`${e} ~ ${An()}`)+`
`}function ua(e){let t=Rt(e.entries),r=U({type:e.type||"error"});if(_(e.stack)){let n=e.cleanStack?rs(e.stack,{pretty:!0,basePath:i.cwd}):e.stack;r.Wrap(n.split(`
`),m).NL.Newline()}for(let n in e.entries){if(me(e.entries[n]))continue;let s;if(Ft(e.entries[n])){if(Zo(e.entries[n]))continue;s=ii(Fe(e.entries[n]))}else s=Fe(e.entries[n]);if(s.length===0)continue;let o=e.type==="warning"?ee(n):ie(n);n==="source"||n==="output"||n==="input"||n==="file"?r.Line(o+R+" "+t(n)+sr(s),m):r.Line(o+R+" "+t(n)+s,m)}return e.stack===!0&&r.NL.Line(cn.stack),r.toString()}var ia=class{type="info";line;trim;text;constructor(t){if(O(t)){let r=Ae(t);this.type=r("type")?t.type:"info",this.text=r("text")?t.text:[],this.type==="error"?(this.line=v.red,this.trim=v.redTrim):this.type==="warning"?(this.line=v.yellow,this.trim=v.yellowTrim):this.type==="nil"?(this.line="",this.trim=""):(this.line=v.line,this.trim=v.trim)}else this.line=v.line,this.trim=v.trim,this.text=[]}toRaw(){return this.text}toLine(t){if(this.text.length===0)return"";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let r;return t?r=t(ce(this.text)):this.type==="info"?r=C(ce(this.text)):this.type==="error"?r=re(ce(this.text)):this.type==="warning"?r=ee(ce(this.text)):r=ce(this.text),this.text=[],r+`
`+this.trim}toString(t){if(this.text.length===0)return"";this.text[this.text.length-1]=this.text[this.text.length-1].trimEnd();let r;return t?r=t(ce(this.text)):this.type==="info"?r=C(ce(this.text)):this.type==="error"?r=re(ce(this.text)):this.type==="warning"?r=ee(ce(this.text)):r=ce(this.text),this.text=[],r}Get(t=this.text.length-1){return this.text[t]}Remove(t){return this.text.splice(t,1),this}Replace(t,r,n){return this.text[t]&&(this.text[t]=this.line+(n?n(r):r)+`
`),this}Ruler(t=i.terminal.wrap){return this.text.push(v.trim+`
`+z(`\u251C${"\u2500".repeat(t)}`)+`
`+v.trim+`
`),this}get NL(){return this.text.push(this.trim+`
`),this}get BR(){return this.text.push(`
`),this}Pop(){return this.text.pop(),this}Newline(t,r){if(Ft(t)){let n=this.trim+`
`;r&&(r==="yellow"?n=v.yellowTrim+`
`:r==="red"?n=v.redTrim+`
`:r===""&&(n=`
`));for(let s=0;s<t;s++)this.text.push(n)}else t===""?this.text.push(`
`):t==="line"?this.text.push(v.trim+`
`):t==="yellow"?this.text.push(v.yellowTrim+`
`):t==="red"?this.text.push(v.redTrim+`
`):this.text.push(this.trim+`
`);return this}Inline(t,r){let n=this.text.length;return n>0?this.text[n-1]=this.text[n-1].trimEnd()+" "+(r?r(t):t)+`
`:this.text.push(this.line+(r?r(t):t)+`
`),this}Trim(t,r){return this.text.push(this.line+(r?r(t):t)+`
`),this}Insert(t,r){return this.text.push((r?r(t):t)+`
`),this}Line(t,r){return this.type==="error"?this.Error(t,r):this.type==="warning"?this.Warn(t,r):(this.text.push(this.line+(r?r(t):t)+`
`),this)}Error(t,r){return this.text.push(v.red+(r?r(t):re(t))+`
`),this}Warn(t,r){return this.text.push(v.yellow+(r?r(t):qt(t))+`
`),this}Break(t,r){return this.text.push(this.trim+`
`+this.line+(r?r(t):t)+`
`+this.trim+`
`),this}Top(t){return this.text.push(ss(t)+`
`),this}End(t){return this.text.push(as(t)),this}Context(t){return this.text.push(ua(t)+`
`),this}Dash(t,r){return this.text.push(v.dash+(r?r(t):t)+`
`),this}Multiline(t){let r=B(t)?t:t.split(`
`);for(;r.length!==0;)this.text.push(this.line+r.shift()+`
`);return this}Wrap(...t){let r=L({line:this.line});return this.type==="error"?r.color=re:this.type==="warning"?r.color=qt:r.color=I,B(t[0])?(Ve(t[1])&&(r.color=t.pop()),this.text.push(ns(t[0],r)+`
`)):(Ve(t[t.length-1])&&(r.color=t.pop()),this.text.push(ns(t,r)+`
`)),this}};function U(e){return i.env.tree===!1&&(O(e)?e.type="nil":e=L({type:"nil"})),new ia(e)}function xi(e,{type:t="info"}={}){let r=U({type:t}),n=B(e)?e:e.split(`
`),s=t==="error"?"red":t==="warn"?"yellow":"line";for(;n.length!==0;){let o=n.shift();o.trim().length>0?r.Line(o.trimEnd()):r.Newline(s)}return r.Newline(s).toString()}function Bn(e){let t=Rt(e.entries),r=w("message",e);w("warning",e)||(e.warning=!1),r||(e.warning===!1?e.message=U({type:"error"}).NL:e.message=U({type:"warn"}).NL);for(let n in e.entries){let s=Fe(e.entries[n]);n==="source"||n==="output"||n==="input"||n==="file"?e.message.Line(C(n)+R+t(n)+X+sr(s),m):e.message.Line(C(n)+R+t(n)+s,m)}return _(e.stack)&&(e.warning===!1&&i.errors.add(e.stack),e.message.Break(cn.stack)),e.message.toLine()}function Nl(e,{line:t=v.line,span:r=null}={}){if(t==="red"?t=v.red:t==="yellow"&&(t=v.yellow),r!==null){let n=w("end",r)?r.end:r.start+1;return t+`
`+[t+k(`${r.start-1}`)+R,t+k(`${r.start}`)+R+e,t+k(`${n}`)+R].join(`
`)}return t+`
`+t+e}function kl(e,{type:t="info",color:r=C}={}){let n=t==="error"?"red":t==="warn"?"yellow":"line";return U({type:t}).Newline(n).Wrap(e,r).toLine()}l();l();var $a=V(require("process"),1);l();var fs={};sc(fs,{beep:()=>Bh,clearScreen:()=>Ch,clearTerminal:()=>Eh,cursorBackward:()=>fh,cursorDown:()=>ch,cursorForward:()=>lh,cursorGetPosition:()=>dh,cursorHide:()=>yh,cursorLeft:()=>_l,cursorMove:()=>uh,cursorNextLine:()=>gh,cursorPrevLine:()=>hh,cursorRestorePosition:()=>mh,cursorSavePosition:()=>ph,cursorShow:()=>Dh,cursorTo:()=>ah,cursorUp:()=>Ol,enterAlternativeScreen:()=>Ah,eraseDown:()=>Sh,eraseEndLine:()=>wh,eraseLine:()=>Il,eraseLines:()=>bh,eraseScreen:()=>la,eraseStartLine:()=>xh,eraseUp:()=>Fh,exitAlternativeScreen:()=>Th,iTerm:()=>Nh,image:()=>Rh,link:()=>Lh,scrollDown:()=>$h,scrollUp:()=>vh});l();var Fi=V(require("process"),1);l();var Si=globalThis.window?.document!==void 0,eS=globalThis.process?.versions?.node!==void 0,tS=globalThis.process?.versions?.bun!==void 0,rS=globalThis.Deno?.version?.deno!==void 0,nS=globalThis.process?.versions?.electron!==void 0,sS=globalThis.navigator?.userAgent?.includes("jsdom")===!0,iS=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,oS=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,aS=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,uS=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,us=globalThis.navigator?.userAgentData?.platform,cS=us==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",lS=us==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",fS=us==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",pS=us==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),mS=us==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var we="\x1B[",ls="\x1B]",Ln="\x07",cs=";",Pl=!Si&&Fi.default.env.TERM_PROGRAM==="Apple_Terminal",ih=!Si&&Fi.default.platform==="win32",oh=Si?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Fi.default.cwd,ah=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?we+(e+1)+"G":we+(t+1)+cs+(e+1)+"H"},uh=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=we+-e+"D":e>0&&(r+=we+e+"C"),t<0?r+=we+-t+"A":t>0&&(r+=we+t+"B"),r},Ol=(e=1)=>we+e+"A",ch=(e=1)=>we+e+"B",lh=(e=1)=>we+e+"C",fh=(e=1)=>we+e+"D",_l=we+"G",ph=Pl?"\x1B7":we+"s",mh=Pl?"\x1B8":we+"u",dh=we+"6n",gh=we+"E",hh=we+"F",yh=we+"?25l",Dh=we+"?25h",bh=e=>{let t="";for(let r=0;r<e;r++)t+=Il+(r<e-1?Ol():"");return e&&(t+=_l),t},wh=we+"K",xh=we+"1K",Il=we+"2K",Sh=we+"J",Fh=we+"1J",la=we+"2J",vh=we+"S",$h=we+"T",Ch="\x1Bc",Eh=ih?`${la}${we}0f`:`${la}${we}3J${we}H`,Ah=we+"?1049h",Th=we+"?1049l",Bh=Ln,Lh=(e,t)=>[ls,"8",cs,cs,t,Ln,e,ls,"8",cs,cs,Ln].join(""),Rh=(e,t={})=>{let r=`${ls}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+Ln},Nh={setCwd:(e=oh())=>`${ls}50;CurrentDir=${e}${Ln}`,annotation(e,t={}){let r=`${ls}1337;`,n=t.x!==void 0,s=t.y!==void 0;if((n||s)&&!(n&&s&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Ln}};l();var Da=V(require("process"),1);l();var ps=V(require("process"),1);l();l();var kh=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(t,r);!Ph(s,o)&&n||Object.defineProperty(e,r,o)},Ph=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Oh=(e,t)=>{let r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},_h=(e,t)=>`/* Wrapped ${e}*/
${t}`,Ih=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),jh=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Wh=(e,t,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=_h.bind(null,n,t.toString());Object.defineProperty(s,"name",jh);let{writable:o,enumerable:a,configurable:u}=Ih;Object.defineProperty(e,"toString",{value:s,writable:o,enumerable:a,configurable:u})};function fa(e,t,{ignoreNonConfigurable:r=!1}={}){let{name:n}=e;for(let s of Reflect.ownKeys(t))kh(e,t,s,r);return Oh(e,t),Wh(e,t,n),e}var vi=new WeakMap,jl=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,s=e.displayName||e.name||"<anonymous>",o=function(...a){if(vi.set(o,++n),n===1)r=e.apply(this,a),e=void 0;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return fa(o,e),vi.set(o,n),o};jl.callCount=e=>{if(!vi.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return vi.get(e)};var Wl=jl;l();l();var ln=[];ln.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&ln.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ln.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var $i=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",pa=Symbol.for("signal-exit emitter"),ma=globalThis,Mh=Object.defineProperty.bind(Object),da=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(ma[pa])return ma[pa];Mh(ma,pa,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let o of this.listeners[t])s=o(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},Ci=class{},qh=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),ga=class extends Ci{onExit(){return()=>{}}load(){}unload(){}},ha=class extends Ci{#n=ya.platform==="win32"?"SIGINT":"SIGHUP";#t=new da;#e;#a;#o;#i={};#r=!1;constructor(t){super(),this.#e=t,this.#i={};for(let r of ln)this.#i[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,o=t;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(s+=o.__signal_exit_emitter__.count),n.length===s){this.unload();let a=this.#t.emit("exit",null,r),u=r==="SIGHUP"?this.#n:r;a||t.kill(t.pid,u)}};this.#o=t.reallyExit,this.#a=t.emit}onExit(t,r){if(!$i(this.#e))return()=>{};this.#r===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let t of ln)try{let r=this.#i[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#s(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#r&&(this.#r=!1,ln.forEach(t=>{let r=this.#i[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#o,this.#t.count-=1)}#c(t){return $i(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#s(t,...r){let n=this.#a;if(t==="exit"&&$i(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},ya=globalThis.process,{onExit:Ml,load:TS,unload:BS}=qh($i(ya)?new ha(ya):new ga);var ql=ps.default.stderr.isTTY?ps.default.stderr:ps.default.stdout.isTTY?ps.default.stdout:void 0,Gh=ql?Wl(()=>{Ml(()=>{ql.write("\x1B[?25h")},{alwaysLast:!0})}):()=>{},Gl=Gh;var Ei=!1,Rn={};Rn.show=(e=Da.default.stderr)=>{e.isTTY&&(Ei=!1,e.write("\x1B[?25h"))};Rn.hide=(e=Da.default.stderr)=>{e.isTTY&&(Gl(),Ei=!0,e.write("\x1B[?25l"))};Rn.toggle=(e,t)=>{e!==void 0&&(Ei=e),Ei?Rn.show(t):Rn.hide(t)};var ba=Rn;l();l();function wa(e){return Number.isInteger(e)?Di(e)===2:!1}var Hh=new Set([27,155]),zh="0".codePointAt(0),Uh="9".codePointAt(0),Sa=new Set,xa=new Map;for(let[e,t]of zt.codes)Sa.add(zt.color.ansi(t)),xa.set(zt.color.ansi(e),zt.color.ansi(t));function Vh(e){if(Sa.has(e))return e;if(xa.has(e))return xa.get(e);e=e.slice(2),e.includes(";")&&(e=e[0]+"0");let t=zt.codes.get(Number.parseInt(e,10));return t?zt.color.ansi(t):zt.reset.open}function Jh(e){for(let t=0;t<e.length;t++){let r=e.codePointAt(t);if(r>=zh&&r<=Uh)return t}return-1}function Yh(e,t){e=e.slice(t,t+19);let r=Jh(e);if(r!==-1){let n=e.indexOf("m",r);return n===-1&&(n=e.length),e.slice(0,n+1)}}function Kh(e,t=Number.POSITIVE_INFINITY){let r=[],n=0,s=0;for(;n<e.length;){let o=e.codePointAt(n);if(Hh.has(o)){let c=Yh(e,n);if(c){r.push({type:"ansi",code:c,endCode:Vh(c)}),n+=c.length;continue}}let a=wa(o),u=String.fromCodePoint(o);if(r.push({type:"character",value:u,isFullWidth:a}),n+=u.length,s+=a?2:u.length,s>=t)break}return r}function Hl(e){let t=[];for(let r of e)r.code===zt.reset.open?t=[]:Sa.has(r.code)?t=t.filter(n=>n.endCode!==r.code):(t=t.filter(n=>n.endCode!==r.endCode),t.push(r));return t}function Xh(e){return Hl(e).map(({endCode:n})=>n).reverse().join("")}function Fa(e,t,r){let n=Kh(e,r),s=[],o=0,a="",u=!1;for(let c of n){if(r!==void 0&&o>=r)break;c.type==="ansi"?(s.push(c),u&&(a+=c.code)):(!u&&o>=t&&(u=!0,s=Hl(s),a=s.map(({code:f})=>f).join("")),u&&(a+=c.value),o+=c.isFullWidth?2:c.value.length)}return a+=Xh(s),a}var Zh=24,va=({columns:e=80})=>e,Qh=(e,t)=>{let r=e.rows??Zh,n=t.split(`
`),s=Math.max(0,n.length-r);return s?Fa(t,an(n.slice(0,s).join(`
`)).length+1):t};function zl(e,{showCursor:t=!1}={}){let r=0,n=va(e),s="",o=()=>{s="",n=va(e),r=0},a=(...u)=>{t||ba.hide();let c=Qh(e,u.join(" ")+`
`),f=va(e);c===s&&n===f||(s=c,n=f,c=Ir(c,f,{trim:!1,hard:!0,wordWrap:!1}),e.write(fs.eraseLines(r)+c),r=c.split(`
`).length)};return a.clear=()=>{e.write(fs.eraseLines(r)),o()},a.done=()=>{o(),t||ba.show()},a}var e0=zl($a.default.stdout),ye=e0,ZS=zl($a.default.stderr);function Ul(){let e,t=!1,r="",n=!0,s=L({arrows:L({interval:120,frames:["\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B8"]}),brielle:L({interval:50,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]}),spinning:L({interval:60,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]})}),o=L({label:"",line:!0,color:null,style:"brielle",action:null}),a=function(c,f){let p=L(o);O(c)?p=Q(p,c):_(c)&&(p.label=c,O(f)&&(p=Q(p,f))),t=!0,n=p.line;let d,b=0,D,h=0;p.action!==null?(p.style="arrows",d=w("color",p.action)?p.action.color:xe,D=s.arrows.frames,h=D.length):(d=Ve(p.color)?p.color:Gt,r=p.label,D=s[p.style].frames,h=D.length),ye.done(),e=setInterval(()=>{if(!t)return;let F;if(p.action!==null){let j=fe(g(p.action.before),D[b=++b%h],p.action.after);F=d(r!==""?N(r,j):j)}else F=d(fe(D[b=++b%h],r));ye(p.line?ar(F):F)},s[p.style].interval)};return a.update=function(u){r=u},a.stop=function(u){t!==!1&&(t=!1,u?(ye(n?ar(u):u),ye.done()):ye.clear(),clearInterval(e),e=void 0,r="")},st(a,"active",{get(){return t}}),a}l();l();function Vl(e){return ie(e.replace(/('[{}_\w\s.-]*?'|"[\w\s.-]*?")/g,ot("$1")).replace(/({{2}-?[a-zA-Z0-9_\-.'"[\]]+-?}{2})/g,rn("$1")).replace(/((?:www|http:|https:)+[^\s]+[\w])/g,sr("$1")).replace(/(\/)(.*?)(\/)/g,rn("$1")+ue("$2")+rn("$3")).replace(/(\\)(\W)/g,m("$1")+ue("$2")).replace(/(:)(?= )/g,m("$1")).replace(/(?<=Filename\s)([\w._-]+)(?=\salready)/,ue.bold("$1")))}function Jl(e){return e.replace(/({%|{%-}|-%}|%}|{{|{{-|}}|-}}|<\/?|>|:|,)/g,ue("$1")).replace(/(['"].*?['"])/g,m("$1"))}function t0(e){let t="",r=e.indexOf("- Valid syntax:");return r>-1?(t=`
`+e.slice(r).slice(1).replace(/(Valid syntax)(:)(.*)/,ie("$1")+m("$2")+rn("$3")),e.slice(0,r)+t):e}function Yl(e,t){let r=[],n=/\(line \d+\):/,s=/'(.*?)'/,o="  ",a=i.terminal.cols-10,u=NaN,c=NaN,f=0;_(e);let p=[];for(let d=0,b=e.length;d<b;d++){let D=e[d];if(n.test(D)){let h=D.indexOf("):"),F=D.indexOf("(line");if(h>-1&&F>-1&&(r.unshift(ce(v.red,re.bold(D.slice(0,h+2)),`
`,v.redTrim)),u=Number(D.slice(F+6,h)),f=Fe(u).length+3,D=t0(D.slice(h+2)),r.push(ce(Vl(ns(D,{line:v.red,color:ie})),`
`,v.redTrim,`
`,v.redTrim)),t.length>1)){let j=ce(v.redTrim," ".repeat(f-Fe(u-1).length),k(`${u-1}`)," ",v.trim),q=ce(v.redTrim," ",re.bold(">")," ",k(`${u}`)," ",v.trim),Y="",G=t[u-1].replace(/\t/g,"  ").trimEnd(),Z=G.match(/^\s*/)[0];s.test(D)&&(Y=D.match(s)[1],c=t[u-1].indexOf(Y),c<0&&(c=NaN));let K=t[u-2].replace(/\t/g,"  ").trimEnd(),Ie=K.match(/^\s*/)[0].length;Z.length===Ie?(K="  "+K.trimStart(),o="  "):Z.length<Ie?(K="    "+K.trimStart(),o="  "):(K="  "+K.trimStart(),o="    "),K.length>a&&(K=K.slice(0,a-3)+"..."),p.push(j+m(K)),G=o+G.trimStart(),G.length>a&&(G=G.slice(0,a-3)+"..."),isNaN(c)?p.push(ce(q,C(Jl(G)),`
`,v.redTrim)):p.push(q+C(Jl(G)),ce(v.redTrim," ".repeat(f-1),Pr," ",v.redTrim," ".repeat(G.indexOf(Y)),ie("^".repeat(Y.length)),`
`+v.redTrim))}}else r.push(Vl(ns(D,{line:v.red,color:ie})))}return{line:u,column:c,output:r.join(`
`)+`
`+p.join(`
`)}}function Kl(e){let t=e.split(`
`).reduce((s,o)=>{let a=Kc(o),u="",c="";if(a!==!1)if(a.length>2){let p=Qc(a,a.length/2);u=ce(p[0]),c=ce(p[1]||"")}else u=a[0],c=a[1]||"";let f=o.trim().replace(new RegExp(i.cwd,"g"),"");if(f.length===0)s.push([v.trim]);else{let p=[],d=Ir(f,i.terminal.wrap,{hard:!0}).split(`
`);for(;d.length!==0;){let b=d.shift();d.length!==0&&d[0].length===1&&(b=b+d.shift()),p.push(v.line+u+b+c)}s.push(p)}return s},[]),r=[],n=!1;for(;t.length!==0;){let s=t.shift();t.length!==0&&s.length>1?(r.length>0&&r[r.length-1]!==v.trim&&r.push(v.trim),r.push(s.join(`
`))):s===v.trim?n?n=!1:(n=!0,r.push(s[0])):r.push(s[0])}ye(r.join(`
`))}function tt(e,t,r){let n=L({log:!0,store:!1}),s=Q(n,r);s.store===!0&&(s.data=L());let o=_t("error.asset",t.data)?t.data.error.asset:_t("errors.asset",t.data)?t.data.errors.asset:null;if(t.status===422){let{value:f}=JSON.parse(t.config.data).asset,{output:p,line:d,column:b}=Yl(o,f.split(`
`)),D=L({stack:!1,entries:L({column:b,line:d,file:X+e,details:t.statusText,status:C(Fe(t.status)),processor:En("SHOPIFY API")})}),h=U({type:"error"}).NL.Insert(p,m).NL.Context(D).toString();return s.store&&(s.data.message=p,s.data.rawMessage=Mc(p),s.data.context=D),s.log&&be(h),s.store?s.data:h}if(t.status in ea){let f=U({type:"error"}).NL.Wrap(ea[t.status]).toLine(),p=L({stack:!1,entries:L({status:t.status,message:t.statusText,source:`${e}`})});s.store&&(s.data.message=f,s.data.context=p);let d=ce(v.red,`
`,f,Bn(p));return s.log&&be(d),s.store?s.data:d}let a=re("Unknown error has occured"),u={stack:!1,entries:{status:t.status,message:t.statusText,source:`${e}`}};s.store&&(s.data.message=a,s.data.context=u);let c=ce(v.red,`
`,a,Bn({stack:!1,entries:L({status:t.status,message:t.statusText,source:`${e}`})}));return s.log&&be(c),s.store?s.data:c}function Nt(e,t){let r={stack:!1,entries:{...t}},n=e instanceof Error?w("message",e)?e.message:e.toString():e;w("stack",e)&&(r.stack=e.stack),w("code",e)&&(r.entries.code=e.code),w("name",e)&&(r.entries.name=e.name),r.stack===!1?(be(ce(xi(n,{type:"error"}),Bn(r))),process.exit(0)):i.errors.add(ce(xi(n,{type:"error"}),Bn(r)))}var je=(e,t)=>r=>{be(ce(xi(r.message,{type:"error"}),Bn({stack:r.stack,entries:{...t,code:r.code,name:r.name,details:e}})))};function fn(e,t){e.fileName=t.base;let r=L(),n,s=U({type:"error"}).NL.Wrap(e.message.split(`
`)[0],re.bold).NL;if(w("codeFrame",e)){s.Newline();let u=e.codeFrame.split(`
`),c=e.rawCodeFrame.split(`
`),f=0;for(;u.length!==0;){if(w("line",r)===!1){let p=c[f].trimStart();if(p[0]===">"){let d=p.slice(1).trimStart().match(/^\d+/);d!==null&&(n=Number(d[0]))}}s.Line(u.shift()),f=f+1}s.Newline()}let o=[],a=e.stack.split(`
`);for(;a.length!==0;)o.push(v.red+a.shift());i.errors.add(o.join(`
`)),be(s.NL.Context({stack:!0,entries:{line:n,name:e.name,file:X+t.relative,processor:En("JSON")}}).toString())}function Xl(e,t){let r=U({type:"error"}).NL.Wrap(t.sassMessage,re.bold).Newline();if(w("span",t)){let{span:n}=t,s=w("context",n)?n.context:n.text;if(s.length===0)return"";r.Newline();let{start:o,end:a}=n,u=Fe(a.line+1).length;if(o.line===a.line){let c=u-Fe(a.line).length;o.line>1&&r.Line(`${" ".repeat(c)+k(`${a.line}`)} ${v.trim}`),c=u-Fe(a.line+1).length,r.Line(`${" ".repeat(c)+k(`${a.line+1}`)} ${v.trim} ${s.trimEnd()}`),r.Line(`${" ".repeat(u-1)+Pr} ${v.redTrim} ${" ".repeat(a.column)+g("^")}`)}else{let f=s.slice(n.start.offset,n.end.offset).split(`
`),p=n.start.line+1;for(let d of f){let b=Fe(p++),D=u-b.length,h=D===0?"":" ".repeat(D);r.Line(`${h+k(b)} ${v.trim} ${d}`)}}}be(r.NL.Context({stack:t.sassStack,entries:{line:t.span.start.line,name:t.name,input:e.input,cause:t.cause,processor:En("SASS Dart")}}).toString())}function Zl(e){let t=U({type:"error"}).NL.Wrap(e.text,re.bold).Newline(),r=e.location,n=Fe(r.line).length,s=n-Fe(e.location.line).length;r.line>1&&t.Line(`${" ".repeat(s)+k(`${r.line-1}`)} ${v.trim}`),s=n-Fe(r.line).length,be(t.Line(`${" ".repeat(s)+k(`${r.line}`)} ${v.trim} ${r.lineText}`).Line(`${" ".repeat(n-1)+Pr} ${v.redTrim} ${" ".repeat(r.column)+g("^")}`).NL.NL.Context({stack:!1,entries:{suggest:I(r.suggestion),line:e.location.line,column:e.location.column,plugin:e.pluginName,namespace:r.namespace,file:X+e.location.file,processor:En("ESBuild")}}).toString())}function Ql(e,t){let r=[],n=rs(t.stack,{pretty:!0,basePath:i.cwd}).split(`
`);for(;n.length!==0;)r.push(v.red+n.shift());i.errors.add(r.join(`
`)),be(U({type:"error"}).NL.Wrap(`${t.name}${R} ${t.reason}`,re.bold).Newline().Multiline(t.showSourceCode(!0)).NL.NL.Context({stack:!0,entries:{line:t.line,column:t.column,source:e.input,file:e.input===t.file?void 0:t.file,plugin:k(t.plugin),processor:En("PostCSS")}}).toString())}l();function ms(e,t={}){let r=Q({showPercentage:!0,barColor:"neonGreen",percentColor:"whiteBright",barSize:40,clearOnComplete:!1},t),n=0;function s(p){return v.line+p+" ".repeat(Math.max(0,r.barSize-p.length))}function o(p,d=!1){return(d?"\u25B1":"\u25B0").repeat(p)}function a(){r.clearOnComplete&&console.clear()}function u(p=1){let d=n+p;n=Math.min(d,e),n===e&&a()}function c(p=1){let d=n-p;n=Math.max(d,0)}function f(p){let d=Math.round(n/e*r.barSize),b=o(d),D=o(r.barSize-d,!0),h=kr.default[r.barColor](b)+z(D);return r.showPercentage&&(h+=(p||I)(` ${String(Math.round(n/e*100))}%`)),s(h)}return{stop:a,increment:u,decrement:c,render:f,get percent(){return n}}}l();var uf=require("pathe");l();var ef=require("process");var Wr={};function vt(e){return _e(e,Wr)||(Wr[e]=[]),(t,r)=>{me(r)?Wr[e].push(ee(t)):Wr[e].push(ee(t+R+" "+g(r)))}}function H({option:e,name:t,provided:r,expects:n}){be(U({type:"error"}).Line("TYPE ERROR",g).NL.Line(`An invalid ${le(e)} type value was provided within your ${g(i.file.base)} file.`).Line(`The ${le(t)} option has an incorrect type. Syncify will not intialize until this is fixed.`).NL.Line(`provided${R} ${ee(Ge(r).toLowerCase())}`).Line(`expected${R} ${k(n.replace(/([|,])/g,m("$1")))}`).Line(`location${R} ${X}${m.underline(i.file.base)}`).NL.Line("How to fix?",m.bold).Line(`You need to change the option value to use the ${k("expected")} type.`,m).Line(`Use the ${C("defineConfig")} named export for type checking`,m).End(i.log.group).BR.toString()),process.exit(0)}function ur({message:e,expected:t,provided:r=void 0,fix:n}){r?t=I(`syncify ${t}`):(r=ef.argv.slice(2).join(" "),t=I(`syncify ${r} ${le(t.replace(/([|,-])/g,m("$1")))}`)),be(U({type:"error"}).Line("COMMAND ERROR",g).NL.Wrap(e).NL.Line(`provided${R} ${I("$")} ${I("syncify "+r)}`).Line(`expected${R} ${I("$")} ${t}`).NL.Line("How to fix?",m.bold).Wrap(n,m).NL.End(i.log.group).BR.toString()),process.exit(0)}function tf({type:e,message:t,provided:r,expected:n,fix:s}){ts.test(r)&&(r=r.replace(ts,m("$1"))),ts.test(n)&&(n=n.replace(ts,m("$1"))),be(U({type:"error"}).Line("INVALID TARGET",g).NL.Wrap(`Invalid ${le(e)} target provided. `,...t).NL.Line(`provided${R} ${ee(n)}`).Line(`expected${R} ${k(r)}`).NL.Line("How to fix?",m.bold).Wrap(s,m).End(i.log.group).BR.toString()),process.exit(0)}function Ca(e){let t=U({type:"error"}).Line("DEPENDENCY ERROR",g).NL;if(_(e))t.Wrap(`Missing ${le(e)} dependency. You need to install ${le(e)} to use it as a processor.`).NL.Line("How to fix?",m.bold).Line("Install the above module as a development dependency, for example:").NL.Line(`$ pnpm add ${e} -D`,I);else{let r=[`Missing ${le(`${e.length}`)} dependencies. You are attempting to use processor`,"(transforms) which are not yet installed. Install the below modules as development","dependencies or disable the transform:"];t.Wrap(r).Newline();for(let n of e)t.Line(`$ pnpm add ${n} -D`,I)}be(t.NL.Wrap("If you are using a different package manager please consider adopting pnpm.",m).End(i.log.group).BR.toString()),process.exit(0)}function rf({option:e,key:t,expects:r,reason:n}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(m(" \u2192 "))),be(U({type:"error"}).Line("MISSING OPTION",g).NL.Wrap(`Missing ${oa("CB",le(e))} config option. The ${le(t)} option needs to be defined`).NL.Line(`expected${R} ${k(r.replace(/([|,])/g,m("$1")))}`).Line(`location${R} ${m.underline(i.file.base)}`).NL.Line("Why?",m.bold).Wrap(n,m).End(i.log.group).BR.toString()),process.exit(0)}function Be({option:e,name:t,value:r,expects:n,reason:s=[""]}){e.indexOf(".")>-1&&(e=e.split(".").filter(Boolean).join(m(" \u2192 "))),be(U({type:"error"}).Line("INVALID ERROR",g).NL.Wrap(`Invalid ${le(e)} configuration. The ${le(t)} option is invalid. `,...s).NL.Line(`provided${R} ${ee(r)}`).Line(`expected${R} ${k(n.replace(/([|,])/g,m("$1")))}`).NL.Line("How to fix?",m.bold).Line("You need to update the option and use one of the expected values.",m).Line(`Use the ${C("defineConfig")} named export for type checking`,m).End(i.log.group).BR.toString(re)),process.exit(0)}function nf(e){be(U({type:"error"}).Line("MISSING REFERENCE",g).NL.Line(`You have not provided any ${g("stores")} within your ${le("package.json")} file.`).NL.Line("How to fix?",C.bold).Line(`You need to provide ${le("stores")} via ${le("syncify")} key`,m).Line("passing both your store name and a key > value list of theme targets.",m).NL.Line("{",m).Line('  "syncify": {'.replace(/"/g,C('"')),m).Line('    "stores": {'.replace(/"/g,C('"')),m).Line(`      "domain": "${ie("your-store")}"`.replace(/"/g,C('"')),m).Line('      "themes": {}'.replace(/"/g,C('"')),m).Line("    }",m).Line("  }",m).Line("}",m).NL.Line(`Replace the ${C("your-store")} with the name of your .myshopify domain.`,m).Line("Syncify will prompt you and provide a list of theme targets to select from.",m).NL.End(i.log.group).BR.toString()),process.exit(0)}function sf(e){be(U({type:"nil"}).Line(`${`Missing ${le("syncify.config.js")} configuration`}`,g).BR.Line("Unable to resolve a configuration file within the workspace").BR.Line(`at${R} ${m.underline("~"+e)}`).BR.Line("How to fix?",C.bold).Line("You need to add one the following files to your project",m).BR.Line(` - ${C("syncify.config.ts")}`,m).Line(` - ${C("syncify.config.js")}`,m).Line(` - ${C("syncify.config.mjs")}`,m).Line(` - ${C("syncify.config.cjs")}`,m).Line(` - ${C("syncify.config.json")}`,m).BR.Line(`You can also provide configuration in your ${C("package.json")}`,m).Line(`file using the ${le('"syncify": { "config": {} }')} 'property.`,m).BR.toString(re)),process.exit(0)}function Ai(e){let t=[`Missing ${le(".env")} credentials. Syncify could not resolve credentials within the workspace.`,`Check you have ${le(".env")} or ${le("syncify.env")} file present in the root of your project`];be(U({type:"error"}).Line("MISSING ENV",g).NL.Wrap(t).NL.End(i.log.group).BR.toString(re)),process.exit(0)}function of(e,t){let r=e instanceof Error?_e("message",e)?e.message:e.toString():e;_e("code",e)&&(t.entries.code=e.code),_e("name",e)&&(t.entries.name=e.name),be(U({type:"error"}).Line("ERROR",g).NL.Wrap(t.message,ie).NL.Wrap(r,ie.bold).NL.Line("How to fix?",m.bold).Wrap(t.solution,m).NL.Context({entries:t.entries}).NL.End(i.log.group).BR.toString()),process.exit(0)}function We(e,t){be(U({type:"error"}).Line("ERROR",g).NL.Wrap(e).NL.Line("How to fix?",m.bold).Wrap(t,m).NL.End(i.log.group).BR.toString()),process.exit(0)}function Mr(e,t){e.indexOf(".")>-1&&(e=oa("CB",fe(e.split(".").filter(Boolean).join(m(" \u2192 ")),M,ie.bold(t)),{spaced:!0}));let r=i.file.base==="package.json"?`${k("syncify")} config in the ${k("package.json")} file.`:`${k(i.file.base)} file.`;be(U({type:"error"}).Line("ERROR",g).NL.Line(`Unknown ${le(e)} option provided.`).NL.Line("How to fix?",m.bold).Line(`The ${le(t)} option is invalid or unsupported.`).Line(`You need to remove it from the ${r}`).End(i.log.group).BR.toString()),process.exit(0)}var $t=function(e){if(ds(),e.log.config.silent)return;e.env.tree=!0;let t=U().BR.Top("Syncify").NL.Line(`v${e.version}`,g.whiteBright);e.terminal.cols<80&&t.Newline("red").Error("TERMINAL WIDTH WARNING",g).Newline("red").Error(`Your terminal width is below ${g("100")} columns (currently ${g(`${e.terminal.cols}`)})`).Error("This is not recommended for usage with Syncify (size matters).").Error("Expand your terminal wider for an optimal logging experience."),A(t.toLine())};$t.time=function(){A(ar(z(`Started in ${E.stop("runtime")}`)))};$t.modes=function(e){let t=U(),r=e.env.prod?"--prod":"--dev";if(e.mode.themes)return A(t.Wrap("Select theme target/s to be inserted into your package.json file.","You will be given a code example after selecting where you will define","a custom target name. If you would like to create a new theme, then run",`the ${le("publish")} resource`,m).toLine());if(e.mode.cache&&(r!==""?r+=` ${X} cache`:r+="cache"),e.mode.clean&&(r!==""?r+=` ${X} clean`:r+="clean"),e.spawn.invoked&&(r!==""?r+=` ${X} build`:r+="build"),e.mode.build&&(r!==""?r+=` ${X} build`:r+="build"),e.mode.export&&(r!==""?r+=` ${X} export`:r+="export"),e.mode.publish&&(r!==""?r+=` ${X} publish`:r+="publish"),e.mode.import&&(r!==""?r+=` ${X} import`:r+="import"),e.mode.watch&&(r!==""?r+=` ${X} watch`:r+="watch",e.mode.hot&&(r+=` ${X} hot`)),r!==""&&(t.Line(r,m),r=""),!Yr(e.filters)){t.NL.Line(`Filters${R}`,C.bold);let n=Rt(e.filters);for(let s in e.filters){let o=C(e.filters[s].map(a=>(0,uf.relative)(e.cwd,a)).join(", "));t.Line(` ${X} ${s}${R}${n(s)}${o}`,ue)}}A(t.toLine())};$t.spawns=function(e){if(e.mode.build||e.mode.watch){let t=U().Line(`Spawned${R}`,C.bold),r=Rt(e.spawn.commands);for(let n in e.spawn.commands){let s=r(n),o=e.spawn.commands[n].pid;t.Line(` ${X} ${ue(n)}${R}${s}PID ${M} #${Gt(`${o}`)}`,m)}A(t.toLine())}};$t.stores=function(e){let t=U(),r=e.sync.themes.length;rr(e.mode.upload,e.mode.import,e.mode.build,e.mode.clean)&&r>0&&(t.Line(`Editors${R}`,g.white),af(t,e.sync.themes,"editor")),Dt(e.mode.upload,e.mode.import,e.mode.watch)&&r>0&&(e.mode.upload||e.mode.import?t.NL.Line(`Targets${R}`,g.white):t.NL.Line(`Previews${R}`,g.white),af(t,e.sync.themes,"preview")),A(t.toLine())};$t.warnings=function(t){if(!t.log.config.warnings)return;let r=It(Wr),n=r.reduce((o,a)=>(o=o+Wr[a].length,o),0);if(n===0)return;let s=U({type:"warning"}).Line(`${n} ${St("Warning",n)}`,g);for(let o of r){let a=Wr[o];if(a.length>0){a.length===n?s.Newline().Line(`${o} ${St("Warning",a.length)}`,g).Newline():s.Newline().Line(`${a.length} ${o} ${St("Warning",a.length)}`,g);for(let u of a)s.Line(`${br} ${u}`,ee)}}vn(s.toString())};function af(e,t,r){let n=t.reduce((s,{target:o,store:a})=>{let u=a.indexOf(".");return u>s.store&&(s.store=u),o.length>s.theme&&(s.theme=o.length),s},{store:0,theme:0});for(let{target:s,store:o,id:a}of t){let u=o.slice(0,o.indexOf(".")),c=r==="editor"?`https://${o}/admin/themes/${a}/editor`:`https://${o}?preview_theme_id=${a}`;e.Line(fe(" ",X,Gt(u)," ".repeat(n.store-u.length),M," ",Gt.bold(s)," ".repeat(n.theme-s.length),M," ",m.underline(c)))}}var jt=Ul();function Ri(e){A(Bl(e.width,e.newlines))}function Je(e,{color:t,type:r=null,prefix:n=null,suffix:s=null}={}){r==="error"?n===null?be(fe(os(t?t(e):ie(e)),Te(s))):be(os((t||ie)(N(n,fe(e,Te(s)))))):r==="warning"?n===null?A(jr(fe(t?t(e):ee(e),Te(s)))):A(jr((t||ee)(N(n,fe(e,Te(s)))))):n===null?A(ne(fe(t?t(e):I(e),Te(s)))):A(ne((t||I)(N(n,fe(e,Te(s))))))}function ke(e){e===""?A(`
`):e==="red"?A(v.red):e==="yellow"?A(v.yellow):A(v.line)}function ds(e=!1){if(e===!1&&i.log.config.clear===!1)return;let t=Ti.stdout.rows-2;A(t>0?`
`.repeat(t):""),(0,Bi.cursorTo)(Ti.stdout,0,0),(0,Bi.clearScreenDown)(Ti.stdout)}function dt(e){i.log.config.silent||i.env.tree===!1||(A(as(i.log.group)),i.log.config.clear&&e!==!1&&ds(),_(e)&&(i.log.group=e,A(`
`+ss(i.log.group))))}function cf(e){i.log.config.silent||i.env.tree===!1||(_(e)?A(aa(m(e)+" "+Te(An()))):(ds(),A(v.line+`
`+aa(fe(m(i.log.group),Te(An()))))))}function Wt(e,...t){i.mode.export||i.mode.build||i.log.config.silent||(t.length===2?A(ne(I(N("process",fe(g(e),Dr,t[0],Te(t[1])))))):A(ne(I(N("process",fe(g(e),Te(t[0])))))))}function Ni(e){if(i.log.config.silent===!0||i.mode.watch===!1)return;E.start();let t=fe(e.kind,Dr,Or(e.namespace)),r=w(e.relative,i.log.changes)?i.log.changes[e.relative]+1:1;i.log.changes[e.relative]=r,i.log.group!==t?(ke(),dt(t),i.log.title!==e.namespace&&(i.log.title=e.namespace)):i.log.config.clear&&(ke(),dt(t)),i.log.uri!==e.relative&&(i.log.uri=e.input),A(Ll(ue(N("changed",fe(e.relative,Te(`${r} change${r>1?"s":""}`))))))}function kt(...e){i.mode.export||i.mode.build||i.log.config.silent||(e.length===1?A(ne(I(N("minified",g(e[0]))))):e.length===4?A(ne(I(N("minified",fe(g(e[0]),M,e[1],oi,e[2],X,"saved",e[3]))))):A(ne(I(N("minified",fe(g(e[0]),oi,e[1],X,"saved",e[2],Te(E.now())))))))}function Me(e,{hot:t=!1}={}){i.mode.export||i.mode.build||i.log.config.silent||(i.warnings[e]&&A(jr(ee(N("warning",fe(Fe(i.warnings[e].size),St("warning",i.warnings[e].size),cn.warning))))),A(ne(si(N("syncing",e)))),te.pending>(t?0:2)&&A(ne(ot(N("queued",fe(e,X,g(pi(te.pending)),"in queue"))))))}function gs(e,t){return A(ne(ot(N("prompt",e))),as(i.log.group)),O(t)&&Li.default.notify(t).notify(),()=>A(ss(i.log.group))}function Ea(e,t){if(i.mode.watch){if(i.log.queue.add([e,t.domain,E.stop()]),i.log.idle)return;i.log.idle=!0,te.onIdle().then(()=>{for(let[r,n,s]of i.log.queue)A(ne(xe(N("uploaded",fe(g(r),M,n,Te(s))))));i.log.queue.clear(),i.log.idle=!1})}else A(ne(xe(N("uploaded",fe(g(e),M,t.domain,Te(E.stop()))))))}function lf(e){if(!i.log.config.silent)if(i.mode.watch){if(i.log.queue.add([e.target,e.store,E.stop()]),i.log.idle)return;i.log.idle=!0,te.onIdle().then(()=>{for(let[t,r,n]of i.log.queue)A(ne(xe(N("uploaded",g(t),r,n))));i.log.queue.clear(),i.log.idle=!1})}else A(ne(xe(N("uploaded",g(e.target),e.store,E.stop()))))}function cr(e,t){A(os(re(N("invalid",e)))),Li.default.notify({title:"Syncify Error",sound:"Pop",open:e,subtitle:e,message:"Invalid error"}).notify(),t&&be(kl(t,{type:"error",color:re.bold}))}function Se(e,{suffix:t=null,notify:r=null}={}){be(os(re(N("error",t?e+" "+Te(t):e)))),r!==null&&Li.default.notify(r).notify()}function Aa(e){return function(...t){i.spawn.invoked||(i.spawn.invoked=!0),i.log.group!=="Spawn"&&(A(as(i.log.group)),i.log.group!=="Syncify"&&ds(),A(ss("Spawn")),i.log.group="Spawn"),i.log.title!==e&&(A(Rl(ue(e))),i.log.title=e),Kl.call(this,t.toString())}}function Qe(e,t){t?A(jr(ee(N("warning",e)+Te(t)))):A(jr(ee(N("warning",e))))}function Ta(e,t){A(ne(ot(N("retrying",e,t.target,t.store))))}function ff(e,t){A(ne(Wc(N("deleted",e,t.target,t.store))))}function Ye(e,...t){i.mode.build||(t.length>0?A(ne(I(N("transform",fe(g(e),M,t[0],t.length===2?fe(M,t[1]):t.length===3?fe(M,t[1],Te(t[2])):""))))):A(ne(I(N("transform",g(e))))))}function Ba(e,t){A(ne(I(N("zipped",fe(g("ZIP"),e,Te(t))))))}function Ut(e,t){i.mode.export||i.mode.build||A(ne(N("skipped",fe(_(e)?e:e.key,Te(t)))))}function ki(e){A(ar(I.bold(e)))}function Pi(e){A(ne(ii(N("reloaded",fe(g("HOT RELOAD"),Te(E.now(e)))))))}function pf(e,t){i.mode.build||A(ne(rn(N("exported",fe(g(e),M,g(t))))))}function Oi(e,t){A(ne(I(N("version",fe(e.number,oi,e.update.number,Te(t))))))}async function ys(e,t){let r=nn(i.sync.stores[t.sidx].client,{method:"get",url:t.url,params:{"asset[key]":e}});return Xr(r).then(({data:n})=>n.asset.value).catch(()=>!1)}async function _i(e,t){let r=nn(i.sync.stores[t.theme.sidx].client,{method:"put",url:t.theme.url,data:{asset:{key:t.key,value:e}}});return Xr(r).then(()=>!0).catch(n=>(Se(t.key),tt(t.key,n.response),!1))}async function La(e,t){let r=nn(t,{method:"get",url:e.url});try{let{data:n}=await Xr(r);return n}catch(n){if(n.response&&(n.response.status===429||n.response.status===500))t.params["asset[key]"]&&(Ta(t.params["asset[key]"],e),te.add(()=>La(e,t)));else{if(i.mode.upload)throw n.response;t.params["asset[key]"]&&(Se(t.params["asset[key]"]),tt(t.params["asset[key]"],n.response))}}}var hs;async function Ds(e,t,r){return te.isPaused?void 0:(te.concurrency>2?(hs>=20&&te.concurrency--,hs>=32&&te.concurrency--,hs>=39&&await nt(500)):te.concurrency<3&&hs<30&&te.concurrency++,i.mode.upload===!1&&i.mode.import===!1&&E.start(),await Xr(r).then(({headers:s,data:o})=>{if(i.mode.import===!1&&r.method==="get")return o;r.method==="delete"?ff(t.relative,e):i.mode.watch?(i.mode.hot===!0&&t.type!==10&&t.type!==9&&Pi(),lf(e)):i.mode.upload?bt.emit("upload",{status:0,get theme(){return e},get file(){return t}}):i.mode.import&&bt.emit("import",{status:0,get theme(){return e},get file(){return t},get data(){return o}}),hs=parseInt(s["x-shopify-shop-api-call-limit"].slice(0,2),10)}).catch(s=>{if(s.response&&(s.response.status===429||s.response.status===500))i.mode.upload===!1&&i.mode.import===!1&&Ta(t.key,e),te.add(()=>Ds(e,t,r)),i.mode.upload?bt.emit("upload",{status:1,get theme(){return e},get file(){return t}}):i.mode.import&&bt.emit("import",{status:1,get theme(){return e},get file(){return t}});else{if(i.mode.upload)return bt.emit("upload",{status:2,error:s.response,get theme(){return e},get file(){return t}});if(i.mode.import)if(s.response===void 0)bt.emit("import",{status:3,get theme(){return e},get file(){return t}});else return bt.emit("import",{status:2,error:s.response,get theme(){return e},get file(){return t}});else Se(t.key,{suffix:"shopify rejected the request",notify:{title:"Request Error",message:`Failed to sync ${t.key}`}}),s.isAxiosError&&tt(t.relative,s.response)}return Xs}))}l();var ji=V(require("axios")),Wi=require("fs-extra"),i0=require("pathe"),o0=V(require("prompts"));async function mf(e,t){if(arguments.length===1)return r=>mf(e,r);if(rr(_e("namespace",t),_e("key",t))){cr("invalid fields");return}return ji.default.get("metafields.json",e.client).then(({data:r})=>r.metafields.find(n=>t.namespace===n.namespace&&t.key===n.key)).catch(r=>{console.log(r)})}async function Na(e,t){return arguments.length===1?r=>Na(e,r):(t.type="json",t.namespace="email",t.value_type="json_string",t.key="eng",ji.default.post("metafields.json",{metafield:t},e.client).then(({data:r})=>(console.log("created",r),r.metafield)).catch(r=>{if(console.log(r),!e.queue)return tt(t.namespace,r.response);if(Zr(r.response.status)){te.add(()=>Na(e,t));return}else return tt(e.store,r.response)}))}async function ka(e,t,r){return is(arguments.length,1)?(n,s)=>ka(e,n,s):ji.default.put(`metafields/${t}.json`,{metafield:r},e.client).then(n=>(console.log("created"),n.data.metafield)).catch(n=>{if(!e.queue)return tt(r.namespace,n.response);if(Zr(n.response.status))te.add(()=>ka(e,t,r));else return tt(e.store,n.response)})}async function Ii(e,t){if(is(arguments.length,1))return n=>Ii(e,n);let r=await mf(e,t);return r?ka(e,r.id,Q(t,{id:r.id,type:"json"})).catch(n=>{if(!e.queue)return tt(t.namespace,n.response);if(Zr(n.response.status))te.add(()=>Ii(e,t));else return tt(e.store,n.response)}):Na(e,t)}function Mi({stores:e,themes:t}){return{assets:async(r,n,s)=>{let o=me(s)?{method:r,params:{"asset[key]":n.key}}:{method:r,data:{asset:{key:n.key,value:s}}};await te.add(()=>nr(t,async a=>{i.mode.upload&&E.start(n.uuid),await Ds(a,n,Q({url:a.url},e[a.sidx].client,o))}))},pages:async(r,n,s)=>{await te.add(()=>nr(e,async o=>{i.mode.upload&&E.start(),console.log(s)}))},metafields:r=>te.add(function(){return fc(async function(n){await Ii(n,r)},e)})}}l();var Et=require("pathe");l();var gt=require("pathe");l();var Sr=require("pathe");function qr(e){return B(e)?e.filter(t=>/\*/.test(t)):/\*/.test(e)?e:null}function Ct(e){if(B(e))return e.map(Ct);if(e.indexOf("/")===-1)return e;let t=e.endsWith("/")?(0,Sr.dirname)(e.slice(0,-1)):(0,Sr.dirname)(e),r=t.lastIndexOf("/")+1;return t.slice(r)}function Pa(e){if(B(e))return e.map(Pa);let t=e.lastIndexOf("/");if(t===-1)return e;let r=e.indexOf("*");return r===-1?e.slice(0,t):e.slice(0,r)}function Nn(e,t=null){let r=new RegExp(`^\\.?\\/?${e}\\/`);return function n(s){if(B(s))return s.map(n);let o=s.charCodeAt(0)===33;if(o&&(s=s.slice(1)),r.test(s))return o?"!"+s:s;if(s.charCodeAt(0)===46&&s.charCodeAt(1)===46&&s.charCodeAt(2)===47&&We(`Invalid path defined at: ${R} ${ee(`"${s}"`)}`,["Paths must be relative to source"]),t!==null){let a=(0,Sr.join)(t,s);return(o?"!":"")+(a.startsWith(e)?a:(0,Sr.join)(e,s))}else return(o?"!":"")+(0,Sr.join)(e,s)}}var df=e=>t=>{if(t.indexOf("*")!==-1&&We(`Base directory path cannot contain glob${R} ${ee(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"]),t.charCodeAt(0)===46){if(t.length===1)return e+"/";t.charCodeAt(1)===47?t=t.slice(1):We(`Directory path is invalid at${R} ${ee(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"])}if(t.charCodeAt(0)===47){if(t.length===1)return e+"/";t=t.slice(1)}if(/^[a-zA-Z0-9_-]+/.test(t))return t=(0,Sr.join)(e,t),gc(t).charCodeAt(0)===47?t:t+"/";We(`Directory path is invalid at${R} ${ee(`"${t}"`)}`,["Ensure that path you are resolving is correctly formed"])};function gf(e){let t=i.svg.filter(r=>r.input.has(e.input)?!0:r.match(e.input)?(r.input.add(e.input),!0):!1);return me(t)||st(e,"data",{get(){return t}}),e}function bs(e){let t=i.style.find(r=>r.watch(e.input));return me(t)||(st(e,"data",{get(){return t}}),t.snippet?(e.namespace="snippets",e.key=(0,gt.join)("snippets",t.rename)):e.key=(0,gt.join)("assets",t.rename),e.output?e.data.rename!==(0,gt.basename)(e.output)&&(t.snippet?e.output=(0,gt.join)(i.dirs.output,e.key):e.output=(0,gt.join)(Pa(e.output),e.data.rename)):e.output=(0,gt.join)(i.dirs.output,e.key)),e}function ws(e){let t=i.script.filter(r=>r.watch.has(e.input));return t.length===0||st(e,"data",{get(){return t}}),e}function Oa(e,t){return st(t,"data",{get(){return e}}),t}function _a(e){if(i.section.prefixDir){if(e.base.endsWith("-group.json")||wr(i.section.global)&&i.section.global.test(e.input))return e;let t=Ct(e.input);if(i.section.baseDir.has(t))return e;let r=Ct(e.input)+i.section.separator+e.base;e.name=r,e.key=(0,gt.join)(e.namespace,r),e.output=(0,gt.join)((0,gt.dirname)(e.output),r)}return e}function hf(e){if(i.snippet.prefixDir){if(wr(i.snippet.global)&&i.snippet.global.test(e.input))return e;let t=Ct(e.input);if(i.snippet.baseDir.has(t))return e;let r=t+i.snippet.separator+e.base;e.name=r,e.key=(0,gt.join)(e.namespace,r),e.output=(0,gt.join)((0,gt.dirname)(e.output),r)}return e}function u0(e){switch(e){case".liquid":return"Liquid";case".json":return"JSON";case".html":return"HTML";case".md":return"Markdown";case".js":case".mjs":return"JavaScript";case".jsx":return"JSX";case".ts":return"TypeScript";case".tsx":return"TSX";case".svg":return"SVG";case".css":return"CSS";case".scss":return"SCSS";case".sass":return"SASS";case".mov":case".mp4":case".webm":case".ogg":return"Video";case".ico":case".jpg":case".png":case".gif":case".pjpg":case".webp":return"Image";case".eot":case".ttf":case".woff":case".woff2":return"Font";case".pdf":return"PDF";case".yaml":case".yml":return"YAML"}return"Unknown"}function Ss({name:e,dir:t,ext:r,namespace:n},s){let o=s;return/\[dir\]/.test(o)&&(o=o.replace(/\[dir\]/g,t)),/\[file\]/.test(o)&&(o=o.replace(/\[file\]/g,e)),/\[ext\]/.test(o)&&(o=o.replace(/\[ext\]/g,r)),n==="snippets"&&s.endsWith(".liquid")===!1?o+".liquid":!s.endsWith(".[ext]")||!s.endsWith(r)?/\.[a-z]+$/.test(s)?o:o+r:o}function Df(e,t,r){return e.size=NaN,function(n,s,o){let a;return s===15||s===16?(a=(0,Et.join)(Ct(e.dir),e.base),r=null):(a=(0,Et.join)(n,e.base),r=(0,Et.join)(r,a)),o===-1&&(t=i.cache.paths[t]),e.uuid=Ht(),e.type=s,e.key=a,e.namespace=n,e.kind=o,e.input=t,e.output=r,e.relative=(0,Et.relative)(i.cwd,t),e}}function c0(e,t){let r=e;return(n,s)=>Q({},r,{uuid:Ht(),key:n,namespace:s,output:t,kind:u0(r.ext),relative:(0,Et.relative)(i.cwd,t)})}function bf(e){return Fs(i.paths,i.dirs.output)(e)}function Fs(e,t){return function r(n){let s=new Tn((0,Et.parse)(n)),o=Df(s,n,t);if(s.ext===".liquid"){if(e.sections.match(n))return _a(o("sections",4,"Liquid"));if(e.snippets.match(n))return hf(o("snippets",3,"Liquid"));if(e.layout.match(n))return o("layout",2,"Liquid");if(e.templates.match(n))return o("templates",1,"Liquid");if(e.customers.match(n))return o("templates/customers",1,"Liquid");if(e.metaobject.match(n))return o("templates/metaobject",1,"Liquid");if(e.transforms.has(n)&&e.transforms.get(n)===9)return bs(o("snippets",9,"CSS"))}else{if(s.ext===".schema"&&e.schema.match(n))return Oa(r,o("schema",5,"JSON"));if(s.ext===".json"){if(e.metafields.match(n))return o("metafields",15,"JSON");if(e.sections.match(n))return _a(o("sections",4,"JSON"));if(e.templates.match(n))return o("templates",1,"JSON");if(e.config.match(n))return o("config",7,"JSON");if(e.locales.match(n))return o("locales",8,"JSON");if(e.customers.match(n))return o("templates/customers",1,"JSON");if(e.metaobject.match(n))return o("templates/metaobject",1,"JSON");if(e.schema.match(n))return Oa(r,o("schema",5,"JSON"))}}switch(s.ext){case".js":case".mjs":return ws(o("assets",10,"JavaScript"));case".ts":return ws(o("assets",10,"TypeScript"));case".tsx":return ws(o("assets",10,"TSX"));case".jsx":return ws(o("assets",10,"JSX"));case".svg":return gf(o("assets",11,"SVG"));case".css":return bs(o("assets",9,"CSS"));case".scss":return bs(o("assets",9,"SCSS"));case".sass":return bs(o("assets",9,"SASS"));case".md":return o("pages",16,"Markdown");case".html":return o("pages",16,"HTML")}if(e.assets.match(n)){if(i.spawn.invoked)return o("assets",17);switch(s.ext){case".json":return o("assets",14,"JSON");case".svg":return o("assets",14,"SVG");case".css":return o("assets",14,"CSS");case".ico":case".jpg":case".png":case".gif":case".webp":case".pjpg":return o("assets",14,"Image");case".mov":case".mp4":case".webm":case".ogg":return o("assets",14,"Video");case".pdf":return o("assets",14,"PDF");case".eot":case".ttf":case".woff":case".woff2":return o("assets",14,"Font")}}}}function wf(e,t){let r=(0,Et.join)(t,e),n=new Tn((0,Et.parse)(r)),s=c0(n,r);if(e.startsWith("sections/"))return s(e,"sections");if(e.startsWith("snippets/"))return s(e,"snippets");if(e.startsWith("layout/"))return s(e,"layout");if(e.startsWith("customers/",10))return s(e,"templates/customers");if(e.startsWith("metaobject/",10))return s(e,"templates/metaobject");if(e.startsWith("templates/"))return s(e,"templates");if(e.startsWith("config/"))return s(e,"config");if(e.startsWith("locales/"))return s(e,"locales");if(e.startsWith("assets/"))return s(e,"assets")}var xf=e=>t=>{let r=new Tn((0,Et.parse)(t)),n=Df(r,t,e);switch((0,Et.basename)(r.dir)){case"sections":return n("sections",4,-1);case"snippets":return n("snippets",3,-1);case"layout":return n("layout",2);case"templates":return n("templates",1,-1);case"customers":return n("templates/customers",1,-1);case"metaobject":return n("templates/metaobject",1,-1);case"config":return n("config",7,-1);case"locales":return n("locales",8,-1);case"assets":return n("assets",14,-1)}};l();var Ff=V(require("zlib"));var Sf=["b","kb","mb","gb","tb"];function Vt(e){return Ft(e)?lr(e):lr(rt(e))}function rt(e){return _(e)?Cn(e).toString().length:e.toString().length}function lr(e){if(e===0)return`${g("0")}b`;let t=parseInt(String(Math.floor(Math.log(e)/Math.log(1024))),10);return t===0?`${g(`${e}`)}${Sf[t]}`:`${g((e/1024**t).toFixed(1))}${Sf[t]}`}function Pt(e,t){let r=rt(e);return{isSmaller:r>t||r===t,gzip:lr(Ff.default.gzipSync(e).length),before:lr(t),after:lr(r),saved:lr(t-r)}}l();async function vf(e,t,r,n){return me(r)||r===!1?n("put",e,t):_(r)?n("put",e,r):pt(r)?n("put",e,r.toString()):n("put",e,t)}l();var Fr=require("fs-extra"),Ia=require("pathe");var vs=/{%-?\s*render\s+['"]hot\.js['"]/;async function $f(){let e="snippets/hot.js.liquid",[t]=i.sync.themes,r=await(0,Fr.readFile)(i.hot.snippet),n=await _i(r.toString(),{theme:t,key:e});return ye(ne(m(` ${X} ${ue(e)} uploaded snippet injection`))),n}function kn(e){return vs.test(e)}function Cf(e){if(!kn(e))return Ef(e)}function Pn(e){let t=e.search(vs);if(t>-1){let r=e.slice(0,t),n=e.slice(e.indexOf("%}")+2);return r+n}return e}function Ef(e){let t=e.indexOf("<head>")+6;return e.slice(0,t)+`
`+i.hot.renderer+`
`+e.slice(t)}async function ja(e){if(!await(0,Fr.pathExists)(e))return null;let n=(await(0,Fr.readFile)(e)).toString(),[s]=i.sync.themes,o=(0,Ia.basename)(e),a=`layout/${o}`,u=await ys(`layout/${o}`,s);if(_(u))return vs.test(u)?(n=Pn(n),await _i(n,{theme:s,key:a})):!0}async function Af(e){if(!await(0,Fr.pathExists)(e))return null;let n=(await(0,Fr.readFile)(e)).toString();vs.test(n)||(n=Ef(n),await(0,Fr.writeFile)(e,n),ye(ne(m(` ${X} injected render tag in output layout`))));let[s]=i.sync.themes,o=(0,Ia.basename)(e),a=`layout/${o}`,u=await ys(`layout/${o}`,s);if(_(u))return vs.test(u)&&(n=Pn(n)),await _i(n,{theme:s,key:a})?(ye(ne(m(` ${X} uploaded and inject render tag`))),!0):!1}function f0(e){e===0&&We("Empty output directory",[`There are no files within ${ue((0,Bf.relative)(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${ue.bold("syncify build")} command and try again.`]);let t=new Map,r=0;for(let n of i.sync.themes){n.target.length>r&&(r=n.target.length);let s=`${n.store}:${n.target}`;t.has(s)||t.set(s,{active:t.size===0,log:null,size:e,processed:"",failed:0,success:0,retry:0,progress:ms(e),get theme(){return n},errors:{remote:new Map,retry:new Set}})}return t}async function Rf(e){dt("Upload"),jt("Preparing",{style:"spinning"}),E.start("upload");let t=Mi(i.sync),r=Ve(e),n=xf(i.dirs.output),s=Tf.default.sync(`${i.dirs.output}/**`).sort(),o=f0(s.length),a=null;await nt(500);function u(p){let d=p.toRaw();a!==null&&(clearInterval(a),a=null),ye(p.toString()),a=setInterval(()=>{d[3]=ne(m(N("Elapsed",I.bold(E.now("upload")))))+`
`,ye(ce(d))},100)}function c(p){jt.stop();let{file:d,theme:b}=p,D=`${b.store}:${b.target}`,h=o.get(D),F=U().NL.Line(Or(d.namespace),g.whiteBright).NL.Line(N("Elapsed",I.bold(E.now("upload"))),m).Line(N("Duration",I(E.stop(d.uuid))),m).Line(N("Size",I(Vt(d.size))),m).Newline();p.status===0?(h.errors.retry.has(d.input)&&(h.retry-=1,h.errors.retry.delete(d.input)),h.success+=1,h.progress.increment(1),h.processed=ue(d.key)):p.status===1?(h.errors.retry.has(d.input)||(h.retry+=1,h.errors.retry.add(d.input)),h.processed=ot(d.key)):p.status===2&&(h.errors.retry.has(d.output)&&(h.retry-=1,h.errors.retry.delete(d.output)),h.errors.remote.has(d.output)||(h.failed+=1,h.progress.increment(1),h.errors.remote.set(d.output,p),h.processed=ie(d.key)));for(let[j,{success:q,size:Y,failed:G,retry:Z,progress:K,processed:Ie}]of o){let[qe,J]=j.split(":"),De=`${g(`${q}`)} ${C("of")} ${g(`${Y}`)}`,Xe=g(`${Z}`),$=g(`${G}`);F.Line(`${g(J.toUpperCase())}  ${M}  ${qe}`,I).NL.Line(Ie).NL.Line(N("uploaded",De),I).Line(N("retrying",Xe),Z>0?ot:I).Line(N("failures",$),G>0?ie:I).NL.Insert(K.render()).Newline()}u(F)}bt.on("upload",c),await nt(500);for(let p of s){let d=n(p),b;try{if(b=(await(0,Lf.readFile)(d.output)).toString(),d.namespace==="layout"&&kn(b)&&(b=Pn(b)),d.size=rt(b),!r)await t.assets("put",d,b);else{let h=e.apply({...d},b);await vf(d,b,h,t.assets)}}catch(D){je("Error reading output file",{file:d.key,source:d.relative})(D)}}await te.onIdle(),clearInterval(a),ye.clear(),dt("Errors");let f=!1;for(let{errors:p,theme:d,failed:b,success:D,size:h}of o.values())if(p.remote.size>0){let F=g(`${d.target.toUpperCase()} THEME`),j=g(`${b}`),q=`${g(`${D}`)} ${C("of")} ${g(`${h}`)}`;A(U().Line(`${F}  ${M}  ${d.store}`).NL.Line(N("uploaded",q),xe).Line(N("failures",j),ie).NL.toString());let Y=1;for(let G of p.remote.values()){let Z=`${(Y<10?"0":"")+Y++}`;ke(),Je(ie.bold(`ERROR ${Z}`)),tt(G.file.input,G.error)}Ri(),f=!0}await nt(500),f||A(ar(m("No errors!"))),ye(ar("Uploaded Completed")),process.exit(0)}l();var Rm=V(pn()),Nm=V(require("fast-glob"));l();var Ui=require("fs-extra");var Xa=require("pathe");function Y0(e,t){let{type:r,relative:n,kind:s,key:o,output:a}=e;return async function(u){r!==17&&(i.mode.watch&&i.watch.unwatch(a),await(0,Ui.writeFile)(a,u).catch(je("Error writing asset to output directory",{file:n,source:n}))),i.mode.hot&&(Me(o,{hot:!0}),s==="JavaScript"?i.wss.script(e.uuid,(0,Xa.basename)(o)):s==="CSS"&&i.wss.stylesheet(e.uuid,(0,Xa.basename)(o))),i.env.sync!==0&&i.mode.build===!1&&await t("put",e,u)}}async function Vi(e,t,r){let n=Y0(e,t),s=await(0,Ui.readFile)(e.input).catch(je("Error reading asset file",{file:e.relative,source:e.relative}));if(s){let o=s.toString();if(rl(o))return i.mode.watch&&Ut(e,"empty file"),null;if(!Ve(r))return n(o);let a=r.apply({...e},o);if(me(a)||a===!1)return n(o);if(Fn(a))return n(a);if(pt(a))return n(a.toString());await n(o)}return null}l();var ym=require("html-minifier-terser"),Su=require("pathe"),Mn=require("fs-extra");l();var gu=require("fs-extra");l();var lm=V(am(),1);l();var um=(e,t,r)=>r<0?-1:e.lastIndexOf(t,r);function Uy(e,t){let r=um(e,`
`,t-1),n=t-r-1,s=0;for(let o=r;o>=0;o=um(e,`
`,o-1))s++;return{line:s,column:n}}function no(e,t,{oneBased:r=!1}={}){if(t<0||t>=e.length&&e.length>0)throw new RangeError("Index out of bounds");let n=Uy(e,t);return r?{line:n.line+1,column:n.column+1}:n}var Vy=e=>`\\u{${e.codePointAt(0).toString(16)}}`,mr=class e extends Error{name="JSONError";fileName;codeFrame;rawCodeFrame;#n;constructor(t){super(),this.#n=t,Error.captureStackTrace?.(this,e)}get message(){let{fileName:t,codeFrame:r}=this;return`${this.#n}${t?` in ${t}`:""}${r?`

${r}
`:""}`}set message(t){this.#n=t}},cm=(e,t,r=!0)=>(0,lm.codeFrameColumns)(e,{start:t},{highlightCode:r}),Jy=(e,t)=>{let r=t.match(/in JSON at position (?<index>\d+)(?: \(line (?<line>\d+) column (?<column>\d+)\))?$/);if(!r)return;let{index:n,line:s,column:o}=r.groups;if(s&&o)return{line:Number(s),column:Number(o)};if(n=Number(n),n===e.length){let{line:a,column:u}=no(e,e.length-1,{oneBased:!0});return{line:a,column:u+1}}return no(e,n,{oneBased:!0})},Yy=e=>e.replace(/(?<=^Unexpected token )(?<quote>')?(.)\k<quote>/,(t,r,n)=>`"${n}"(${Vy(n)})`);function Gr(e,t,r){typeof t=="string"&&(r=t,t=void 0);let n;try{return JSON.parse(e,t)}catch(a){n=a.message}let s;e?(s=Jy(e,n),n=Yy(n)):n+=" while parsing empty string";let o=new mr(n);throw o.fileName=r,s&&(o.codeFrame=cm(e,s),o.rawCodeFrame=cm(e,s,!1)),o}l();function mu(e,t){if(i.warnings.has(t)){let r=i.warnings.get(t);return r.has(e)?r.get(e):r.set(e,new Set).get(e)}return i.warnings.set(t,new Map([[e,new Set]])).get(t).get(e)}function gn(e,t){let r=mu("Shared Schema",e.input),n=U({type:"warning"}).NL.Wrap(t.message,ee).NL.Context({stack:!1,type:"warning",entries:{reference:t.$ref,schema:t.schema,section:e.relative,shared:t.shared}});r.add(n.toString())}var fm=e=>(t,r)=>{let n=mu("sass",e.input),s=U({type:"warning"}).NL.Wrap(t,ee);if(w("span",r)){if(me(r.span))return;let{span:a}=r,f=(w("context",a)?a.context:a.text).slice(a.start.offset,a.end.offset).split(`
`);if(f.length<15){let p=Fe(a.end.line).length,d=a.start.line+1;for(let b of f){let D=Fe(d++),h=p-D.length,F=h===0?"":" ".repeat(h);s.Trim(`   ${F+k(D)} ${v.trim} ${b}`)}}}let o=s.NL.Wrap(r.stack,ee).NL.Context({stack:!1,entries:{source:e.relative,deprecated:r.deprecation?"Yes":"No"}}).toString();n.has(o)||n.add(o),i.mode.build||A(jr(ee(N("warning",fe(Fe(n.size),St("warning",n.size)))+cn.warning)))};function pm(e,t){let r=mu("postcss",e.input),n=ce(Nl(t.node.toString(),{line:"yellow",span:Ft(t.endLine)?{start:t.line,end:t.endLine}:{start:t.line,end:t.endLine}}),ua({stack:!1,entries:{column:t.column,file:e.relative,plugin:t.plugin}}));r.has(n)||(r.add(n),vn(n))}l();function mm(e){return i.terser.liquid.minifySchema===!1?i.processor.json.useTab?JSON.stringify(e,null,"	".repeat(i.processor.json.indent)):JSON.stringify(e,null,i.processor.json.indent):JSON.stringify(e,null,0)}async function Ky(e){let r=(await(0,gu.readFile)(e.input)).toString(),n=r.search(/{%-?\s*schema/);if(n<0)return[r,null,null];let s=r.indexOf("%}",n+2)+2,o=r.slice(s),a=s+o.search(/{%-?\s*endschema/);if(a<0)return Se("Missing {% endschema %} tag in file.",{suffix:e.relative,notify:{title:"Invalid Syntax",message:"Missing {% endschema %} tag in file."}}),null;try{let u=Gr(r.slice(s,a));return[r.slice(0,s),u,r.slice(a)]}catch(u){return Se(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base} in ExtractSchema`}}),u instanceof mr&&fn(u,e),null}}function Xy(e,t){let r=[];for(let n=0,s=t.length;n<s;n++){if(!w("$ref",t[n])){r.push(t[n]);continue}let[o,a]=t[n].$ref.split(".");if(i.section.shared.has(o)){let u=i.section.shared.get(o);w(a,u.schema)?B(u.schema[a])?r.push(...u.schema[a]):O(u.schema[a])&&(w("settings",u.schema[a])?r.push(...u.schema[a].settings):r.push(u.schema[a])):i.mode.build?gn(e,{shared:u.uri,$ref:t[n].$ref,schema:"settings",message:[`An unknown Shared Schema reference key of ${g(t[n].$ref)} was provided.`,`There is no such key ${g(a)} within the shared schema.`]}):Qe(`undefined $ref ${g(a)} in ${g(o)} `,e.base)}else i.mode.build?gn(e,{shared:a,$ref:t[n].$ref,schema:"settings",message:[`An unknown Shared Schema file reference ${g(t[n].$ref)} was provided`,`to ${g("settings")} within section file ${g(e.base)}. There is no known shared`,"schema file using that name."]}):Qe(`unknown $ref ${g(t[n].$ref)} `,e.base)}return r}function Zy(e,t){let r=[];for(let n=0,s=t.length;n<s;n++)if(w("$ref",t[n])){let[o,a]=t[n].$ref.split(".");if(i.section.shared.has(o)){let u=i.section.shared.get(o);w(a,u.schema)?B(u.schema[a])?r.push(...u.schema[a]):r.push(u.schema[a]):i.mode.build?gn(e,{shared:a,$ref:t[n].$ref,schema:"blocks",message:[`An unknown Shared Schema key reference of ${g(t[n].$ref)} was provided`,`to the ${g("blocks")} within section file ${g(e.base)}. The shared schema`,`file exists, but the key ${g(a)} does not.`]}):Qe(`undefined $ref ${g(a)} in ${g(o)} `,e.base)}else i.mode.build?gn(e,{shared:a,$ref:t[n].$ref,schema:"blocks",message:[`An unknown Shared Schema file reference ${g(t[n].$ref)} was provided`,`to ${g("blocks")} within section file ${g(e.base)}. There is no known shared`,"schema file using that name."]}):Qe(`unknown $ref ${g(t[n].$ref)} `,e.base)}else{let o={};for(let a in t[n])a!=="settings"&&(o[a]=t[n][a]);if(o.type!=="@app"&&(o.settings=[],w("settings",t[n])))for(let a of t[n].settings)if(w("$ref",a)){let[u,c]=a.$ref.split(".");if(i.section.shared.has(u)){let f=i.section.shared.get(u);w(c,f.schema)?B(f.schema[c])?o.settings.push(...f.schema[c]):O(f.schema[c])&&(w("settings",f.schema[c])?o.settings.push(...f.schema[c].settings):o.settings.push(f.schema[c])):i.mode.build?gn(e,{shared:c,$ref:t[n].$ref,schema:`blocks ${M} settings`,message:[`An unknown Shared Schema key reference of ${g(t[n].$ref)} was provided`,`to the ${g("blocks")} schema id ${g(a.id)} within section file`,`${g(e.base)}. The shared schema file exists, but the key ${g(c)} does not.`]}):Qe(`undefined $ref ${g(c)} in ${g(u)} `,e.base)}else i.mode.build?gn(e,{shared:c,$ref:t[n].$ref,schema:`blocks ${M} settings`,message:[`An unknown Shared Schema file reference ${g(t[n].$ref)} was provided`,`to ${g("blocks")} schema id ${g(a.id)} within section file ${g(e.base)}.`,"There is no known shared schema file using that name."]}):Qe(`unknown $ref ${g(a.$ref)} `,e.base)}else o.settings.push(a);r.push(o)}return r}async function Qy(e){try{let t=await(0,gu.readFile)(e.input),r=ir(t);if(w(e.input,i.cache.schema)&&i.cache.checksum[e.input]===r&&i.section.shared.has(e.name))return i.section.shared.get(e.name);i.cache.checksum[e.input]=r;let n=t.toString();if(n.trim().length===0)return Qe("empty file","no shared schema defined"),null;let s=Gr(n.toString());w("$schema",s)&&delete s.$schema,w("$description",s)&&delete s.$description;for(let o in s)if(O(s[o]))w("$description",s[o])&&delete s[o].$description;else if(B(s[o]))for(let a of s[o])w("$description",a)&&delete a.$description;return i.section.shared.set(e.name,{uri:e.input,schema:s}).get(e.name)}catch(t){return Se(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),t instanceof mr&&fn(t,e),null}}async function hu(e){let t=await Ky(e);if(t===null)return null;let[r,n,s]=t;if(n===null)return r;let o=Ae(n);return o("settings")&&(n.settings=Xy(e,n.settings)),o("blocks")&&(n.blocks=Zy(e,n.blocks)),ce(r.trimEnd(),`
`,mm(n),`
`,s.trimStart())}async function dm(e,t,r){let n=await Qy(e);if(n===null)return null;let s=Lr(i.cache.schema[n.uri]),o=await nr(s,a=>st(e.data(a),"data",{get(){return i.cache.sections[a]}}));Wt("Shared Schema",`${o.length} ${St("section",o.length)}`);for(let a of o){let u=await hu(a);Me(a.key),await t("put",a,u),i.mode.hot&&(e.type===4?i.wss.section(a.name):a.type!==10&&a.type!==9&&await te.onIdle().then(()=>i.wss.replace()))}}l();var hn=require("pathe"),Rs=require("fs-extra");var wu=V(require("postcss"));var yu=null,Du=null;async function xu(e){if(e==="sass")return yu=require("sass"),pe(yu)===!1;if(e==="tailwind")return Du=require("tailwindcss"),pe(Du)===!1}function gm(e,t,r){let n=Ve(r)?{...e}:!1;return async function(s){if(pe(s))return null;let o;if(n!==!1){let u=r.apply({...e},Cn(s));me(u)||u===!1?o=s:(_(u)||pt(u))&&(o=Fe(u))}else o=s;i.cache.checksum[e.input]=ir(o),(0,Rs.writeFile)(e.output,o).catch(je("Error writing stylesheet to output",{input:e.relative,output:(0,hn.relative)(i.cwd,e.output)}));let a=Pt(s,e.size);if(a.isSmaller?e.kind==="SCSS"||e.kind==="SASS"||e.kind==="Tailwind"?Ye(e.kind,g("CSS"),a.before,E.stop(e.uuid)):Ye("CSS",a.before,`gzip ${a.gzip}`):e.kind==="Tailwind"?kt("Tailwind",a.before,a.after,a.saved):kt("CSS",a.before,a.after,a.saved),i.mode.hot&&i.wss.stylesheet(e.uuid,(0,hn.basename)(e.key)),e.kind!=="Tailwind"&&Me(e.key),t===null)return o;await t("put",e,o)}}async function eD(e){let{data:t}=e;if(he(t.sass)&&t.sass===!1||me(t))return so(e);let r=O(t.sass)?Re(i.processor.sass.config,t.sass):i.processor.sass.config;if(e.ext===".scss"||e.ext===".sass"){i.mode.watch&&E.start();try{let{css:n,sourceMap:s}=yu.compile(t.input,{loadPaths:r.include,sourceMapIncludeSources:t.postcss,sourceMap:r.sourcemap,style:r.style,alertColor:!1,alertAscii:!1,quietDeps:r.quietDeps,charset:t.snippet===!1,logger:{debug:o=>console.log("DEBUG",o),warn:fm(e)}});if(r.sourcemap){let o=(0,hn.join)(i.dirs.sourcemaps.styles,e.base+".map");(0,Rs.writeFile)(o,JSON.stringify(s)).catch(je("Error writing SASS Source Map file to the cache directory",{file:(0,hn.relative)(i.cwd,o),source:e.relative}))}return Wt("SASS Dart",E.stop()),e.size=rt(n),{css:n,map:s}}catch(n){return i.mode.watch&&(E.clear(),Se(e.relative,{notify:{title:"SCSS Transform Error",message:`SASS Dart failed to process ${e.base}`}}),Xl(e,n)),null}}return so(e)}async function io(e,t){for(let r in i.processor.tailwind.map)if(i.processor.tailwind.map[r].has(e.input)){let n=bf(i.style[r].input);if(me(n))continue;E.start(n.uuid),n.kind="Tailwind";let s=await tD(n);_(s)&&t.push([n,s])}return t}async function tD(e){i.mode.hot&&E.start(e.uuid);let t=gm(e,null,null),r=await so(e),n=await hm(e,r.css,r.map);return n===null?null:e.data.snippet?t(bu(n,e.data.attrs)):t(n)}async function so(e){try{let t=await(0,Rs.readFile)(e.input);return e.size=rt(t),{css:t.toString(),map:null}}catch(t){return E.clear(),Se(e.relative,{notify:{title:"Read Error",message:`File ${e.base} could not be read`}}),Nt(t,{source:e.relative,transform:"style"}),null}}async function hm(e,t,r){let{data:n}=e,o=he(n.tailwind)===!1&&n.tailwind?[Du(n.tailwind)].concat(n.postcss):n.postcss;try{i.mode.watch&&e.kind!=="Tailwind"&&E.start();let a=await(0,wu.default)(o).process(t,{from:n.rename,to:n.rename,map:r?{prev:r,inline:!1,absolute:!0}:null});i.mode.watch&&e.kind!=="Tailwind"&&Wt("PostCSS",E.stop());let u=a.warnings();if(u.length>0)for(let c of u)pm(e,c);return a.css.toString()}catch(a){return i.mode.watch&&(E.clear(),Se(e.relative,{notify:{title:"PostCSS Transform Error",message:`PostCSS failed to process ${e.base}`}}),Ql(e,a)),null}}function bu(e,t){return t.length>0?`<style ${t.join(" ")}>${e}</style>`:`<style>${e}</style>`}async function oo(e,t,r){i.mode.watch&&E.start(),i.mode.hot&&E.start(e.uuid);let n=gm(e,t,r);try{let s=await eD(e);if(s===null)return null;if(pe(wu.default)||!e.data.postcss&&!e.data.snippet)return n(s.css);if(e.data.postcss){let o=await hm(e,s.css,s.map);return o===null?null:e.data.snippet?n(bu(o,e.data.attrs)):n(o)}return e.data.snippet?n(bu(s.css,e.data.attrs)):n(s.css)}catch(s){return console.log(s),null}}var rD=/{%-?\s*#[\s\S]+?%}/g,nD=/{%-?\s*comment\s*-?%}[\s\S]+?{%-?\s*endcomment\s*-?%}/g,sD=/{%-?\s*liquid[\s\S]+?%}/g,iD=/[^,:'"a-zA-Z0-9=] +[^'"a-zA-Z0-9=}{]/g;function ao(e){return i.terser.liquid.removeComments?e.replace(nD,"").replace(rD,""):e}function oD(e){return e.replace(sD,t=>`
`+t.replace(/#.*?$/gm,"")+`
`)}function aD(e,t){if(!i.terser.liquid.minifySchema)return ao(t);let r=t.search(/{%-?\s*schema/);if(r>-1){let n=t.indexOf("%}",r+2)+2,s=t.slice(n),o=n+s.search(/{%-?\s*endschema/);if(o>-1){let a=JSON.parse(t.slice(n,o)),u=JSON.stringify(a,null,0),c=t.slice(0,n)+u+t.slice(o);return ao(c)}cr(e.relative)}return ao(t)}function uD(e){return i.terser.liquid.stripDashes,e}async function cD(e,t){try{return await(0,ym.minify)(t,i.terser.markup)}catch(r){return cr(e.relative),console.error(r),null}}var lD=e=>async t=>{if(e.type===2&&i.mode.hot&&kn(t)===!1&&(t=Cf(t)),!i.mode.terse)return(0,Mn.writeFile)(e.output,t).catch(je("Error writing liquid file to output",{input:e.relative,output:(0,Su.relative)(i.cwd,e.output)})),Ye(e.kind,Or(e.namespace),lr(e.size),E.now()),t;let r;if(e.base.endsWith(".js.liquid"))r=t.replace(iD,"").replace(/(?<=[:,]) +(?=['"{[])/g,"").replace(/{{%/g,"{ {%").replace(/%}}/g,"%} }").replace(/(?<=[%}]})\s+(?=[\]}])/g," ").replace(/>\s+(?=[{[])/,">").replace(/(?<=[}\]])\s<\//g,"</");else if(e.base.endsWith(".json.liquid"))r=JSON.stringify(JSON.parse(t),null,0);else{let o=e.type===4?aD(e,t):ao(t),a=await cD(e,o);r=oD(a)}if(Wt("HTML Terser",E.now()),pe(r))return(0,Mn.writeFile)(e.output,t).catch(je("Error writing liquid file to output",{input:e.relative,output:(0,Su.relative)(i.cwd,e.output)})),t;let n=uD(r).replace(/^\s+/gm,"");(0,Mn.writeFile)(e.output,n);let s=Pt(t,e.size);return s.isSmaller?Ye(`${e.namespace} ${s.before} \u2192 gzip ${s.gzip}`):kt("Liquid",s.before,s.after,s.saved),n};async function $r(e,t,r){i.mode.watch&&E.start();let s=(await(0,Mn.readFile)(e.input)).toString();if(i.mode.build&&e.namespace==="layout"&&kn(s)&&(s=Pn(s)),e.type===4){let u=await hu(e);if(u===null)return null;s=u}e.size=rt(s);let o=lD(e),a;if(Ve(r)){let u=r.apply({...e},s);me(u)||u===!1?a=await o(s):_(u)?a=await o(u):pt(u)&&(a=await o(u.toString()))}else a=await o(s);if(i.cache.checksum[e.input]=ir(a),i.processor.tailwind.map!==null&&e.type!==9){let u=await io(e,[[e,a]]);for(let c of u)await t("put",c[0],c[1]),Me(c[0].key)}else Me(e.key),await t("put",e,a);i.mode.hot&&(e.type===4?i.wss.section(e.name):await te.onIdle().then(()=>i.wss.replace()))}l();var uo=require("fs-extra");function Fu(e,t){try{return Gr(t)}catch(r){return Se(e.relative,{notify:{title:"JSON Error",message:`Error when parsing ${e.base}`}}),r instanceof mr&&fn(r,e),null}}function fD(e,t=0){try{return JSON.stringify(e,null,t)}catch(r){return console.log(r),null}}async function Ns(e,t,r=0){let n=fD(t,r);if(dc(n))return i.mode.watch&&E.stop(),t;if(r===0){let s=Pt(n,e.size);kt("JSON",s.before,s.after,s.saved)}else Ye("JSON",e.namespace,lr(e.size),E.now());return e.type===15||(0,uo.writeFile)(e.output,n).catch(je("Error writing JSON",{file:e.relative})),n}async function Cr(e,t,r){i.mode.watch&&E.start();let n=await(0,uo.readFile)(e.input).catch(je("Error reading JSON file",{file:e.relative}));if(pt(n)){let s=n.toString();if(e.size=rt(s),s.trim().length===0)return Ut(e,"empty file"),null;if(e.type===7&&e.name==="settings_data")for(let c of i.sync.themes){let f=await ys("config/settings_data.json",c)}let o=Fu(e,s);if(o===null)return null;if(oe(o))return Ut(e,"empty file"),null;let a=i.processor.json.indent;i.mode.terse&&(e.type===14?i.terser.json.assets&&(a=0):e.type===8?i.terser.json.locales&&(a=0):e.type===1?i.terser.json.templates&&(a=0):e.type===15?i.terser.json.metafields&&(a=0):e.type===6?i.terser.json.metaobject&&(a=0):e.type===4?i.terser.json.groups&&(a=0):e.type===7&&i.terser.json.config&&(a=0));let u;if(Ve(r)){let c=r.apply({...e},o);me(c)?u=await Ns(e,o,a):B(c)||O(c)?u=await Ns(e,Fe(c),a):_(c)?u=await Ns(e,Fu(e,c),a):pt(c)&&(u=await Ns(e,Fu(e,c.toString()),a))}else u=await Ns(e,o,a);if(i.cache.checksum[e.input]=ir(u),i.processor.tailwind.map!==null&&e.type!==9){let c=await io(e,[[e,u]]);for(let f of c)await t("put",f[0],f[1]),Me(f[0].key)}else Me(e.key),await t("put",e,u);i.mode.hot&&await te.onIdle().then(()=>i.wss.replace())}}l();var co=require("fs-extra"),vu=V(require("esbuild")),Hr=require("pathe");async function Dm(e){e.watch.clear();let t=await vu.default.build(e.esbuild);i.mode.terse&&i.mode.build&&(e.size=rt(t.outputFiles[0].text)),i.mode.watch?await bm(e,t.metafile.inputs):(e.watch.has(e.input)||e.watch.add(e.input),i.watch.has(e.input)||i.watch.add(e.input))}async function bm(e,t){let r=[],{cwd:n,watch:s,mode:o}=i;for(let a in t){if(a.indexOf("/node_modules/")>-1)continue;let u=(0,Hr.join)(n,a);e.watch.has(u)||e.watch.add(u),s.has(u)||s.add(u),o.watch&&r.push(u)}o.watch&&await el().then(()=>{for(let a of e.watch)a.indexOf("/node_modules/")>-1||e.watchCustom!==null&&e.watchCustom(a)||w(a.slice(n.length+1),t)||(e.watch.delete(a),s.unwatch(a))})}function pD(e,t){return t.length>0?`<script ${t.join(" ")}>${e}</script>`:`<script>${e}</script>`}function mD(e){return Fn("Function",e)?function(t,r){let n=e.apply({...t},r);return n===!1?(Je("cancelled"),null):Fn("String",n)?(Je("augment"),n):pt(n)?(Je("augment"),n.toString()):r}:!1}async function lo(e,t,r){if(!e.data)return;i.mode.watch&&E.start(),i.mode.hot&&E.start(e.uuid);let n=mD(r),s=e.data.length;for(let o of e.data){let{key:a,input:u,output:c,snippet:f,attrs:p,esbuild:{format:d}}=o;try{let{metafile:b,outputFiles:D,warnings:h}=await vu.default.build(o.esbuild);s>1&&(ke(),Je((0,Hr.relative)(i.cwd,u))),i.mode.watch&&await bm(o,b.inputs),h.length>0&&void 0;for(let{text:F,path:j}of D)if(j.endsWith(".map")){let q=(0,Hr.join)(i.dirs.sourcemaps.scripts,`${e.base}.map`);(0,co.writeFile)(q,F).catch(je("Error writing JavaScript Source Map to cache",{file:(0,Hr.relative)(i.cwd,q),source:e.relative}))}else{if(i.mode.terse)if(isNaN(o.size))Ye(e.kind,`${g(d.toUpperCase())} bundle`),kt(Vt(F));else{let{before:Y,after:G,saved:Z}=Pt(F,o.size);Ye(`${g(d.toUpperCase())} bundle \u2192 ${g(Vt(F))}`),kt(null,Y,G,Z)}else Ye(`${g(d.toUpperCase())} bundle \u2192 ${g(Vt(F))}`);let q;if(f){if(q=pD(F,p),n&&(q=n(e,q),q===null))continue;await(0,co.writeFile)(c,q).catch(je("Error writing inline <script> snippet",{file:e.relative})),pf("script","snippet")}else{if(q=F,n&&(q=n(e,q),q===null))continue;await(0,co.writeFile)(c,q).catch(je("Error writing JavaScript asset",{file:e.relative}))}i.mode.hot?(Me(a,{hot:!0}),i.wss.script(e.uuid,(0,Hr.basename)(a)),await t("put",o,q)):i.mode.build||(Me(a),await t("put",o,q))}}catch(b){w("errors",b)&&(E.clear(),Se(e.relative,{notify:{title:"JavaScript Error",message:`Transform failed for ${e.base}`}}),i.errors.add(u),b.errors.forEach(Zl))}}s>1&&ke()}l();var wm=V(require("svgo")),xm=V(require("svg-sprite")),Yt=require("pathe"),qn=require("fs-extra");async function dD(e){let t=await(0,qn.readFile)(e);return[e,t.toString(),rt(t)]}function gD(e){return new Promise(function(t,r){e.compile((n,s)=>{if(n)return r(n);for(let o in s)for(let a in s[o])t(s[o][a].contents.toString())})})}function hD(e,t,r){async function n(s){let o=Q({},e);i.mode.watch&&E.start(),o.kind="Sprite",s.snippet?(o.namespace="snippets",o.key=(0,Yt.join)("snippets",Ss(o,s.rename)),o.output=(0,Yt.join)(i.dirs.output,o.key)):(o.key=(0,Yt.join)("assets",Ss(o,s.rename)),o.output=(0,Yt.join)(i.dirs.output,o.key));let a=s.sprite===!0?i.processor.sprite:s.sprite,u=new xm.default(a),c=await nr(Lr(s.input),dD).catch(je("Error reading an SVG file",{file:o.base,source:o.relative}));if(c){let f=c.filter(([D,h])=>Sm(h)?(Ut((0,Yt.relative)(i.cwd,D),"Liquid Detected"),!1):!0);o.size=0;for(let[D,h,F]of f)u.add(D,null,h),o.size=o.size+F;let p=await gD(u),d=f.length;Wt("SVG Sprite",`${d} ${St("SVG",d)}`,E.stop()),await(0,qn.writeFile)(o.output,p).catch(je("Error writing SVG Sprite",{file:o.key,caller:e.relative}));let b=Pt(p,o.size);b.isSmaller?Ye(`${o.kind} ${b.before}`,`gzip ${b.gzip}`):kt(o.kind,b.before,b.after,b.saved),t&&(Me(o.key),await t("put",o,p))}}return n}function Sm(e){return/^(?:{{[\s\S]+?}}|{%[\s\S]+?%})|[^"'](?:{{[\s\S]+?}}|{%[\s\S]+?%})[^'"]/m.test(e)}function yD(e){if(/<path[^>]*[a-zA-Z"'\s](>)(?!\s*<\/path>)/g.test(e)){let r=`${m(`<${C("path")}>`)}`,n=`${xe(`<${C("path")} />`)}`;return Ye("SVG",r,n,"patched solidus"),e.replace(/(<path[^>]*[a-zA-Z"'\s])(>)(?!\s*<\/path>)/g,"$1 /$2")}return e}function DD(e,t,r){let n=Q({},e);async function s(o){i.mode.watch&&E.start(),o.snippet?(n.namespace="snippets",n.key=(0,Yt.join)("snippets",Ss(n,o.rename)),n.output=(0,Yt.join)(i.dirs.output,n.key)):(n.key=(0,Yt.join)("assets",Ss(n,o.rename)),n.output=(0,Yt.join)(i.dirs.output,n.key));let a=o.svgo===!0?i.processor.svgo:o.svgo,c=(await(0,qn.readFile)(n.input)).toString();if(Sm(c))return Ut(n,"Liquid Detected"),null;let f=yD(c);n.size=rt(f);let p;try{p=wm.default.optimize(f,a)}catch(D){return Se(n.relative,{notify:{title:"Transform Error",message:`SVGO failed to optimize ${n.key}`}}),Nt(D,{source:n.relative,output:n.key,processor:"SVGO"}),null}Wt("SVGO",E.stop());let{data:d}=p,b=Pt(d,n.size);b.isSmaller?Ye(`${n.kind} ${b.before} \u2192 gzip ${b.gzip}`):kt(n.kind,b.before,b.after,b.saved),await(0,qn.writeFile)(n.output,d).catch(je("Error writing SVG",{file:n.key,caller:e.relative})),t&&(Me(n.key),await t("put",n,d))}return s}async function fo(e,t,r){i.mode.watch&&E.start();let n=hD(e,t,r),s=DD(e,t,r),o=e.data.length;for(let a=0;a<o;a++){let u=e.data[a];a>0&&i.mode.watch&&Ni(e),u.format==="sprite"?await n(u):u.format==="file"&&await s(u)}}l();var Do=require("pathe"),Er=require("fs-extra");var ku=V(require("zlib")),Pu=V(require("cbor")),Am=V(Em());var Kt=new Kr;function TD(e){let t=(0,Er.readFileSync)(e),r=ku.default.gunzipSync(t);return Pu.default.decode(r)}function Ur(e,t){return async()=>{let r=await Pu.default.encodeAsync(t,{omitUndefinedProperties:!0,canonical:!0}),n=ku.default.gzipSync(r);return n[9]=3,(0,Am.default)(e,n)}}async function Tm(e){i.cache.uri=Qr(null);let t=(0,Do.join)(i.cwd,"node_modules",".cache");(0,Er.existsSync)(t)||(0,Er.mkdirSync)(t);let r=(0,Do.join)(t,"syncify");(0,Er.existsSync)(r)||(0,Er.mkdirSync)(r);for(let n of hi)i.cache.uri[n]=(0,Do.join)(r,`${n}.bin`),(0,Er.existsSync)(i.cache.uri[n])?i.cache[n]=TD(i.cache.uri[n]):(i.cache[n]={},Kt.add(Ur(i.cache.uri[n],i.cache[n])));if(w("hotSnippet",i.cache.build)||(i.cache.build.hotSnippet=[]),e.cache)return BD()}function BD(e=null){if(e===null){for(let t of hi)Yr(i.cache[t])||(i.cache[t]={},Kt.add(Ur(i.cache.uri[t],i.cache[t])));return Kt.onIdle()}return i.cache[e]={},Kt.add(Ur(i.cache.uri[e],i.cache[e]))}function Bm(){return Kt.onIdle()}function Gn(e=null){if(e===null){for(let t of hi)Yr(i.cache[t])||Kt.add(Ur(i.cache.uri[t],i.cache[t]));return Kt.onIdle()}else return Kt.add(Ur(i.cache.uri[e],i.cache[e]))}function Lm(e,t=NaN){let r=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return isNaN(t)===!1?_t(`${r}.${t}`,i.cache.pages)?i.cache.pages[r][t]:(w(r,i.cache.pages)?i.cache.pages[r][t]={}:i.cache.pages[r]={[t]:{}},Kt.add(Ur(i.cache.uri.pages,i.cache.pages)),i.cache.pages[r][t]):(w(r,i.cache.pages)||(i.cache.pages[r]={},Kt.add(Ur(i.cache.uri.pages,i.cache.pages))),i.cache.pages[r])}function Ps(e,t){let r=e.endsWith(".myshopify.com")?e.slice(0,e.indexOf(".myshopify.com")).toLowerCase():e.toLowerCase();return w(r,i.cache.pages)?i.cache.pages[r][t.id]=t:i.cache.pages[r]={[t.id]:t},Kt.add(Ur(i.cache.uri.pages,i.cache.pages)),i.cache.pages[r][t.id]}function LD(){let e=L({stats:L({total:0,errors:0,skipped:0,bundled:0})});for(let t of["styles","scripts","svgs","sections","layouts","metaobject","templates","snippets","locales","configs","schema","pages","metafields","assets"])e[t]=L({group:t,time:"",size:0,files:[],report:null});return e}async function bo(e){E.start("build"),i.mode.export||(cf("Build"),ke());let t=U({type:"error"}),r=U().Newline(),n=new Set,s=LD(),o=oe(i.filters)===!1,a=Fs(i.paths,i.dirs.output),u=(0,Rm.default)(Lr(i.watch.values())),c=await(0,Nm.default)("**",{absolute:!0,cwd:i.dirs.input}),f=i.cache.paths;for(let b of c.filter(u)){let D=a(b);if(!me(D))switch(D.type){case 9:s.styles.files.push(D);break;case 10:s.scripts.files.push(D);break;case 4:s.sections.files.push(D);break;case 2:s.layouts.files.push(D);break;case 3:s.snippets.files.push(D);break;case 8:s.locales.files.push(D);break;case 7:s.configs.files.push(D);break;case 1:s.templates.files.push(D);break;case 16:s.pages.files.push(D);break;case 14:s.assets.files.push(D);break;case 15:s.metafields.files.push(D);break;case 11:for(let{uuid:h,format:F,input:j}of D.data)if(!n.has(h))if(n.add(h),F==="sprite")s.svgs.files.push(D);else for(let q of j)s.svgs.files.push(a(q));break}}function p(b,D){return E.start(b.group),async function(h){E.start(h.uuid),s.stats.total+=1;try{f[h.output]=h.input;let F=h.ext===".json"?await Cr(h,e):await D(h,e);return F===null||isNaN(h.size)?(s.stats.skipped+=1,L({name:h.base,input:h.relative,time:E.stop(h.uuid),output:h.key,error:"Skipped File"})):(s.stats.bundled+=1,L({name:h.base,input:h.relative,output:h.key,error:null,time:E.stop(h.uuid),size:Pt(F,h.size)}))}catch(F){return s.stats.errors+=1,t.Line(F.message),L({name:h.base,input:h.relative,output:h.key,time:E.stop(h.uuid),error:F.message})}}}async function d(b,D){let h=o&&w(b,i.filters)?i.filters[b]:null;if(h&&h.includes(b)===!1)return 0;let F=s[b];F.size=F.files.length,F.report=await nr(F.files,p(F,D),{stopOnError:!0}),F.time=E.stop(b);let j=F.report.length,q=g(j<10?` ${j}`:`${j}`);r.Line(N(b,`${q} ${St("file",j)} ${Te(F.time)}`))}if(await d("svgs",fo),await d("layouts",$r),await d("templates",$r),await d("sections",$r),await d("snippets",$r),await d("locales",Cr),await d("configs",Cr),await d("assets",Vi),await d("styles",oo),await d("scripts",lo),await Gn(),i.mode.export===!1&&i.mode.publish===!1){if(r.NL.Dash("Completed",m).NL.Line(N("version",`${i.vc.number}`)).Line(N("processed",`${g(`${s.stats.total}`)} files`)).Line(N("bundled",`${g(`${s.stats.bundled}`)} files`)).Line(N("skipped",`${g(`${s.stats.skipped}`)} files`)).Line(N("duration",E.now("build"))).Line(N("warnings",g(`${i.warnings.size}`))).Line(N("errors",g(`${s.stats.errors}`))),i.warnings.size>0){r.NL.Dash("Warnings",m).Newline();let b,D=0;for(let h of i.warnings.keys())for(let[F,j]of i.warnings.get(h)){b!==F?(D=1,b=F):(D=D+1,r.Ruler()),r.Warn(`${g("WARNING")} ${qc}${g(`${D}`)}`,ee).Newline("yellow").Warn(b,ee);for(let q of j)r.Insert(q)}A(r.NL.End(i.log.group).BR.toString(I))}else A(r.NL.End(i.log.group).BR.toString(I));process.exit(0)}}l();l();var xo=require("fs-extra"),So=V(require("gray-matter")),_s=V(require("prompts")),_m=V(require("markdown-it")),Fo=require("@syncify/turndown");l();function RD(e){return e==="boolean"||e==="color"||e==="date"||e==="date_time"||e==="dimension"||e==="json"||e==="money"||e==="multi_line_text_field"||e==="number_decimal"||e==="number_integer"||e==="rating"||e==="rich_text_field"||e==="single_line_text_field"||e==="url"||e==="volume"||e==="weight"}function km(e,t){for(let r of t)for(let n of["key","type","value","namespace","description"]){if(n!=="description"&&!_e(n,r))return cr(e.relative,[`Missing ${k.bold(n)} property key value in a ${ee.bold("metafields")}`,"value of page frontmatter. Frontmatter metafields require you provide the following keys:","",`${m("-")} ${C("key")}`,`${m("-")} ${C("type")}`,`${m("-")} ${C("value")}`,`${m("-")} ${C("namespace")}`,"",`${m("Update the metafield entry to include")} ${C(n)}`]),!1;if(n==="type"){let s=r[n];if(!RD(s))return cr(e.relative,[`Invalid type ${k.bold(s)} provided in a page frontmatter ${ee.bold("metafields")}`,`value. Frontmatter metafields ${g("must")} be one of following types:`,"",`${m("-")} ${C("boolean")}`,`${m("-")} ${C("color")}`,`${m("-")} ${C("date")}`,`${m("-")} ${C("date_time")}`,`${m("-")} ${C("dimension")}`,`${m("-")} ${C("json")}`,`${m("-")} ${C("money")}`,`${m("-")} ${C("multi_line_text_field")}`,`${m("-")} ${C("number_decimal")}`,`${m("-")} ${C("number_integer")}`,`${m("-")} ${C("rating")}`,`${m("-")} ${C("rich_text_field")}`,`${m("-")} ${C("single_line_text_field")}`,`${m("-")} ${C("url")}`,`${m("-")} ${C("volume")}`,`${m("-")} ${C("weigh")}`,"",`${m("Update the metafield entry to an accepted")} ${C("type")}`]),!1}}return!0}l();var Os=V(require("axios"));async function Pm(e){return Os.default.get("pages.json",e.client).then(({data:t})=>t.pages).catch(t=>tt(e.store,t.response))}async function Om(e,t){if(rr(_e("handle",t),_e("title",t))){console.log("invalid fields");return}return Os.default.get("pages.json",e.client).then(({data:r})=>_e("handle",t)&&_e("title",t)?r.pages.find(n=>t.title===n.title&&t.handle===n.handle):_e("handle",t)?r.pages.find(n=>t.handle===n.handle):_e("title",t)?r.pages.find(n=>t.title===n.title):void 0).catch(r=>{console.log(r)})}async function wo(e,t){i.mode.upload||E.start();let r=await Os.default.post("/pages.json",{page:t},e.client).then(({data:n})=>(Ea("page",e),n.page)).catch(n=>{Zr(n.response.status)?te.add(()=>wo(e,t)):_t("response.data",n.response)&&tt(t.title,n.response)});if(r)return Ps(e.domain,r),r}async function Ou(e,t,r){let{mode:n}=i;n.upload||E.start();let s=`pages/${r.id}.json`,o=await Os.default.put(s,{page:r},e.client).then(({data:a})=>(n.watch?Ea("page",e):n.upload&&bt.emit("upload","uploaded",r,{key:t.key,namespace:t.namespace,fileSize:Vt(r.body_html)}),a.page)).catch(a=>{Zr(a.response.status)?te.add(()=>Ou(e,t,r)):console.log(a)});if(o)return o}function kD(e){return new Fo.Turndown(i.page.import).use(Fo.GithubFlavor).turndown(e)}async function PD(e){let t=gs("No matching pages, select an option",{title:"No matching pages",message:"Open CLI and select an option"}),r=await(0,_s.default)({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:[{title:"Create Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Select Page",description:`Select a page to overwrite on ${e.domain}`,value:2},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}]});return{resume:t,action:r.action}}async function OD(e){let t=await Pm(e);if(!t)return;let r=t.map(s=>({title:s.title,description:`https://admin.shopify.com/store/${e.store.toLowerCase()}/pages/${s.id}`,value:s.id}));return r.push({title:tui.hr(20,!1),disabled:!0,selected:!1},{title:"Create New Page",description:`Create a new page on ${e.domain}`,value:1},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}),(await(0,_s.default)({type:"select",name:"action",message:"Choose Page",hint:" ",instructions:!1,choices:r})).action}async function _D(e){let t=[{title:"View Source",description:"Prints the page source in the CLI",value:5},{title:"Update Local",description:"Update the local source with remote version",value:3},{title:"Overwrite Remote",description:"Overwrite the remote version with local source",value:6},{title:"Cancel",description:"Cancel, and skip this sync operation",value:4}],r=gs("Remote version is newer than local version",{title:"Remote \u2192 Local",message:"Remote version has changed"}),n=await(0,_s.default)({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t});if(n.action===5){ke(""),A(e.body_html),ke("");let s=await(0,_s.default)({type:"select",name:"action",message:"Page Resources",hint:" ",instructions:!1,choices:t.slice(1)});return{resume:r,action:s.action}}else return{resume:r,action:n.action}}function ID(e,t){let r={};if(w("title",t)?r.title=`${t.title}`:r.title=Or(e.name.replace(/[._-]/g," ")),w("handle",t)){let n,s=t.handle;/^[./]{1,2}/.test(s)&&(n=s,s=s.replace(/^[./]{1,2}/,""),Qe(`handle ${Dr} ${n} ${M} ${s}`,"fixed start")),/^pages\//.test(s)&&(n=s,s=s.replace(/^pages\//,""),Qe(`handle ${Dr} ${n} ${M} ${s}`,"fixed sub-path")),/[_/]/.test(t.handle)&&(n=s,s=s.replace(/[_/]/g,"-"),Qe(`handle ${Dr} ${n} ${M} ${s}`,"fixed invalid characters")),r.handle=s}else w("title",t)?r.handle=tl(t.title):r.handle=e.name.toLowerCase();if(w("author",t)&&i.page.author!==""){let n,s=t.author;/\//.test(t.author)&&(n=t.author,s=n.replace(/\//g," "),Qe(`author ${Dr} ${n} ${M} ${s}`,"fixed invalid characters")),r.author=s}else t.author=i.page.author;return w("published",t)?he(t.published)?r.published=t.published:(Qe(`published ${Dr} expected boolean, got ${typeof t.published}`,"defaulted to false"),r.published=!1):r.published=!0,w("template_suffix",t)&&(w("template",t)?(Qe("duplicate template_suffix references","using template"),delete t.template_suffix):(t.template=t.template_suffix,delete t.template_suffix)),w("template",t)?r.template_suffix=t.template:i.page.suffixDir&&wr(i.page.global)&&i.page.global.test(e.input)!==!1&&(r.template_suffix=Ct(e.input)),w("metafield",t)&&(Qe("use metafields instead of metafield","sync will still process"),t.metafields=t.metafield,delete t.metafield),w("metafields",t)?O(t.metafields)&&(r.metafields=[t.metafields]):r.metafields=void 0,r}async function Im(e,t){if(i.sync.stores.length>1)return Ut(e,"pages do not support multistore sync"),null;let r=await(0,xo.readFile)(e.input);if(Yr(r.toString()))return i.mode.watch&&Ut(e,"empty file"),null;let n=(0,So.default)(r),{data:s,content:o}={...n},a=ID(e,s);if(B(a.metafields)&&!km(e,a.metafields))return null;e.kind==="Markdown"?(E.start(),a.body_html=(0,_m.default)(i.page.export).render(o),Ye(`${g("Markdown")} ${M} ${g("HTML")} ${X} ${E.stop()}`)):(Ye("HTML"),a.body_html=o);let u=i.sync.stores[0],c=u.store.toLowerCase(),f=await Om(u,{handle:a.handle});if(B(f))return cr(e.relative,[`Multiple pages returned when matching on handle ${k.bold(a.handle)}`,"Syncify is unsure of to handle this request and has cancelled the sync. Please","check the provided handle in your webshop."]),null;let p=Lm(c);if(O(f)&&(a.id=f.id,p=Ps(c,f)),me(f)&&i.page.safeSync){let b=await PD(u);if(b.action===2){let D=await OD(u);if(D===4)return b.resume();if(D===1)return b.resume(),Me(`/pages/${a.handle} ${M} ${a.title} ${m(`${X} ${e.relative}`)}`),wo(u,a);a.id=D,b.resume()}else return b.action===1?(b.resume(),Me(`/pages/${a.handle} ${M} ${a.title} ${m(`${X} ${e.relative}`)}`),wo(u,a)):b.resume()}if(i.page.safeSync&&O(f)){let b=new Date(f.updated_at).getTime(),D=new Date(p.updated_at).getTime();if(b>D&&f.body_html!==a.body_html){let h=await _D(f);if(h.action===3){h.resume();let F=f.body_html;if(i.page.language==="markdown"){let j=kD(F);Ye(`${e.name}.html ${M} ${e.base}`),F=(0,So.stringify)(`
`+j,n.data)}i.watch.unwatch(e.input),await(0,xo.writeFile)(e.input,F),Ps(u.domain,f),i.watch.add(e.input)}else{if(h.action===4)return h.resume();h.action===6&&h.resume()}}}if(i.mode.build)return a.body_html;Me(`/pages/${a.handle} ${M} ${a.title} ${m(`${X} ${e.relative}`)}`),await Ou(u,e,a)&&await Gn("pages")}function jm(e){let t=Mi(i.sync),r=Fs(i.paths,i.dirs.output);i.mode.hot&&i.wss.connected(),i.watch.on("all",n);function n(o,a){let u=r(a);if(!me(u)&&u.base!==i.file.base){if(u.type!==17&&Ni(u),o==="change"||o==="add")s(u);else if(o==="unlink")return u.type===16?t.pages("delete",u):t.assets("delete",u)}}async function s(o){try{switch(o.type){case 10:return lo(o,t.assets,e);case 16:return Im(o,e);case 11:return fo(o,t.assets,e);case 14:case 17:return Vi(o,t.assets,e);case 5:return dm(o,t.assets,e);case 9:return oo(o,t.assets,e);case 2:case 3:return $r(o,t.assets,e);case 4:return o.kind==="JSON"?Cr(o,t.assets,e):$r(o,t.assets,e);case 6:case 1:return o.kind==="JSON"?Cr(o,t.assets,e):$r(o,t.assets,e);case 7:case 8:return Cr(o,t.assets,e);case 15:return Cr(o,t.metafields,e)}}catch(a){console.error(a),Se(a)}}}l();l();var Wm=V(require("axios"));async function vo(e){return Wm.default.get("themes.json",e.client).then(({data:t})=>t.themes).catch(t=>tt(e.store,t.response))}var Is=require("enquirer");var Hn={pointer(e,t){let r=this.state.index===t?z("\u251C "):z("\u2502 ");return t===0?z("\u2502 ")+`
`+r:r},prefix:z("\u2502 "),styles:{primary:xe,success:xe,danger:re.bold,warning:ee,muted:m,disabled:m,typing:m},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}}};async function Mm(e){let t=0,n=(await vo(e)).filter(({role:D})=>D!=="demo"),s=Rt(n,"name"),o=n.map(D=>(D.name.length>t&&(t=D.name.length),{name:D.name,message:D.name,hint:`${s(D.name)} ${X} ${m(D.role)}`,value:D}));o.push({role:"separator",message:z("\u2500".repeat(t))},{name:"create",message:"Create Theme"},{name:"create",message:"Remove Theme"}),i.sync.stores.length>1&&o.push({role:"separator",message:z("\u2500".repeat(t))},{name:"store",message:"Select Stores",hint:`${s("Select Stores")} ${X} ${m("go back and choose store")}`});let{targets:a}=await(0,Is.prompt)({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:Hn,choices:o,result(D){return $n(this.map(D))},format(D){if(B(D)&&D.length>0)return ue(`${D.join(I(", "))}`)}}),u={domain:e.store.toLowerCase(),themes:{}},c=[];for(let D of a)u.themes["${"+D.name+"}"]=D.id,c.push({name:D.name,message:D.name,validate(h,F,j){if(j&&j.name===D.name){if(/[A-Z]/.test(h))return`
`+wt.redBright("  Target name must be lowercase");if(/[0-9]/.test(h))return`
`+wt.redBright("  Target name cannot contain numbers");if(/[ ]/.test(h))return`
`+wt.redBright("  Target name cannot contain spaces");if(/-/.test(h))return`
`+wt.redBright("  Target name cannot contain dashes")}return!0}});Hn.styles.primary=ue.italic,Hn.styles.typing=xe;let f=JSON.stringify(u,null,2),p=await(0,Is.prompt)({name:"stores",type:"snippet",required:a.map(({name:D})=>D),message:"Theme Targets",newline:`
`,format(){return this.state.submitted===!0&&this.state.completed!==100?xe(`${this.state.completed}% completed`):` ${M}  ${ot(`${this.state.completed}% completed`)}`},theme:Hn,fields:c,template:f}),d={syncify:JSON.parse(p.stores.result)},b=await(0,Is.prompt)({name:"save",type:"confirm",message:"Save Settings",theme:Hn,initial:!0,newline:`
`,format(){return/^[ty1]/i.test(this.input)?"Yes":"No"},footer:v.line+["",m("The following store and theme references will be saved"),m("to your package.json file on the syncify key property."),"",JSON.stringify(d.syncify,null,2).split(`
`).join(`
`+v.line),""].join(`
`+v.line)});console.log(b)}async function jD(){let e=Rt(i.sync.stores,"store"),t=i.sync.stores.map(n=>({name:n.domain,message:n.store,hint:`${e(n.store)} ${X} ${m(`https://${n.domain}`)}`,value:n})),{store:r}=await(0,Is.prompt)({name:"store",type:"select",message:"Select Stores",choices:t,theme:Hn,result(){return this.focused.value},format(n){return xe(n)}});return Mm(r)}async function qm(){return i.sync.stores.length>1?jD():Mm(i.sync.stores[0])}l();var $o=require("pathe");var _u=require("fs-extra");async function WD(){let e=new Map,t=0;for(let r of i.sync.themes){r.target.length>t&&(t=r.target.length);let n=i.sync.stores[r.sidx],s=`${r.store}:${r.target}`,{assets:o}=await La(r,n.client);e.has(s)||e.set(s,{active:e.size===0,log:null,number:e.size+1,size:o.length,transfers:0,warning:0,failed:0,success:0,retry:0,progress:ms(o.length),get files(){return o},get theme(){return r},errors:{local:new Map,remote:new Map,retry:new Set}})}return e}function MD(e,t,r){let n=`${g(`${e.success}`)} ${C("of")} ${g(`${e.size}`)}`,s=g(`${e.failed}`),o=g(`${e.theme.target.toUpperCase()}`);return U().Line(N(o,M),ue).NL.Line(`completed in ${m(r)}`).NL.Line(N("synced",n),I).Line(N("errors",s),e.failed>0?ie:I).Line(N("location",m.underline(t))).NL.Insert(e.progress.render()).Line.toString()}function qD(e){return U().Line(`${g(e.theme.target.toUpperCase())}  ${M}  ${e.theme.store}`,m.dim).NL.Line(`${g(pi(e.number))} in queue`,Xo).NL.Line(N("synced",`${g("0")} ${C("of")} ${g(`${e.size}`)}`),m.dim).Line(N("retry",g("0")),m.dim).Line(N("errors",g("0")),m.dim).NL.Insert(e.progress.render(m.dim)).NL.toString()}async function Gm(e){let t=0,r=0;E.start("import"),dt("Import"),jt("Preparing",{style:"spinning"});let n=await WD();await nt(500);function s(o){jt.stop();let{theme:a,file:u}=o,c=`${a.store}:${a.target}`,f=n.get(c),p=`https://${a.store}?preview_theme_id=${a.id}`,d=U().NL.Line(N("Duration",I(E.now("import"))),m).Line(N("Transfers",I(`${r++}`)),m).Line(N("Syncing",Gt(`${g(a.target)}  ${M}  ${a.store}`)),m).Line(N("Preview",sr(p)),m).Ruler(),b="";if(o.status===3)(0,_u.writeFileSync)(u.output,""),f.warning+=1,f.transfers+=1,f.progress.increment(1),b=ee(u.key);else if(o.status===0){f.errors.retry.has(u.output)&&(f.retry-=1,f.errors.retry.delete(u.output)),f.success+=1,f.transfers+=1,f.progress.increment(1);let Z=Buffer.from(o.data.value||null,"utf8");(0,_u.writeFileSync)(u.output,Z),b=xe(u.key)}else o.status===1?(f.errors.retry.has(u.output)||(f.retry+=1,f.errors.retry.add(u.output)),b=ot(u.key)):o.status===2&&(f.errors.retry.has(u.output)&&(f.retry-=1,f.errors.retry.delete(u.output)),f.errors.remote.has(u.output)||(f.failed+=1,f.transfers+=1,f.progress.increment(1),f.errors.remote.set(u.output,o)),b=ie(u.key));let D=`${g(`${f.success}`)} ${C("of")} ${g(`${f.size}`)}`,h=g(`${f.retry}`),F=g(`${f.failed}`),j=g(`${f.warning}`),q=U().NL.Line(`${g(f.theme.target.toUpperCase())}  ${M}  ${f.theme.store}`,ue).NL.Line(b).NL.Line(N("synced",D),I).Line(N("retry",h),f.retry>0?ot:I).Line(N("warning",j),f.warning>0?ee:I).Line(N("failed",F),f.failed>0?ie:I).NL.Insert(f.progress.render()).NL.Ruler(),Y=[d.toString()],G=0;for(let Z of n.values())Z.active?Y.push(q.toString()):Z.log===null?(G=G+1,Z.number=G,Y.push(qD(Z))):Y.push(Z.log);ye(ce(Y))}bt.on("import",s),t=n.size-1;for(let[o,a]of n){let[u,c]=o.split(":"),f=(0,$o.join)(i.dirs.import,u,c);E.start(o),a.active=!0;for(let{key:p}of a.files){let d=wf(p,f),b=Q({url:a.theme.url,method:"get",params:{"asset[key]":d.key}},i.sync.stores[a.theme.sidx].client);await te.add(()=>Ds(a.theme,d,b))}await te.onIdle(),t=t-1,a.active=!1,a.log=MD(n.get(o),(0,$o.relative)(i.cwd,f),E.stop(o))}for(let{errors:o}of n.values())o.remote.size>0}l();var Xt=require("fs-extra"),Dn=require("pathe"),ed=require("fast-glob"),td=V(require("adm-zip"));l();var gr=require("pathe");var Hm=require("fast-glob"),Iu=V(require("prompts"));async function zm(e){let t=await(0,Hm.glob)("templates/*",{cwd:e,absolute:!0}),r=new Set,n=new Set;for(let a of t){let{name:u}=(0,gr.parse)(a);t.filter(f=>(0,gr.parse)(f).name===u).length>1&&!n.has(u)&&n.add(u)}if(n.size===0)return 1;n.size>1?Je(`${g(`${n.size}`)} mismatch template files`,{suffix:"error",type:"error"}):Je(`${g(`${n.size}`)} mismatch template file`,{suffix:"error",type:"error"});let s=gs(`select ${g(".json")} or ${g(".liquid")} template`,{title:"Export Error",message:"Multiple templates detected"}),{action:o}=await(0,Iu.default)([{name:"action",type:"select",message:"Select an Option",hint:" ",instructions:!1,choices:[{title:"Select Templates",description:"Choose which templates to export",value:"select"},{title:"Export .json Templates",description:"Exports the .json templates",value:"json"},{title:"Export .liquid Templates",description:"Exports the .liquid templates",value:"liquid"},{title:"Cancel Export",value:"cancel"}]}]);if(o==="select"){let a=[];for(let u of n)a.push({name:"choice",type:"toggle",message:"templates",hint:" ",active:`${u}.json`,inactive:`${u}.liquid`,onState:({value:c})=>{c?r.add((0,gr.join)(e,"templates",`${u}.liquid`)):r.add((0,gr.join)(e,"templates",`${u}.json`))}});return await(0,Iu.default)(a).then(()=>s()),r}else if(o==="json"){for(let a of n)r.add((0,gr.join)(e,"templates",`${a}.json`));return s(),r}else if(o==="liquid"){for(let a of n)r.add((0,gr.join)(e,"templates",`${a}.liquid`));return s(),r}else o==="cancel"&&s();return 2}function Um(e){e.assets===0&&e.config===0&&e.templates===0&&e.layout===0&&e.snippets===0&&e.sections===0&&We("Empty output directory",[`There are no files within ${ue((0,gr.relative)(i.cwd,i.dirs.output)+"/**")}`,`You may need to run the ${ue.bold("syncify build")} command and try again.`])}l();var Wu=V(require("dotenv")),yt=require("pathe"),Bt=require("fs-extra");l();var ju=require("url"),Tt=require("fs-extra"),Ue=require("pathe"),Jm=require("esbuild");function Ym(e,t,r=(0,Ue.parse)(t).root){let n=t;for(;n!==r;){let s=(0,Ue.join)(n,e);if((0,Tt.existsSync)(s))return s;if((0,Ue.extname)(s)!==".json"){let o=s+".json";if((0,Tt.existsSync)(o))return o}n=(0,Ue.dirname)(n)}return null}function GD(e,t){return(0,Tt.existsSync)((0,Ue.join)(e,t))?(0,Ue.isAbsolute)(t)?(0,Tt.existsSync)(t)?t:null:Ym(t,e):null}function HD(e,t){return(0,Ue.isAbsolute)(t)?(0,Tt.existsSync)(t)?t:null:t.startsWith(".")?Ym(t,e):require.resolve(t,{paths:[e]})}function Km(e=process.cwd(),t="tsconfig.json",r=!1){e=(0,Ue.resolve)(e);let n=r?HD(e,t):GD(e,t);if(!n)return null;let s=fi((0,Tt.readFileSync)(n,"utf-8")),o=(0,Ue.dirname)(n);_e("baseURL",s.compilerOptions)&&(s.compilerOptions.baseUrl=(0,Ue.join)(o,s.compilerOptions.baseUrl));let a=[];if(s.extends){let u=B(s.extends)?s.extends:[s.extends],c={};for(let f of u){let p=Km(o,f,!0);p&&(Q(c,{...p?.data,compilerOptions:{...c.compilerOptions,...p?.data?.compilerOptions}}),a.push(...p.files))}Q(s,{...c,...s,compilerOptions:{...c.compilerOptions,...s.compilerOptions}})}return delete s.extends,{path:n,data:s,files:[...a,n]}}function zD(e,t){return Km(e,t)}function UD(e,t){return e.replace(yi,`.bundled_${Ht()}.${t==="esm"?"mjs":"cjs"}`)}function VD(e){if(typeof jest>"u")return"cjs";let t=(0,Ue.extname)(e);return t===".js"?i.pkg.type==="module"?"esm":"cjs":t===".ts"||t===".mjs"?"esm":"cjs"}function JD(e){return e===null?null:It(e||{}).map(t=>new RegExp(`^${t.replace(/\*/,".*")}$`))}function Vm(e,t){return t?t.some(r=>wr(r)?r.test(e):e===r||e.startsWith(r+"/")):!1}function YD({external:e,notExternal:t}={}){return{name:"bundle-require:external",setup({onResolve:r}){r({filter:/.*/},async n=>{if(!(n.path.charCodeAt(0)===46||(0,Ue.isAbsolute)(n.path))){if(Vm(n.path,e))return{external:!0};if(!Vm(n.path,t))return{external:!0}}})}}}function KD(){return{name:"bundle-require:inject-file-scope",setup(e){e.initialOptions.define={...e.initialOptions.define,__dirname:"__injected_dirname__",__filename:"__injected_filename__","import.meta.url":"__injected_import_meta_url__"},e.onLoad({filter:yi},async t=>{let r=await(0,Tt.readFile)(t.path,"utf-8"),n=[`const __injected_filename__ = ${JSON.stringify(t.path)};`,`const __injected_dirname__ = ${JSON.stringify((0,Ue.dirname)(t.path))};`,`const __injected_import_meta_url__ = ${JSON.stringify((0,ju.pathToFileURL)(t.path).href)};`];return{contents:ce(n)+r,loader:Zc((0,Ue.extname)(t.path))}})}}}async function Co(e){if(!yi.test(e.filepath))throw new Error(`${e.filepath} is not a valid JS file`);let t=e.preserveTemporaryFile??!!process.env.BUNDLE_REQUIRE_PRESERVE,r=e.cwd||i.cwd,n=e.format??VD(e.filepath),s=e.tsconfig===null?null:zD(r,e.tsconfig),o=JD(s?.data.compilerOptions?.paths||{});async function a(f){if(!f.outputFiles)throw new Error("[bundle-require] no output files");let{text:p}=f.outputFiles[0],d=e.getOutputFile||UD,b=(0,Ue.join)(i.dirs.cache,d(e.filepath,n));(0,Tt.writeFileSync)(b,p,"utf8");let D,h=e.require||Xc;try{D=await h(n==="esm"?(0,ju.pathToFileURL)(b).href:b,{format:n})}finally{t||await(0,Tt.unlink)(b)}return{mod:D,dependencies:f.metafile?It(f.metafile.inputs):[]}}let u=await(0,Jm.build)({...e.esbuildOptions,entryPoints:[e.filepath],absWorkingDir:r,outfile:"out.js",format:n,write:!1,platform:"node",sourcemap:"inline",bundle:!0,metafile:!0,plugins:[..._e("plugins",e.esbuildOptions)?e.esbuildOptions.plugins:[],YD({external:e.external,notExternal:o}),KD()]});return await a(u)}async function Xm(e){let t=null;for(let r of["syncify.config.js","syncify.config.mjs","syncify.config.cjs","syncify.config.ts","syncify.config.json"]){if(t=(0,yt.join)(e,r),await(0,Bt.pathExists)(t))break;t=null}if(t===null)return null;try{if((0,yt.extname)(t)===".json"){i.file.path=t,i.file.relative=(0,yt.relative)(e,t),i.file.base=(0,yt.basename)(t);let r=await(0,Bt.readFile)(t);return fi(r.toString())}else{i.file.path=t,i.file.relative=(0,yt.relative)(e,t),i.file.base=(0,yt.basename)(t);let r=await Co({cwd:e,filepath:t});return r.mod.syncify||r.mod.default||r.mod}}catch(r){console.log(r);let n=(0,yt.join)(e,"syncify.config.json");return await(0,Bt.pathExists)(n)?(0,Bt.readJson)(n):null}}async function Mu(e){let t=(0,yt.join)(e.cwd,"package.json");if(!await(0,Bt.pathExists)(t))throw new Error('Missing "package.json" file');try{i.pkg=await(0,Bt.readJson)(t),_t("syncify.stores",i.pkg)?B(i.pkg.syncify.stores)?i.stores=i.pkg.syncify.stores:O(i.pkg.syncify.stores)&&oe(i.pkg.syncify.stores)===!1&&(i.stores=[i.pkg.syncify.stores]):e.strap===null&&nf(e.cwd)}catch(n){throw new Error(n)}}async function Zm(e,t){let r=(0,yt.join)(i.cwd,"package.json");try{let s=(await(0,Bt.readFile)(r)).toString(),o=s.indexOf('"version"'),a=s.indexOf('"',o+10)+1,u=s.indexOf('"',a+1);return s.slice(a,u)===e?(await(0,Bt.writeFile)(r,`${s.slice(0,a)}${t}${s.slice(u)}`),await Mu(i.cli),!0):!1}catch(n){throw new Error(n)}}async function Qm(e){let t=(0,yt.join)(e.cwd,".env");if(await(0,Bt.pathExists)(t)){let r=Wu.default.config({path:t});if(r.error)return Nt(r.error,{path:t}),null;i.env.file=t,i.env.vars=r.parsed}else if(t=(0,yt.join)(e.cwd,"syncify.env"),await(0,Bt.pathExists)(t)){let r=Wu.default.config({path:t});if(r.error)return Nt(r.error.message,{path:t}),null;i.env.file=t,i.env.vars=r.parsed}else e.setup===!1&&e.strap===null&&Ai(e.cwd)}async function Eo(e){let{themeVersion:t}=i.cache.build;E.start("export"),i.mode.build?(dt("Build"),await bo(e)):Um(i.stats);let r=await zm(i.dirs.output);if(r===2)return;r===1&&i.mode.build&&E.stop("build"),i.mode.publish?ki("Exporting"):dt("Export"),ke(),await(0,Xt.pathExists)(i.dirs.export)||await(0,Xt.mkdir)(i.dirs.export);let n=new td.default;for(let o of on){let a=(0,Dn.join)(i.dirs.output,o);if(await(0,Xt.pathExists)(a)){let c=await(0,ed.glob)("*",{cwd:a,absolute:!0});for(let f of c){let p=`${o}/${(0,Dn.basename)(f)}`;(0,Xt.statSync)(f).size===0?(n.addFile(p,Cn(" ")),Qe(p,"empty file")):(r===1||r.has(f)===!1)&&n.addLocalFile(f,o)}}}let s=rt(n.toBuffer());if(i.vc.update!==null){await(0,Xt.pathExists)(i.vc.update.dir)||await(0,Xt.mkdir)(i.vc.update.dir),Oi(i.vc,"bump"),Ba(Vt(s),(0,Dn.relative)(i.cwd,i.vc.update.zip));try{await n.writeZipPromise(i.vc.update.zip),t=i.vc.update.number}catch(o){return Nt(o,{file:i.vc.zip,details:"Failed to write zip file"})}}else{await(0,Xt.pathExists)(i.vc.dir)?Oi(i.vc,"overwrite"):(await(0,Xt.mkdir)(i.vc.dir),Oi(i.vc,"created")),Ba(Vt(s),(0,Dn.relative)(i.cwd,i.vc.zip));try{await n.writeZipPromise(i.vc.zip)}catch(o){return Nt(o,{file:i.vc.zip,details:"Failed to write zip file"})}}i.pkg.version!==t&&(await Zm(i.pkg.version,t)?(Wt("package.json","version bumped"),i.cache.build.themeVersion=t,await Gn("build")):Qe("package.json version failed to bump","manual increment required")),E.stop("export"),i.mode.publish===!1&&(dt(),ke(""),process.exit(0))}l();var rd=V(require("http")),nd=V(require("serve-static")),sd=V(require("finalhandler")),qu=V(require("ngrok"));var id=V(require("prompts"));async function od(e){await Eo(e),E.start("publish"),ki("Publishing");let t=(0,nd.default)(i.vc.dir),r=rd.default.createServer((u,c)=>t(u,c,(0,sd.default)(u,c))),n=u=>{if(u.code==="EADDRINUSE")return Se("EADDRINUSE"),null},s=()=>{r.removeListener("error",n),r.removeListener("connect",s)};r.on("error",n),r.on("connect",s),r.listen(i.publish.tunnelPort),await nt(500),E.start("ngrok");let a=`${await qu.default.connect({addr:i.publish.tunnelPort,onStatusChange(u){u==="closed"?Je("disconnect",{prefix:"ngrok"}):Je(`${g("connected")} PORT${R}${i.publish.tunnelPort}`,{prefix:"ngrok",suffix:E.stop("ngrok")})}})}/${i.vc.number}.zip`;Je(m(a),{prefix:"server"});for(let u of i.sync.stores)E.start(u.domain),Je(u.domain,{prefix:"webshop",color:ue}),Je(`${g("role")} ${M} ${i.publish.publishRole}`,{prefix:"publish"}),Je(g(`v${i.vc.number}`),{prefix:"version",color:si}),ke(),await nt(1e3),jt("uploading",{style:"spinning",color:xe}),await nt(2e3),jt.update("dispatched"),await nt(2e3),jt.update("extracting"),await nt(2e3),jt.update("processing"),await nt(1e3),jt.stop("done"),Je(`${g("published")} ${M} ${u.domain}`,{prefix:"status",color:xe,suffix:E.now(u.domain)});r.close(),await qu.default.disconnect(),ke(),dt(),ke(),await(0,id.default)([{name:"action",hint:" ",type:"select",message:"Post-Publishing",choices:[{title:"Update Config",value:"config"},{title:"Publish Themes",value:"publish"},{title:"Delete Themes",value:"delete"}]}])}l();var cd=V(require("http")),ld=V(require("serve-static")),fd=V(require("finalhandler")),pd=V(require("fast-glob")),zn=require("fs-extra"),wn=require("pathe"),md=require("ws");l();var ad=!1,ud=!1,Gu=new Set;function Ao(e,t){if(!ad){ad=!0;for(let r of Gu)r();e&&process.exit(128+t)}}function To(e){return Gu.add(e),ud||(ud=!0,process.once("exit",Ao),process.once("SIGINT",Ao.bind(void 0,!0,2)),process.once("SIGTERM",Ao.bind(void 0,!0,15)),process.on("message",t=>{t==="shutdown"&&Ao(!0,-128)})),()=>Gu.delete(e)}var bn={enable:!0,output:[]};async function XD(){if(ye(ne(m("validating snippet injection"))),await $f()){ye(ne(m("validating layouts")));for(let t in i.hot.alive){if(!await(0,zn.pathExists)(t)){ye(ne(m("layout has not yet been bundled, building now...")));let n=pd.default.sync(i.config.paths.layout,{cwd:i.dirs.input,absolute:!0});for(let s of n)if((0,wn.basename)(s)===(0,wn.basename)(t)){let o=await(0,zn.readFile)(s);await(0,zn.writeFile)(t,o)}ye(ne(m("layout was bundled from source, injecting hot snippet")))}try{await Af(t)||(ye.clear(),Se("Failed to inject hot reload render tag",{notify:{title:"HOT Reloading Failed",message:"HOT Reloading is disabled"}}))}catch(n){console.log(n)}}ye.clear()}else ye.clear(),Se("Failed to upload snippet")}async function dd(){if(!bn.enable)return bn.output.push(v.red,v.red+ie("Change the socket port address or kill the session occupying it."),v.red+ie("This error typically occurs when multiple Syncify instances are active.")),Se(ie(`${g("ERROR")} on ${g(`${i.hot.method==="hot"?"HOT":"LIVE"} Reload:`)}`)),A(bn.output.join(`
`)),null;A(ne(g(`${i.hot.method==="hot"?"HOT Reload":"LIVE Reload"}${R}`))),ye(ne("configuring HOT Reload")),await XD();function e(c){c.setHeader("Access-Control-Allow-Origin","*"),c.setHeader("Cache-Control","public, max-age=0")}let t=(0,ld.default)((0,wn.join)(i.dirs.output,"assets"),{setHeaders:e}),r=cd.default.createServer((c,f)=>t(c,f,(0,fd.default)(c,f))),n=`http://localhost:${i.hot.server}`,s=c=>{if(c.code==="EADDRINUSE")return bn.output.push(v.red+ie(`${g("EADDRINUSE")} ${M} ${n}`),v.red,v.red+ie.bold(`Server Port ${i.hot.server} address already in use`),v.red,v.red+ie("Change the server port address or kill the session occupying it."),v.red+ie("This error typically occurs when multiple Syncify instances are active.")),ye.clear(),A(bn.output.join(`
`)),i.wss.http.close(),null},o=()=>{ye.done(),i.wss.connected(),r.removeListener("error",s),r.removeListener("connect",o)};r.on("error",s),r.on("connect",o),r.listen(i.hot.server);let a=`${m("PORT")}  ${M} ${Gt(`${i.hot.server}`)}`,u=`${m("PORT")}  ${M} ${Gt(`${i.hot.socket}`)}`;ye(ne(`${ue("server")}  ${M}  ${a}`)),A(ne(`${ue("socket")}  ${M}  ${u}`));for(let c in i.hot.alive)A(ne(`${ue("layout")}  ${M}  ${m((0,wn.relative)(i.cwd,c))}`));ke()}function gd(){if(i.mode.hot===!1)return;let e=new md.Server({port:i.hot.socket,path:"/ws",skipUTF8Validation:!0});To(()=>{e.emit("disconnect"),e.close()});let t=s=>{s.code==="EADDRINUSE"&&(e.close(),bn.enable=!1,bn.output.push(v.red+ie(`${g("EADDRINUSE")} ${M} ws://localhost:${i.hot.server}`),v.red,v.red+ie.bold(`Socket Port ${i.hot.server} address already in use`)))},r=()=>{e.removeAllListeners("script"),e.removeAllListeners("stylesheet"),e.removeAllListeners("section"),e.removeAllListeners("svg"),e.removeAllListeners("assets"),e.removeAllListeners("reload"),e.removeAllListeners("replace")},n=s=>{e.removeListener("error",t),e.prependListener("script",o=>s.send(`script,${o}`)),e.prependListener("stylesheet",o=>s.send(`stylesheet,${o}`)),e.prependListener("section",o=>s.send(`section,${o}`)),e.prependListener("svg",o=>s.send(`svg,${o}`)),e.prependListener("assets",()=>s.send("assets")),e.prependListener("reload",()=>s.send("reload")),e.prependListener("replace",()=>s.send("replace")),e.prependListener("connected",()=>s.send("connected")),e.prependListener("disconnect",()=>s.send("disconnect")),s.addEventListener("message",({data:o})=>Pi(o))};return e.on("close",r),e.on("error",t),e.on("connection",n),{get http(){return e},script:(s,o)=>e.emit("script",`${o},${s}`),stylesheet:(s,o)=>e.emit("stylesheet",`${o},${s}`),section:s=>e.emit("section",s),svg:s=>e.emit("svg",s),assets:()=>e.emit("assets"),reload:()=>e.emit("reload"),replace:()=>e.emit("replace"),connected:()=>e.emit("connected"),disconnect:()=>e.emit("disconnected")}}l();function hd(e){let t=e.toString().trim().toLowerCase();if(t==="v"){let r=It(i.errors);for(let n=0,s=r.length;n<s;n++){let o=r[n];if(i.errors[o].size!==0){n>0&&Ri(),Je(g.whiteBright(o));for(let a of i.errors[o].values())_(a)&&a.length>0&&be(a);i.errors[o].clear()}}i.mode.upload&&(dt(),process.exit(0))}else if(t==="s"){for(let r of i.errors)_(r)&&r.length>0&&be(r);i.errors.clear()}else if(t==="w"){let r=i.warnings[i.log.uri];for(let n of r.keys()){let s=r.get(n);if(s.size===0)continue;let o=U({type:"warning"}).Newline("yellow").Ruler().Newline("yellow").Line(n.toUpperCase(),g.yellow).Newline("yellow");for(let a of s.values())_(a)&&a.length>0&&o.Line(a);vn(o.toString()),s.clear()}}}l();function yd(e){A(jc);let t=z("-".repeat(80)),r=`
    ${g("SYNCIFY CLI  "+M+I("  v0.3.0-beta"))}

    ${I("Please provide a command argument.")}

    ${g("USAGE"+R)}

    $ syncify                    ${m.italic("Show this screen")}
    $ syncify {store} [theme]    ${m.italic("Store and theme targeting")}

    ${g("HELP"+R)}

    -h, --help                   ${m.italic("Print a list of all available commands")}
    -h, --help examples          ${m.italic("Print a list of command examples")}

  `;if(e.help===null)return A(r);let n=`
    ${g("SYNCIFY CLI  "+M+I("  v0.3.0-beta"))}

    Below are some usage examples for working with the Syncify CLI.
    The ${m("=")} character is optional and samples are using the ${m("$ sy")} alias.

    ${g("TARGETING"+R)}

    ${m("Target 1 store and 1 theme")}:
    $ sy your-store${m("=")}theme-1

    ${m("Target 1 store and 2 theme")}:
    $ sy your-store${m("=")}theme-1,some-theme,test-theme

    ${m("Target 2 stores and 1 theme")}:
    $ sy ---your-store${m("=")}theme-1 --another-store${m("=")}some-theme

    ${m("Target 2 stores and 4 theme")}:
    $ sy --your-store${m("=")}theme-1,theme-2 --another-store${m("=")}some-theme,test-theme

  ${t}

    ${g("BUILDING"+R)}

    ${m("Build theme from source")}:
    $ sy --build

    ${m("Build theme with terse minification")}:
    $ sy --build --terse

    ${m("Build theme and clean")}:
    $ sy --build --clean --terse

  ${t}

    ${g("WATCHING"+R)}

    ${m("Watch 1 store and 1 theme")}:
    $ sy your-store${m("=")}theme-1 --watch

    ${m("Watch 1 store and 2 themes with hot reloading")}:
    $ sy your-store${m("=")}theme-1,theme-2 --watch --hot

    ${m("Watch 2 stores and 1 theme")}:
    $ sy --your-store${m("=")}theme-1 --another-store${m("=")}some-theme --watch

    ${m("Watch 2 stores and 2 themes")}:
    $ sy --your-store${m("=")}theme-1,theme-2 --another-store${m("=")}some-theme,test-theme --watch

    ${m("Watch 1 store with 2 themes and clean mode with hot live reloads")}:
    $ sy your-store${m("=")}theme-1,theme-2 --watch --clean --hot

    ${m("Watch 1 store with 2 themes in production mode")}:
    $ sy your-store${m("=")}theme-1,theme-2 --prod --watch

  `,s=`
    ${g("SYNCIFY CLI  "+M+I("  v0.3.0-beta"))}

    Welcome to the Syncify CLI. The command line utility assumes that you have
    defined stores, themes and setup credentials within a ${m(".env")} file.

    ${g("ALIASES"+R)}

      $ sy                         ${m.italic("Shorthand for syncify")}

    ${g("COMMANDS"+R)}

      $ syncify                    ${m.italic("Show this screen")}
      $ syncify {store} [theme]    ${m.italic("Store and theme targeting")}

    ${g("THEMES"+R)}

        --{store} [theme]          ${m.italic("A store reference command (run examples)")}
      -t, --theme [theme]          ${m.italic("A comma seprated list of themes")}

    ${g("PATHS"+R)}

      -c, --config    <path>       ${m.italic("Set config directory path")}
      -i, --input     <path>       ${m.italic("Set input directory path")}
      -o, --output    <path>       ${m.italic("Set output directory path")}

    ${g("MODES"+R)}

      -w, --watch                  ${m.italic("Run watch mode")}
      -b, --build                  ${m.italic("Run build mode from input")}
      -u, --upload                 ${m.italic("Run upload mode theme to stores")}
      -d, --import                 ${m.italic("Run download mode from theme and stores")}
      -e, --export                 ${m.italic("Run export mode and generate theme zip")}
      -p, --publish                ${m.italic("Run publish and create a release")}
      -r, --resource               ${m.italic("Run resource mode, resource name expected")}

    ${g("RESOURCES"+R)}

      -r, --resource themes        ${m.italic("Run the themes resource")}
      -r, --resource assets        ${m.italic("Run the theme assets resource")}
      -r, --resource pages         ${m.italic("Run the pages resource")}
      -r, --resource metafields    ${m.italic("Run the metafields resource")}
      -r, --resource redirects     ${m.italic("Run the redirects resource")}
      -r, --resource files         ${m.italic("Run the files resource")}

    ${g("ENVIRONMENT"+R)}

      --dev                       ${m.italic("Build in development mode (default)")}
      --prod                      ${m.italic("Build in production mode")}
      --hot                       ${m.italic("Run watch with hot-reloads")}

    ${g("OPERATIONS"+R)}

      --clean                     ${m.italic("Clean the output, use with modes")}
      --silent                    ${m.italic("Silent logging, only errors will print")}
      --cache                     ${m.italic("Purges the local .cache references")}

    ${g("TRIGGERS"+R)}

      --spawn  [list]             ${m.italic("Invoke a defined spawn child process/s")}
      --delete [list]             ${m.italic("Delete a remote and local file")}
      --terse  [list]             ${m.italic("invoke minify mode, accepts resource/s")}

    ${g("TRANSFORMS"+R)}

      --script                    ${m.italic("Run the script transform in isolation")}
      --style                     ${m.italic("Run the style transform in isolation")}
      --svg                       ${m.italic("Run the svg transform in isolation")}
      --image                     ${m.italic("Run the image transform in isolation")}

    ${g("UTILITY"+R)}

      -f, --filter <path>         ${m.italic("Filter operation to be used with modes")}

    ${g("VERSIONING"+R)}

      --bump patch                ${m.italic("Apply a patch version bump, use in export mode")}
      --bump minor                ${m.italic("Apply a minor version bump, use in export mode")}
      --bump major                ${m.italic("Apply a major version bump, use in export mode")}

    ${g("STRAPS"+R)}

      --strap dusk                ${m.italic("Import and generate a dusk strap")}
      --strap dawn                ${m.italic("Import and generate a dawn strap")}
      --strap silk                ${m.italic("Import and generate a silk strap")}

    ${g("HELP"+R)}

      -h, --help                  ${m.italic("Print this screen")}
      -h, --help examples         ${m.italic("Print a list of command examples")}

    ${t}

    ${m("BY \u039D\u0399\u039A\u039F\u039B\u0391\u03A3 \u03A3\u0391\u0392\u0392\u0399\u0394\u0397\u03A3")}

    ${m.underline("https://github.com/panoply")}
    ${m.underline("https://x.com/niksavvidis")}

  `;A(e.help==="examples"?n:s)}l();var tg=require("chokidar");l();var et=require("fs-extra"),Vr=require("pathe");async function Dd(){let{dirs:e}=i;return await Bo(e.cache),await Bo(e.sourcemaps.root),Promise.all([Bo(e.sourcemaps.scripts),Bo(e.sourcemaps.styles)])}async function Hu(e){if(e||(e=i.dirs.output),await(0,et.pathExists)(e)){if(i.mode.clean)try{await(0,et.emptyDir)(e)}catch(r){console.error(r)}}else try{await(0,et.mkdir)(e)}catch(r){throw new Error(r)}for(let r of on){let n=(0,Vr.join)(e,r),s=await(0,et.pathExists)(n),o=r.startsWith("templates/")?r.slice(10):r;if(s)i.stats[o]=(0,et.readdirSync)(n).length;else try{await(0,et.mkdir)(n),i.stats[o]=0}catch(a){throw new Error(a)}}}function bd(e){let t=df(i.cwd);for(let[r,n]of al){let s;if(r==="cache"){i.dirs[r]=(0,Vr.join)(i.cwd,n,".syncify"),i.dirs.sourcemaps=Qr(null),i.dirs.sourcemaps.root=(0,Vr.join)(i.dirs[r],"sourcemaps"),i.dirs.sourcemaps.scripts=(0,Vr.join)(i.dirs.sourcemaps.root,"scripts"),i.dirs.sourcemaps.styles=(0,Vr.join)(i.dirs.sourcemaps.root,"styles");continue}if(r==="import"){i.mode.import?w("output",e)?i.dirs[r]=t(e.output):i.dirs[r]=t(i.config.import):i.dirs[r]=t(i.config.import);continue}else if(r==="export"){i.mode.export?w("output",e)?i.dirs[r]=t(e.output):i.dirs[r]=t(i.config.export):i.dirs[r]=t(i.config.export);continue}else if(w(r,e)&&e[r]===n)if(i.config[r]===n){i.dirs[r]=t(e[r]);continue}else s=i.config[r];else _(e[r])?s=e[r]:s=i.config[r];_(s)?i.dirs[r]=t(s):H({option:"config",name:r,provided:s,expects:"string"})}i.watch.add(i.file.path)}async function wd(){let{dirs:e,sync:t,mode:r}=i;if(!r.import)return;if(!await(0,et.pathExists)(e.import))try{await(0,et.mkdir)(e.import)}catch(s){throw new Error(s)}for(let s in t.themes){let{store:o,target:a}=t.themes[s],u=(0,Vr.join)(e.import,o);if(await(0,et.pathExists)(u)){if(r.clean)try{await(0,et.emptyDir)(u)}catch(f){console.error(f)}}else try{await(0,et.mkdir)(u)}catch(f){throw new Error(f)}await Hu((0,Vr.join)(u,a))}}async function Bo(e){if(B(e)){for(let t of e)if(!await(0,et.pathExists)(t))try{await(0,et.mkdir)(t)}catch(n){throw new Error(n)}}else if(!await(0,et.pathExists)(e))try{await(0,et.mkdir)(e)}catch(r){throw new Error(r)}}l();var xd=V(pn());function Sd(){if(!w("processors",i.config)||!w("json",i.config.processors))return;let{json:e}=i.config.processors;if(!pe(e)&&!(O(e)&&oe(e))){O(e)||H({option:"processors",name:"json",expects:"{}",provided:typeof e});for(let t in e){if(t==="indent")if(Ft(e[t])){i.processor.json[t]=e[t];continue}else H({option:"json",name:t,provided:e[t],expects:"number"});if(t==="useTab")if(he(e[t])){i.processor.json[t]=e[t];continue}else H({option:"json",name:t,provided:e[t],expects:"boolean"});if(t==="exclude"){let r=_(e[t])?[e[t]]:e[t];if(B(r)){i.processor.json[t]=(0,xd.default)(r);continue}else H({option:"json",name:t,provided:r[t],expects:"string | string[]"})}}}}l();function Fd(e){let t=Dt(e.pages,e.metafields,e.redirects),r=Dt(e.style,e.script,e.image,e.svg),n=Dt(t,e.upload,e.import)?!1:e.watch;if(i.mode=Q(i.mode,{watch:n,dev:!e.prod,prod:e.prod,setup:e.setup,strap:e.strap!==null,hot:Js(e.watch,e.hot),interactive:e.interactive,redirects:e.redirects,metafields:e.metafields,pages:e.pages,pull:e.pull,cache:Js(e.build,e.cache),force:e.force,views:e.views,script:r?e.script:!1,style:r?e.style:!1,image:r?e.image:!1,svg:r?e.svg:!1,terse:Dt(e.terse,e.prod),clean:Dt(t,r,e.upload)?!1:Js(e.export,e.build)||e.clean,build:Dt(e.watch,e.import)?!1:e.build,upload:Dt(r,n)?!1:e.upload,export:e.export,import:Dt(t,r,e.upload,e.watch,e.build)?!1:e.import,publish:e.publish,release:_(e.release),themes:e._[0]==="themes"}),i.mode.themes){e._=[];return}ZD(i.mode,e),i.mode.release&&(i.mode.clean=!0,i.mode.build=!0,i.mode.export=!0,i.mode.publish=!0),i.mode.build&&rr(i.mode.script,i.mode.style,i.mode.svg,i.mode.pages,i.mode.metafields,i.mode.image)&&(i.mode.script=!0,i.mode.style=!0,i.mode.svg=!0,i.mode.image=!0,i.mode.views=!0)}function ZD(e,t){if(t.cache&&t.build===!1&&ur({expected:"-b, --build",message:["Cache resets can only be executed along side build operations"],fix:[`Attempting to purge cache outside ${g("build")} mode Syncify requires you to pass`,"the build mode flags when executing a cache reset, for example:",`

`,`${I("$")} ${C(`syncify ${i.argv} ${k("-b --cache")}`)}`,`

`,`Run ${m("syncify --help")} for more information, or pass an execution`,`operation mode as per the ${I("expected")} value.`,`

`]}),$n(e).every(r=>r===!1)&&ur({expected:"--<cmd>",message:["Execution is unclear, you have not provided Syncify with a valid operation","mode to execute"],fix:["Syncify requires that you provide an operation. In most cases, this","error occurs when you have forgotten to pass the mode, for example:",`

`,`${I("$")} ${I(`syncify ${ci}${le("mode")}${li}`)}`,`

`,`Run ${k("syncify --help")} for more information`]}),e.export){let r=It(e);r.push("filter","delete","spawn","resource");for(let n of r)if(!(n==="build"||n==="clean"||n==="cache"||n==="export")&&e[n]){let s=r.filter(c=>c!=="build"&&c!=="clean"&&c!=="export");s.push("f\\b","u\\b","w\\b","s\\b","d\\b","r\\b");let o=s.map(c=>c==="filter"||c==="f"||c==="resource"||c==="-r"?`--?${c}.*?(?=(--?${s.join("|--?")}))`:`--?${c}`).join("|"),a=new RegExp(`(--?${s.join("|--?")})`,"g"),u=new RegExp(`(${o})`,"g");return ur({message:[`Bad command ${ai}argv${ui} sequence passed with ${k("export")} mode.`,"Theme exports are performed in isolation. You command includes","execution modes that cannot be run when exporting theme/s"],provided:i.argv.replace(a,re("$1")).replace(/(--export)/,k("$1")),expected:i.argv.replace(u,"").replace(/(--export)/,k("$1")),fix:[`Removed the flags marked ${re("red")} as shown in provided aboved.`]})}}}l();function vd(){if(!w("snippets",i.config.views))return;let{snippets:e}=i.config.views;if(!pe(e)&&!(O(e)&&oe(e))){O(e)||H({option:"views",name:"snippets",expects:"{}",provided:typeof e});for(let t in i.snippet){if(t==="prefixDir")if(he(e[t])){i.snippet[t]=e[t];continue}else H({option:"views.snippets",name:t,provided:e[t],expects:"boolean"});if(t==="separator")if(_(e[t]))if(/[.@:_-]/.test(e[t])){i.section[t]=e[t];continue}else Be({option:"views.snippets",name:t,value:e[t],expects:"@ | _ | : | - | ."});else H({option:"views.snippets",name:t,provided:e[t],expects:"string"});if(t==="global"){let r=_(e[t])?[e[t]]:e[t];if(B(r)){if(r.length>0){i.snippet[t]=new RegExp(`${r.join("|")}`);continue}}else H({option:"views.snippets",name:t,provided:e[t],expects:"string | string[]"})}}}}l();var Zt=require("pathe"),zu=require("fs-extra");async function $d(){if(!w("sections",i.config.views))return;let{sections:e}=i.config.views;if(!pe(i.config.views.sections)&&!(O(e)&&oe(e))){O(e)||H({option:"views",name:"sections",expects:"{}",provided:typeof e});for(let t in i.section){if(t==="prefixDir")if(he(e[t])){i.section[t]=e[t];continue}else H({option:"views.sections",name:t,provided:e[t],expects:"boolean"});if(t==="separator")if(_(e[t]))if(/[@:_-]/.test(e[t])){i.section[t]=e[t];continue}else Be({option:"view.sections",name:t,value:e[t],expects:"@ | _ | : | -"});else H({option:"views.sections",name:t,provided:e[t],expects:"string"});if(t==="global"){let r=_(e[t])?[e[t]]:e[t];if(B(r)){if(r.length>0){i.section[t]=new RegExp(`${r.join("|")}`);continue}}else H({option:"views.sections",name:t,provided:e[t],expects:"string | string[]"})}t==="shared"&&i.paths.schema.input!==null&&i.paths.schema.input.size>0&&(await QD(),await e1(),st(i.section,"schema",{get(){return i.cache.schema}}))}}}async function QD(){for(let e of i.paths.schema.input){let t=(0,Zt.extname)(e),r=(0,Zt.basename)(e,t);i.section.shared.has(r)&&We(`Duplicated shared schema file name ${g.yellow(r+t)} detected.`,["Shared Schema JSON file names must be unique across the workspace.","Update the file name and try again."]);try{let s=(await(0,zu.readFile)(e)).toString();if(s.trim().length===0)continue;let o=Gr(s.toString());w("$schema",o)&&delete o.$schema,w("$description",o)&&delete o.$description;for(let a in o)if(O(o[a]))w("$description",o[a])&&delete o[a].$description;else if(B(o[a]))for(let u of o[a])w("$description",u)&&delete u.$description;i.cache.schema[e]=new Set,i.section.shared.set(r,{uri:e,schema:o})}catch(n){return Se((0,Zt.relative)(i.cwd,e),{notify:{title:"JSON Error (setSharedSchema)",message:`Error when parsing ${(0,Zt.basename)(e)}`}}),n instanceof mr&&fn(n,{relative:(0,Zt.relative)(i.cwd,e),base:(0,Zt.basename)(e)}),null}}}async function e1(){let{shared:e}=i.section,t=vt("Section Schema");for(let r of i.paths.sections.input){let n=await(0,zu.readFile)(r),s=ir(n);if(w(r,i.cache.schema)&&i.cache.checksum[r]===s)continue;i.cache.checksum[r]=s;let o=n.toString(),a=o.search(/{%-?\s*schema/);if(a<0)continue;let u=o.indexOf("%}",a+2)+2,c=o.slice(u),f=u+c.search(/{%-?\s*endschema/);if(f<0){t("Liquid Parse Error",(0,Zt.relative)(i.cwd,r));continue}try{let p=JSON.parse(o.slice(u,f)),d=Ae(p);if(d("settings")){for(let b of p.settings)if(w("$ref",b)){let D=b.$ref.split(".")[0];e.has(D)&&i.cache.schema[e.get(D).uri].add(r)}}if(d("blocks"))for(let b of p.blocks){let D=Ae(b);if(D("$ref")){let h=b.$ref.split(".")[0];e.has(h)&&i.cache.schema[e.get(h).uri].add(r)}if(D("settings")){for(let h of b.settings)if(w("$ref",h)){let F=h.$ref.split(".")[0];e.has(F)&&i.cache.schema[e.get(F).uri].add(r)}}}}catch{w(r,i.cache.sections)&&delete i.cache.sections[r],t("JSON Parse Error",(0,Zt.relative)(i.cwd,r))}}}l();l();var hr=require("pathe"),Uu=V(require("fast-glob")),Vu=V(pn()),Cd=require("fs-extra");function Ed(){let e=[],t=new Set;for(let r in i.env.vars){let n=r.toLowerCase();if(n.endsWith("_api_token"))e.push({domain:`${n.slice(0,n.indexOf("_api_token"))}`,themes:{}});else if(n.endsWith("_api_key")){let s=`${n.slice(0,n.indexOf("_api_key"))}`;t.has(s)||(e.push({domain:s,themes:{}}),t.add(s))}else if(n.endsWith("_api_secret")){let s=`${n.slice(0,n.indexOf("_api_secret"))}`;t.has(s)||(e.push({domain:s,themes:{}}),t.add(s))}}if(e.length>0)return e;Ai(i.cwd)}function Ad(e){let t=e+"_api_token";if(w(t,i.env.vars)||(t=t.toUpperCase()),w(t,i.env.vars))return{baseURL:`https://${e}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":i.env.vars[t]}};let r=e+"_api_key",n=e+"_api_secret";if(w(r,i.env.vars)||(r=r.toUpperCase()),w(n,i.env.vars)||(n=n.toUpperCase()),w(r,i.env.vars)&&w(n,i.env.vars))return{baseURL:`https://${e}.myshopify.com/admin`,auth:{username:i.env.vars[r],password:i.env.vars[n]}};We(`Invalid or missing ${le(e+".myshopify.com")} credentials`,[`Your shop credentials in the ${le.bold((0,hr.basename)(i.env.file))} file could`,"not be read correctly or are missing. Please check your environment file and ensure","you have provided authorization."])}function Qt(e,t){let{cwd:r}=i,n=Ve(t)?[]:!1,s=vt("Path Resolver"),o=Nn(i.dirs.input,i.cwd);if(B(e)){let a=[];for(let u of e){let c=o(u),f=Uu.default.sync(c,{cwd:r,absolute:!0});if(n){let p=t(c);_(p)?n.push(p):B(p)&&n.push(...p)}f.length===0?s("No files can be resolved in",u):a.push(...f)}return n===!1?a:{paths:a,match:(0,Vu.default)(n)}}if(_(e)){let a=o(e),u=Uu.default.sync(a,{cwd:r});if(u.length===0&&s("No files can be resolved in",e),n){let c=t(a);_(c)?n.push(c):B(c)&&n.push(...c)}return n===!1?u:{paths:u,match:(0,Vu.default)(n)}}H({option:"uri",name:"uri/path",provided:e,expects:"string | string[]"})}function Un(e,t){if(w("assertSnippet",t)||(t.assertSnippet=!0),_(e)){let{paths:r,match:n}=Qt(e,s=>(t.addWatch&&i.watch.add(s),qr(s)));if(r)return t.flatten?r.map(s=>t.assertSnippet?{input:s,rename:(0,hr.basename)(s),snippet:!1}:{input:s,rename:(0,hr.basename)(s)}):t.assertSnippet?{input:r,rename:"[name].[ext]",snippet:!1,match:n}:{input:r,rename:"[name].[ext]",match:n}}else if(B(e)){if(e.every(_)){let{paths:r,match:n}=Qt(e,s=>(t.addWatch&&i.watch.add(s),qr(s)));return t.flatten?r.map(s=>t.assertSnippet?{input:s,rename:(0,hr.basename)(s),snippet:!1}:{input:s,rename:(0,hr.basename)(s)}):t.assertSnippet?{input:r,rename:"[name].[ext]",snippet:!1,match:n}:{input:r,rename:"[name].[ext]",match:n}}else if(e.every(O))return e.map(r=>{w("input",r)||Be({option:"tranform",name:"input",value:r,expects:"{ input: string | string[] }"});let{paths:n,match:s}=Qt(r.input,o=>(t.addWatch&&i.watch.add(o),qr(o)));return r.match=s,r.input=n[0],t.assertSnippet&&!w("snippet",r)&&(r.snippet=!1),w("rename",r)||(r.rename=r.snippet?"[name].liquid":"[name].[ext]"),r})}else if(O(e)){let r=[];if(w("input",e)){let n=Re(e),{paths:s,match:o}=Qt(n.input,a=>(t.addWatch&&i.watch.add(a),qr(a)));if(t.assertSnippet&&!w("snippet",n)&&(n.snippet=!1),w("rename",n)||(n.rename=n.snippet?"[name].liquid":"[name].[ext]"),t.flatten)for(let a of s)r.push(Q(n,{input:a}));else n.input=s,n.match=o,r.push(n)}else for(let n in e){let s={snippet:n.startsWith("snippets/")},o=n.startsWith("assets/"),a=e[n],u=o||s.snippet;if(_(a)){u&&(s.rename=o?n.slice(7):n.slice(9));let{paths:c,match:f}=Qt(a,p=>(t.addWatch&&i.watch.add(p),qr(p)));if(c)if(t.flatten)for(let p of c)r.push(Q({},s,{input:p}));else r.push(Q({},s,{input:c,match:f}))}else if(O(a)){w("input",a)||Be({option:"tranform",name:n,value:a,expects:"{ input: string | string[] }"});let{paths:c,match:f}=Qt(a.input,p=>(t.addWatch&&i.watch.add(p),qr(p)));if(c){let p=u?Q({},a,s,{rename:o?n.slice(7):n.slice(9)}):Q({},s,a);if(t.flatten)for(let d of c)r.push(Q({},p,{input:d}));else r.push(Q(p,{input:c,match:f}))}}else if(B(a))if(a.every(_)){let{paths:c,match:f}=Qt(a,p=>(t.addWatch&&i.watch.add(p),qr(p)));if(r1(n)&&(s.rename=(0,hr.basename)(n)),c)if(t.flatten)for(let p of c)r.push(Q({},s,{input:p}));else r.push(Q({},s,{input:c,match:f}))}else H({option:"transform",name:n,provided:a,expects:"string[]"})}return r}}function Ju(e,t){return!!(w("devDependencies",e)&&w(t,e.devDependencies)||w("dependencies",e)&&w(t,e.dependencies)||w("peerDependencies",e)&&w(t,e.peerDependencies)||w("optionalDependencies",e)&&w(t,e.peerDependencies))}async function t1(e){for(let t of ul){let r=`${e}.${t}`;if(await(0,Cd.pathExists)(r))return r}return null}async function Yu(e,t){try{let r=await t1(e);if(r!==null){let n=await Co({cwd:i.cwd,filepath:r,...t||{}});return{path:r,config:n.mod.syncify||n.mod.default||n.mod}}return null}catch{return null}}function r1(e){return/\[(?:file|dir|ext)\]/.test(e)}function js(e,t){let r=t,n=Ct(e),s=(0,hr.extname)(e),o=(0,hr.basename)(e,s);return me(t)?{dir:n,ext:s,file:o,name:o}:(/(\[dir\])/.test(r)&&(r=r.replace("[dir]",n)),/(\[file\])/.test(r)&&(r=r.replace("[file]",o)),/(\.?\[ext\])/.test(r)&&(r=r.replace(/\.?\[ext\]/,s)),{ext:s,file:o,dir:n,name:t.replace(t,r)})}l();var Lo=require("enquirer");var Ws={prefix:z("\u2502 "),styles:{primary:xe,success:xe,danger:re.bold,warning:ee,muted:m,disabled:m,typing:m},symbols:{ellipsisLarge:"",ellipsisSmall:"",prefix:{pending:"",submitted:"\u2713",cancelled:"\u{10102}"},separator:{pending:"",submitted:" \u2192 ",cancelled:" \u{10102} "}},pointer(e,t){let r=this.state.index===t?v.stub.trimEnd()+" ":v.trim+" ";return t===0?v.trim+`
`+r:r}};async function Td(e){let t=0,r={...Ws},s=(await vo(e)).filter(({role:h})=>h!=="demo"),o=Rt(s,"name"),a=s.map(h=>(h.name.length>t&&(t=h.name.length),{name:h.name,message:h.name,hint:`${o(h.name)} ${X} ${m(h.role)}`,value:h}));a.push({role:"separator",message:z("\u2500".repeat(t))},{name:"create",message:"Create Theme",value:"create"});let{targets:u}=await(0,Lo.prompt)({name:"targets",type:"select",multiple:!0,message:"Select Themes",hint:"Press spacebar to select",theme:r,choices:a,result(h){return $n(this.map(h))},format(h){if(B(h)&&h.length>0)return ue(`${h.join(I(", "))}`)}}),c={domain:e.store.toLowerCase(),themes:{}},f=[];for(let h of u)c.themes["${"+h.name+"}"]=h.id,f.push({name:h.name,message:h.name,validate(F,j,q){if(q&&q.name===h.name){if(/[A-Z]/.test(F))return`
`+wt.redBright("  Target name must be lowercase");if(/[0-9]/.test(F))return`
`+wt.redBright("  Target name cannot contain numbers");if(/[ ]/.test(F))return`
`+wt.redBright("  Target name cannot contain spaces");if(/-/.test(F))return`
`+wt.redBright("  Target name cannot contain dashes")}return!0}});r.styles.primary=ue.italic,r.styles.typing=xe;let p=JSON.stringify(c,null,2),d=await(0,Lo.prompt)({name:"stores",type:"snippet",required:u.map(({name:h})=>h),message:"Theme Targets",newline:`
`,theme:r,fields:f,template:p,format(){return this.state.submitted===!0&&this.state.completed!==100?xe(`${this.state.completed}% completed`):` ${M}  ${ot(`${this.state.completed}% completed`)}`}}),b={syncify:JSON.parse(d.stores.result)},D=await(0,Lo.prompt)({name:"save",type:"confirm",message:"Save Settings",theme:r,initial:!0,newline:`
`,format(){return/^[ty1]/i.test(this.input)?"Yes":"No"},footer:v.line+["",m("The following store and theme references will be saved"),m("to your package.json file on the syncify key property."),"",JSON.stringify(b.syncify,null,2).split(`
`).join(`
`+v.line),""].join(`
`+v.line)});console.log(D)}async function Bd(e){let t=Dt(i.mode.metafields,i.mode.pages,i.mode.redirects,i.mode.release,i.mode.publish,i.mode.themes),r=Dt(i.mode.watch,i.mode.upload,i.mode.import),n,s=[],o=!1;e._.length===0&&t&&ur({expected:"syncify <store>",message:["You have not provided store to target, which is required","when running in a resource mode that syncs to a remote source"],fix:["Provide the store target name as the first command argument","followed by themes target/s and other flags."]}),i.mode.themes&&i.stores.length>0?s=Ed():(n=e._.length===0?i.stores.map(({domain:a})=>a):e._[0].split(","),s=i.stores.filter(({domain:a})=>Io(a,n)),o=s.length>1);for(let a of s){let u=`${a.domain}.myshopify.com`.toLowerCase(),c=Ad(a.domain),f=i.sync.stores.push({store:a.domain,domain:u,client:c,queue:o})-1;if(i.mode.themes)continue;if(i.mode.metafields||i.mode.pages)return;let p=[];w("theme",e)?p=e.theme.split(","):w(a.domain,e)?p=e[a.domain].split(","):w("themes",a)&&(p=It(a.themes)),p.length===0&&await Td(i.sync.stores[f]);for(let d of p)w(d,a.themes)||tf({type:"theme",expected:It(a.themes).join(","),provided:d,message:[`Unknown theme target (${k(d)}) provided to ${k(a.domain)} store`,`Your ${k(i.file.base)} file contains no such theme using this name.`],fix:[`Provide an ${k("expected")} theme target or update/add an existing target.`,`You have ${k(`${p.length}`)} theme targets defined for ${k(a.domain)}:`,`

`,`${br} ${p.join(`
${br} `)}`,`

`]}),i.sync.themes.push({target:d,sidx:f,store:u,id:a.themes[d],url:`/themes/${a.themes[d]}/assets.json`})}if(t&&i.sync.stores.length===0)return ur({expected:"syncify <store>",message:["You have not provided store to target, which is required","when running in a resource mode that syncs to a remote source"],fix:["Provide the store target name as the first command argument followed by themes","target/s and other flags. Based on your current configuration:",`

`,`${br} ${C("$")} syncify ${i.stores.join(`
${br} ${C("$")} syncify `)}`,`

`]});if(i.sync.themes.length===0&&r)return ur({expected:"-t <theme>",message:["You have not provided a theme to target, which is required","when running this resource mode."],fix:[`Provide a theme name to target following a ${k("-t")} or ${k("--theme")} flag.`,"Theme targets should be passed as the 2nd argument, the 1st argument should be store name/s."]});i.sync.stores.length===0&&We("Unknown, missing or invalid store/theme targets",["Check your store config"]),i.sync.stores.length===1&&i.sync.themes.length===1?i.env.sync=1:(i.sync.stores.length>1||i.sync.themes.length>1)&&(i.env.sync=2)}l();var Ld=V(require("fast-glob")),Rd=V(pn()),xn=require("pathe");async function Nd(){let e=Nn(i.dirs.input),t=Ae(i.config.paths);for(let r of sn){let n;if(r==="customers")n=t(r)?B(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])]:[e("templates/customers/*")];else if(r==="metaobject")n=t(r)?B(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])]:[e("templates/metaobject/*")];else if(r==="schema")n=t(r)?B(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])]:[e("schema/*")];else if(t(r))if(n=B(i.config.paths[r])?i.config.paths[r].map(e):[e(i.config.paths[r])],r==="snippets")for(let s of n)i.snippet.baseDir.add(Ct((0,xn.dirname)(s)));else if(r==="sections")for(let s of n)i.section.baseDir.add(Ct((0,xn.dirname)(s)));else r==="assets"&&n.push((0,xn.join)(i.dirs.output,"assets/*"));else r==="redirects"&&t(r)?n=[(0,xn.join)(i.cwd,i.config.paths[r])]:n=[e(r)];for(let s of n){if(r!=="metafields"&&r!=="redirects"){let o=await(0,Ld.default)(s,{cwd:i.cwd});if(o.length===0){if(r==="assets"&&s===(0,xn.join)(i.dirs.output,"assets/*"))continue}else{if(i.paths[r].input===null)i.paths[r].input=new Set(o);else for(let a of o)i.paths[r].input.add(a);i.watch.add(s)}}i.paths[r].match=(0,Rd.default)(n)}}}l();var Ar=require("pathe");function Ku(e){let t=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{1,2})$/);if(!t)throw new Error("Unable to parse: "+e);return{patch:parseInt(t[3],10),minor:parseInt(t[2],10),major:parseInt(t[1],10)}}function kd(e){if(w("syncifyVersion",i.cache.build)||(i.cache.build.syncifyVersion=i.version),w("themeVersion",i.cache.build)||(i.cache.build.themeVersion=i.pkg.version),i.cache.build.themeVersion!==i.pkg.number){i.vc.update=Ku(i.pkg.version),i.vc.update.number=i.pkg.version,i.vc.update.dir=(0,Ar.join)(i.dirs.export,`v${i.vc.major}`),i.vc.update.zip=(0,Ar.join)(i.vc.update.dir,`${i.vc.number}.zip`);let{patch:t,minor:r,major:n}=Ku(i.cache.build.themeVersion);i.vc.number=i.cache.build.themeVersion,i.vc.patch=t,i.vc.minor=r,i.vc.major=n,i.vc.dir=(0,Ar.join)(i.dirs.export,`v${i.vc.major}`),i.vc.zip=(0,Ar.join)(i.vc.dir,`${i.vc.number}.zip`)}else{let{patch:t,minor:r,major:n}=Ku(i.pkg.version);i.vc.number=i.pkg.version,i.vc.patch=t,i.vc.minor=r,i.vc.major=n,i.vc.dir=(0,Ar.join)(i.dirs.export,`v${i.vc.major}`),i.vc.zip=(0,Ar.join)(i.vc.dir,`${i.vc.number}.zip`)}e.release!==null&&(i.vc.update=L(i.vc),e.release==="patch"?(i.vc.update.patch=i.vc.patch+1,i.vc.update.bump="patch"):e.release==="minor"?(i.vc.update.minor=i.vc.minor+1,i.vc.update.bump="minor"):e.release==="major"&&(i.vc.update.major=i.vc.major+1,i.vc.update.bump="major",i.vc.update.dir=(0,Ar.join)(i.dirs.export,`v${i.vc.update.major}`)),i.vc.update.number=`${i.vc.update.major}.${i.vc.update.minor}.${i.vc.update.patch}`,i.vc.update.zip=(0,Ar.join)(i.vc.update.dir,`${i.vc.update.number}.zip`))}l();var qd=V(Wd());l();var Md=require("cross-spawn");function Zu(e,t,r){let n=(0,Md.spawn)(t.cmd,t.args,{stdio:"pipe"});t.pid=n.pid,async function s(){if(i.env.ready===!1)return await nt(100),s();n.stdio[0].on("data",r.bind({name:e,type:"stdin"})),n.stdio[0].on("data",r.bind({name:e,type:"stdout"})),n.stdio[2].on("data",r.bind({name:e,type:"stderr"})),i.spawn.streams.set(e,n)}()}function Gd(){let{mode:e,spawn:t,config:r}=i;if(!w("spawn",r)||pe(r.spawn))return;O(r.spawn)||H({option:"config",name:"spawn",provided:r.spawn,expects:"{ build: {}, watch: {} }"});let n=Ae(r.spawn),s=null;if(e.build&&n("build")&&(s="build"),e.watch&&n("watch")&&(s="watch"),!(pe(e)||pe(r.spawn[s]))&&(O(r.spawn[s])||H({option:"spawn",name:s,provided:r.spawn[s],expects:"{ build: {}, watch: {} }"}),!oe(r.spawn[s]))){for(let o in r.spawn[s]){let a=r.spawn[s][o];if(_(a)){i.spawn.commands[o]=L();let u=a.trimStart().indexOf(" ")>-1?a.trimStart().split(" "):[a];i.spawn.commands[o].cmd=u.shift().trim(),i.spawn.commands[o].args=u,i.spawn.commands[o].pid=NaN,Zu(o,i.spawn.commands[o],Aa(o))}else if(B(a)){let u=a.shift().trim();i.spawn.commands[o]=L({cmd:u,args:a,pid:NaN}),Zu(o,i.spawn.commands[o],Aa(o))}else H({option:"spawn",name:s,provided:r.spawn[s],expects:"string | string[]"})}$t.spawns(i),To(()=>{te.pause(),te.clear(),ke(""),t.streams.forEach((o,a)=>{A(`- ${m(`pid: #${o.pid} (${a}) process exited`)}`),(0,qd.default)(o.pid)}),ke(""),t.streams.clear(),process.exit(0)})}}l();var Qu=require("pathe"),Hd=V(pn());async function zd(){if(!w("script",i.config.transform)||!i.config.transform.script||oe(i.config.transform.script))return;let e=vt("Script Transform");w("entryPoints",i.processor.esbuild)&&(e("processor option is not allowed and was omitted","entryPoints"),delete i.processor.esbuild.entryPoints);let t=Un(i.config.transform.script,{addWatch:!1,flatten:!0}),r=jo(["input","watch","rename","snippet"]);w("absWorkingDir",i.processor.esbuild)||(i.processor.esbuild.absWorkingDir=i.cwd);for(let n of t){let s=n.snippet?"snippets":"assets",{name:o}=js(n.input,n.rename),a;o.endsWith(".js")===!1&&o.endsWith(".mjs")===!1?a=o+".js":o.endsWith(".cjs")?Be({option:"transform.script",name:"rename",value:o,expects:".js | .mjs",reason:["You cannot use cjs extensions in web environments"]}):a=o,n.snippet===!0&&a.endsWith(".liquid")===!1&&(a=a+".liquid");let u=Ae(n),c=L();if(n.snippet){if(c.snippet=!0,c.namespace="snippets",c.type=3,u("attrs")&&oe(n.attrs)===!1)if(B(n.attrs))for(let f=0;f<n.attrs.length;f++){let p=n.attrs[f];B(p)?c.attrs.push(p.join("")):H({option:"style",name:`attrs[${f}]`,provided:p,expects:"string[]"})}else H({option:"style",name:"attrs",provided:n.attrs,expects:"[ string[] ]"})}else c.snippet=!1,c.namespace="assets",c.type=10;if(c.uuid=Ht(),c.snippet=n.snippet,c.input=n.input,c.output=(0,Qu.join)(i.dirs.output,s,a),c.key=(0,Qu.join)(s,a),c.attrs=[],c.size=NaN,c.watch=null,c.watchCustom=null,c.esbuild=null,i.processor.esbuild.outfile=c.output,i.mode.watch&&i.watch.unwatch(c.output),u("esbuild"))if(he(n.esbuild)||pe(n.esbuild))oe(r)?c.esbuild=i.processor.esbuild:c.esbuild=Re(i.processor.esbuild,r);else if(O(n.esbuild)){let f=Ae(n.esbuild);for(let p in["entryPoints","outdir","watch","absWorkingDir","watch","write","logLevel","incremental"])p==="entryPoints"&&f(p)?e('Option is not allowed, use Syncify "input" instead',p):p==="outdir"&&f(p)?e("Option is not allowed, Syncify will handle output",p):p==="watch"&&f(p)?e("Option is not allowed, declare watch using Syncify",p):f(p)&&e("Option is not allowed and will be ignored",p);f("plugins")&&w("plugins",i.processor.esbuild)&&n.esbuild.plugins.unshift(...i.processor.esbuild.plugins),oe(r)?c.esbuild=Re(i.processor.esbuild,n.esbuild):c.esbuild=Re(i.processor.esbuild,n.esbuild,r)}else H({option:"script",name:"esbuild",provided:typeof n.esbuild,expects:"boolean | null | {}"});else oe(r)?c.esbuild=i.processor.esbuild:c.esbuild=Re(i.processor.esbuild,r);if(c.esbuild.entryPoints=[c.input],i.mode.watch)if(!u("watch"))c.watch=new Set;else{B(n.watch)||H({option:"script",name:"watch",provided:n.watch,expects:"string[]"});let f=Qt(n.watch);c.watchCustom=(0,Hd.default)(f),c.watch=new Set(f)}else c.watch=new Set;try{await Dm(c)}catch(f){of(f,{message:["Syncify has failed to initialize due to a script prebuild error.","Script transforms execute runtime builds but the compile process did not complete.","This is typically due to invalid JavaScript syntax but may also be caused due to invalid","transform options being passed."],solution:["You will need to correct the error encountered. Alternatively you can skip Syncify","from applying the transform by excluding the file. "],entries:{processor:"ESBuild"}})}i.mode.terse&&(c.esbuild=Re(c.esbuild,i.terser.script,{exclude:void 0})),i.script.push(c)}}l();var ec=V(require("fast-glob")),tc=V(pn());var yr=require("pathe"),rc=require("fs-extra");async function s1(){let e=await Yu("postcss.config",{tsconfig:null});if(e!==null&&(i.processor.postcss.file=e.path,i.processor.postcss.config=e.config,i.watch.add(e.path)),i.processor.tailwind.installed=Ju(i.pkg,"tailwindcss"),i.processor.tailwind.installed){await xu("tailwind")||We("Unable to dynamically import TailwindCSS",["Ensure you have installed tailwindcss"]);let r=await Yu("tailwind.config",{tsconfig:null});r!==null&&(i.processor.tailwind.file=r.path,i.processor.tailwind.config=r.config,i.watch.add(r.path))}i.processor.sass.installed=Ju(i.pkg,"sass"),i.processor.sass.installed&&(await xu("sass")||We("Unable to dynamically import SASS",["Ensure you have installed sass"]))}async function Ud(){if(!w("style",i.config.transform)||!i.config.transform.style||oe(i.config.transform.style))return;await s1();let e=vt("Style Transform"),t=Un(i.config.transform.style,{addWatch:!1,flatten:!0}),r=Nn(i.config.input);for(let n=0;n<t.length;n++){let s=t[n],o=Ae(s),a=L();if(a.uuid=Ht(),a.input=s.input,a.watch=null,a.attrs=[],a.postcss=null,a.sass=!1,a.tailwind=null,o("postcss")?B(s.postcss)&&s.postcss.length>0?st(a,"postcss",{get(){return s.postcss}}):he(s.postcss)&&s.postcss!==!1&&pe(s.postcss)===!1?st(a,"postcss",{get(){return Re(i.processor.postcss.config)}}):H({option:"style",name:"postcss",provided:a.postcss,expects:"boolean | []"}):st(a,"postcss",{get(){return Re(i.processor.postcss.config)}}),o("tailwind")){i.processor.tailwind.installed||Ca("tailwindcss");let f=O(s.tailwind);if(f||he(s.tailwind)&&s.tailwind!==!1&&pe(s.tailwind)===!1){let p=Re(f?s.tailwind:i.processor.tailwind.config);if(B(p.content)&&oe(p.content)&&(p.content=[(0,yr.join)(i.dirs.input,"**","*.{js,ts,jsx,tsx,vue,svelte,liquid,json,schema}")]),st(a,"tailwind",{get(){return p}}),i.mode.watch&&B(a.tailwind.content)){let d=await(0,ec.default)(a.tailwind.content);i.processor.tailwind.map===null&&(i.processor.tailwind.map=L()),i.processor.tailwind.map[n]=new Set(d)}}else H({option:"style",name:"tailwind",provided:a.tailwind,expects:"boolean | {}"})}if(o("sass")&&s.sass!==!1&&i.processor.sass.installed===!0){let f=O(s.sass);if((he(s.sass)||f)&&pe(s.sass)===!1)if(i.processor.sass.installed||Ca("sass"),f===!1)st(a,"sass",{get(){return s.sass}});else{a.sass=Re(i.processor.sass.config,s.sass);for(let p in s.sass)if(p==="sourcemap"||p==="warnings"||p==="quietDeps")he(s.sass[p])?a.sass[p]=s.sass[p]:H({option:"sass",name:p,provided:s.sass[p],expects:"boolean"});else if(p==="style")_(s.sass[p])===!1&&H({option:"sass",name:p,provided:s.sass[p],expects:"string"}),s.sass[p]==="expanded"||s.sass[p]==="compressed"?a.sass[p]=s.sass[p]:Be({option:"sass",name:p,value:s.sass[p],expects:"expanded | compressed"});else if(p==="includePaths")if(B(s.sass[p])){let d=[];for(let b of s.sass[p]){let D=(0,yr.join)(i.cwd,b);await(0,rc.exists)(D)?d.push(D):e("Cannot resolve sass includePath entry",b)}a.sass[p]=d}else H({option:"sass",name:p,provided:s.sass[p],expects:"string[]"})}else H({option:"style",name:"sass",provided:s.sass,expects:"boolean | {}"});s.snippet===!1&&!/\.s[ac]ss/.test((0,yr.extname)(a.input))&&e("Input is not a sass file",a.input)}let u=js(s.rename);o("rename")&&pe(s)===!1&&(_(s.rename)===!1&&H({option:"styles",name:"rename",provided:s.rename,expects:"string"}),u=js(a.input,s.rename),/[a-zA-Z0-9_.-]+/.test(u.name)===!1&&H({option:"sass",name:"rename",provided:u,expects:"Characters: [a-zA-Z0-9_.-]"}),u.name.endsWith(".css")?a.rename=u.name:u.name.endsWith(".scss")?u.name=u.name.replace(".scss",".css"):u.name.endsWith(".sass")?u.name=u.name.replace(".sass",".css"):u.name.endsWith(".liquid")||(u.name=u.name+".css"));let c=[];if(i.mode.watch&&o("watch")){B(s.watch)||H({option:"styles",name:"watch",provided:s.watch,expects:"string[]"});for(let f of s.watch){let p=await(0,ec.default)((0,yr.join)(i.cwd,r(f)));p.length===0&&f[0]!=="!"&&e("Cannot resolve watch glob/path uri",f);for(let d of p)await(0,rc.exists)(d)?c.push(d):e("No file exists in path",d)}c.push(a.input);for(let f of c)i.watch.add(f);a.watch=(0,tc.default)(c)}else a.watch=(0,tc.default)([a.input]),i.watch.add(a.input);if(O(a.sass)&&(a.sass.include.unshift(i.cwd,(0,yr.join)(i.cwd,u.dir)),_t("sass.include",s)&&(a.sass.include=s.sass.include.map(f=>(0,yr.join)(i.cwd,f)))),o("snippet")&&(he(s.snippet)||H({option:"styles",name:"snippet",provided:s.snippet,expects:"boolean"}),a.snippet=s.snippet,a.snippet===!0&&o("attrs")&&oe(s.attrs)===!1))if(B(s.attrs))for(let f=0;f<s.attrs.length;f++){let p=s.attrs[f];B(p)?a.attrs.push(p.join("")):H({option:"style",name:`attrs[${f}]`,provided:p,expects:"string[]"})}else H({option:"style",name:"attrs",provided:s.attrs,expects:"[ string[] ]"});a.snippet?(w("rename",a)||(a.rename=u.name),(u.name.endsWith(".liquid")===!1||a.rename.endsWith(".liquid")===!1)&&(a.rename=u.name+".liquid"),i.paths.transforms.set(a.input,9),i.mode.watch&&i.watch.unwatch((0,yr.join)(i.dirs.output,"snippets",a.rename))):(a.rename=u.name,i.mode.watch&&i.watch.unwatch((0,yr.join)(i.dirs.output,"assets",u.name))),i.style.push(a)}}l();var Ro=require("pathe");async function Vd(){if(!w("svg",i.config.transform)||!i.config.transform.svg||oe(i.config.transform.svg))return;let e=vt("SVG Transform"),t=Un(i.config.transform.svg,{addWatch:!0,flatten:!1});for(let r of t){let n=r.input.filter(a=>(0,Ro.extname)(a)===".svg"?!0:(e("Excluded file which is not an SVG type",(0,Ro.relative)(i.cwd,a)),!1));if(n.length===0){e("No SVG file paths were resolved");continue}let s=Ae(r),o=L();o.uuid=Ht(),o.input=new Set(n),o.format=null,o.match=r.match,o.rename=r.rename,o.snippet=r.snippet,s("svgo")&&s("sprite")&&Be({option:"transform",name:"svg",value:"svgo AND sprite",expects:"svgo OR sprite"}),s("format")?r.format==="file"||r.format==="sprite"?(o.format=r.format,r.format==="file"?o.svgo=!0:o.sprite=!0):Be({option:"transform > svg",name:"format",value:r.format,expects:'"sprite" | "file"'}):s("svgo")?(o.format="file",o.svgo=O(r.svgo)?Re(i.processor.svgo,r.svgo):!0):s("sprite")?(o.format="sprite",o.sprite=O(r.sprite)?Re(i.processor.sprite,r.sprite):!0):rf({option:"transform.svg",key:"format",expects:"sprite | file",reason:[`SVG transforms require you to define ${le("format")} Syncify needs to knows how`,"it should handle the input and which processor to use for the transform."]}),i.svg.push(o)}}l();var Ms=require("pathe");async function Jd(){if(i.mode.watch!==!0){if(i.cache.build.hotSnippet.length>0){for(let r of i.cache.build.hotSnippet)await ja(r);i.cache.build.hotSnippet=[]}return}if(i.mode.hot===!1&&i.config.hot===!1){if(i.cache.build.hotSnippet.length>0){for(let r of i.cache.build.hotSnippet)await ja(r);i.cache.build.hotSnippet=[]}return}i.mode.hot===!1&&i.config.hot===!0&&(i.mode.hot=!0);let e=vt("HOT Reloads");if(i.env.sync>1){e("HOT Reloads can only be used on 1 store");return}else if(i.sync.themes.length>1){e("HOT Reloads can only be used on 1 theme");return}if(rr(O(i.config.hot),he(i.config.hot),pe(i.config.hot))&&H({option:"config",name:"hot",provided:i.config.hot,expects:"boolean | {}"}),O(i.config.hot)&&oe(i.config.hot)===!1){let r=Ae(i.hot);for(let n in i.config.hot)r(n)||Mr(`hot.${n}`,i.config.hot[n]),n==="label"?i.config.hot[n]==="visible"||i.config.hot[n]==="hidden"?i.hot[n]=i.config.hot[n]:Be({option:"hot",name:n,value:i.config.hot[n],expects:"visible | hidden"}):n==="strategy"?i.config.hot[n]==="hydrate"||i.config.hot[n]==="replace"?i.hot[n]=i.config.hot[n]:Be({option:"hot",name:n,value:i.config.hot[n],expects:"hydrate | replace"}):n==="method"?i.config.hot[n]==="hot"||i.config.hot[n]==="refresh"?i.hot[n]=i.config.hot[n]:Be({option:"hot",name:n,value:i.config.hot[n],expects:"hot | refresh"}):n==="scroll"?i.config.hot[n]==="preserved"||i.config.hot[n]==="top"?i.hot[n]=i.config.hot[n]:Be({option:"hot",name:n,value:i.config.hot[n],expects:"preserved | top"}):typeof i.hot[n]==typeof i.config.hot[n]?i.hot[n]=i.config.hot[n]:H({option:"hot",name:n,provided:i.config.hot[n],expects:typeof i.hot[n]})}i.hot.snippet=(0,Ms.join)(i.cwd,"node_modules","@syncify/cli","hot.js.liquid"),i.hot.output=(0,Ms.join)(i.dirs.output,"snippets","hot.js.liquid");let t=(0,Ms.join)(i.dirs.output,"layout");for(let r of i.hot.layouts){let n=(0,Ms.join)(t,r);i.hot.alive[n]=!1,i.cache.build.hotSnippet.includes(t)||i.cache.build.hotSnippet.push(t)}i.hot.renderer="{% render 'hot.js'"+["",`server: ${i.hot.server}`,`socket: ${i.hot.socket}`,`strategy: "${i.hot.strategy}"`,`scroll: "${i.hot.scroll}"`,`label: "${i.hot.label}"`,`history: "${i.hot.history}`,`method: "${i.hot.method}"`].join(", ")+" %}",i.wss=gd()}l();var Kd=require("pathe");function nc(e,t){let r=[],n=L();i.mode.upload?(n.base="output",n.from="output",n.dirs=on.map(s=>`${C("-")} ${k(s)}`),n.fix=[`The ${k("--filter")} (or ${k("-f")}) flag command argument expects you`,"provide a theme output directory as the starting point. Filtering begins with","a Shopify output directory name, for example:","",`${C("$")} ${C(`syncify --filter ${k("sections/file.liquid")}`)}`,`${C("$")} ${C(`syncify --filter ${k("snippets/*")}`)}`,`${C("$")} ${C(`syncify --filter ${k("templates/*.json")}`)}`,`${C("$")} ${C(`syncify --filter ${k("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${g(n.base)} directory`,"based on the starting point directory name. You can pass glob star matches following the",`directory namespace or starting point ignores (${k("!")}) as long the directory can match.`]):(n.base="input",n.from="paths",n.dirs=sn.map(s=>`${C("-")} ${k(s)}`),n.fix=[`The ${k("--filter")} (or ${k("-f")}) flag command argument expects you`,`provide a ${qt.bold("paths")} key name as the starting point. Filtering begins with`,"a Shopify output directory name, for example:","",`${C("$")} ${C(`syncify --filter ${k("sections/file.liquid")}`)}`,`${C("$")} ${C(`syncify --filter ${k("snippets/*")}`)}`,`${C("$")} ${C(`syncify --filter ${k("templates/*.json")}`)}`,`${C("$")} ${C(`syncify --filter ${k("!assets/some-file.ext")}`)}`,"",`Syncify will automatically resolve files from within your defined ${g(n.base)} directory`,`based on the starting point ${g("paths")} name. You can pass glob star matches following the`,`starting point or ignores (${k("!")}) as long the reference can match.`]),e==="pattern"?(r.push(`Invalid ${k("--filter")} pattern provided. You cannot pass starting point`),t[0]==="*"?r.push(`glob (${k("*")}) stars as filters, Syncify does not support this.`):t[0]==="/"?r.push(`path (${k("/")}) roots as filters, Syncify does not support this.`):t[0]==="."&&r.push(`dot paths (${k(".")})  as filters, Syncify does not support this.`),r.push(`Use a starting point reference name based on the ${k(n.from)} key property`,`in your ${k(i.file.base)} file.`)):r.push(`Invalid directory provided. The ${k("--filter")} pattern expects the starting point`,"directory path be one of the following:","",...n.dirs,""),ur({message:r,expected:"--filter <dir>",fix:n.fix})}function Yd(e,t,r){if((t[0]==="*"||t[0]==="/"||t[0]===".")&&nc("pattern",t),t[0]==="!"){r.test(t.slice(1))||nc("dir",t);return}r.test(t)||nc("dir",t);let n=t.slice(0,t.indexOf("/"));B(i.filters[n])||(i.filters[n]=[]),i.filters[n].push((0,Kd.join)(e,t))}function Xd(e){if(!w("filter",e))return;let t=i.mode.upload?i.dirs.output:i.dirs.input,r=e.filter.replace(/\s+/g," ").trim(),n=i.mode.upload?new RegExp(`^(${on.join("|")})`):new RegExp(`^(${sn.join("|")})`);if(r.indexOf(",")>-1){let s=r.split(",").filter(Boolean).map(o=>o.trim());for(let o of s)Yd(t,o,n)}else Yd(t,r,n)}l();function Zd(){let{terser:e,mode:t}=i;if(he(i.config.terser)){if(t.terse===!1&&i.config.terser===!1)return;t.terse===!1&&i.config.terser===!0&&(t.terse=!0)}let r=vt("terser configuration");if(typeof i.config.terser=="object")for(let n in i.config.terser){if(i.config.terser[n]===!1||pe(i.config.terser[n])){i.mode.terse===!0&&(i.terse[n]=!0);continue}if(n==="script"&&i.processor.esbuild.installed===!1&&(O(i.config.terser[n])&&oe(i.config.terser[n])===!1||he(i.config.terser[n])&&i.config.terser[n]===!0)&&We("esbuild is not installed",cl),he(i.config.terser[n]))i.terser[n]=i.config.terser[n];else if(O(e[n])){if(oe(e[n]))continue;for(let s in i.config.terser[n]){if(s==="exclude"){oe(i.config.terser[n][s])||(e[n][s]=Qt(i.config.terser[n][s]));continue}w(s,e[n])||Mr(`terser.${n}`,s),s==="mangleProps"?!pe(i.config.terser[n][s])&&!wr(e[n][s])&&H({option:`terser.${n}`,name:s,provided:`${typeof i.config.terser[n][s]} (${i.config.terser[n][s]})`,expects:"Regex | string | undefined"}):!pe(i.config.terser[n][s])&&typeof e[n][s]!=typeof i.config.terser[n][s]&&H({option:`terser.${n}`,name:s,provided:typeof i.config.terser[n][s],expects:typeof e[n][s]}),s==="collapseWhitespace"?e.markup.collapseWhitespace=i.config.terser[n][s]:e[n][s]=i.config.terser[n][s]}}else r("unkown option provided",n)}}l();function Qd(){if(!Ae(i.config.views)("pages"))return;let{pages:e}=i.config.views;if(!O(e)&&!pe(e)&&H({option:"views",name:"pages",provided:typeof e,expects:"{}"}),oe(e))return;let t=Ae(e);for(let r in e)if(t(r)||Mr("pages",r),r==="language")_(e[r])?e[r]==="markdown"||e[r]==="html"?i.page[r]=e[r]:Be({option:"views.pages",name:r,value:e[r],expects:"markdown | html"}):H({option:"views.pages",name:r,provided:e[r],expects:"markdown | html"});else if(r==="author"){if(pe(e[r]))continue;_(e[r])?i.page[r]=e[r]:H({option:"views.pages",name:r,provided:e[r],expects:"string"})}else if(r==="suffixDir"||r==="safeSync"){if(pe(e[r]))continue;he(e[r])?i.page[r]=e[r]:H({option:"views.pages",name:r,provided:e[r],expects:"object"})}else if(r==="global"){if(pe(e[r]))continue;if(B(e[r])){if(e[r].length>0){i.page[r]=new RegExp(`${e[r].join("|")}`);continue}}else H({option:"views.pages",name:r,provided:e[r],expects:"string | string[]"})}}l();async function eg(){if(O(i.config.publish)&&oe(i.config.publish)===!1)for(let e in i.config.publish)w(e,i.publish)||Mr(`publish.${e}`,i.config.publish[e]),e==="tunnelPort"?Ft(i.config.publish[e])&&isNaN(i.config.publish[e])===!1?i.publish[e]=i.config.publish[e]:Be({option:"publish",name:e,value:i.config.hot[e],expects:"visible | hidden"}):e==="publishRole"?i.config.publish[e]==="main"||i.config.publish[e]==="unpublished"||i.config.publish[e]==="development"?i.publish[e]=i.config.publish[e]:Be({option:"publish",name:e,value:i.config.hot[e],expects:"main | unpublished | development"}):e==="bindVersion"?he(i.config.publish[e])?i.publish[e]=i.config.publish[e]:H({option:"bindVersion",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}):e==="themeLimit"&&(Ft(i.config.publish[e])?i.config.publish[e]>5?Be({option:"publish",name:e,value:i.config.hot[e],expects:"1 - 5",reason:["Syncify requries a theme limit between 1 and 5."]}):i.publish[e]=i.config.publish[e]:H({option:"themeLimit",name:e,provided:i.config.publish[e],expects:typeof i.publish[e]}));(i.mode.publish===!0||i.mode.release===!0)&&(w("ngrok_auth_token",i.env.vars)||We("Missing ngrok auth token",["Theme publishing requires an ngrok authorisation token",`This is easy to obtain, visit ${sr("https://ngrok.com")}`,`and create a ${g("free")} account to get a token.`,"",`Once you have obtained an auth token, provide it in your ${m(".env")}`,"file, use the following environment variable name:","",`${I('ngrok_auth_token = ""')}`]))}async function rg(e,t){if(E.start("runtime"),$t(i),await Qm(e),await Mu(e),await c1(e),await Tm(e),i1(e),Fd(e),i.mode.setup||i.mode.strap||(process.env.SYNCIFY_ENV=i.env.dev?"dev":"prod",process.env.SYNCIFY_WATCH=String(i.mode.watch),bd(e),kd(e),Xd(e),$t.modes(i),await Bd(e),o1(e.watch||e.upload),a1(),eg(),Gd(),await Promise.all([Dd(),Hu(),wd(),Nd()]).catch(n=>{Nt(n,{details:"Directory and path generation error"})}),i.mode.themes))return;Qd(),Sd(),vd(),u1(),i.mode.build||$t.stores(i),await $d(),await zd(),await Vd(),await Ud(),Zd();let r=await Promise.all([Jd(),Bm()]).catch(n=>{Nt(n,{details:"Runtime error"})});return $t.warnings(i),i.mode.build||$t.time(),r}function i1(e){i.restart=!1,i.cli=e,i.cwd=e.cwd,i.env.cli=e.cli,i.env.prod=e.prod,i.env.dev=e.dev&&!e.prod,i.terminal.wrap=Math.round(i.terminal.cols-i.terminal.cols/3);let t=Ae(i.config.log);t("silent")&&(i.log.config.silent=i.config.log.silent),t("clear")&&(i.log.config.clear=i.config.log.clear),t("stats")&&(i.log.config.stats=i.config.log.stats),t("warnings")&&(i.log.config.warnings=i.config.log.warnings)}function o1(e){e&&(i.watch=new tg.FSWatcher({persistent:!0,ignoreInitial:!0,usePolling:!0,interval:75,binaryInterval:100,ignored:["**/*.map"],ignorePermissionErrors:!0}),i.watch=Object.defineProperties(i.watch,{has:{value(t,r=i.cwd){return i.watch._watched.has(r)?i.watch._watched.get(r).items.has(t):!1}},paths:{get(){return Lr(this._closers.keys())}},watching:{get(){return i.watch._watched}}}))}function a1(){if(w("processors",i.config)&&O(process.config))for(let e in i.config.processors)oe(i.config.processors[e])||(B(i.config.processors[e])?i.processor[e].config=i.config.processors[e]:O(i.config.processors[e])&&(e==="esbuild"?i.processor[e]=Re(i.processor[e],i.config.processors[e]):i.processor[e].config=Re(i.processor[e].config,i.config.processors[e])))}function u1(){if(w("plugins",i.config)&&B(i.config.plugins))for(let e of i.config.plugins)w("onInit",e)&&e.onInit.call({...i},i.config),w("onChange",e)&&i.plugins.onChange.push([e.name,e.onChange]),w("onTransform",e)&&i.plugins.onTransform.push([e.name,e.onTransform]),i.mode.watch&&(w("onWatch",e)&&i.plugins.onWatch.push([e.name,e.onWatch]),w("onReload",e)&&i.plugins.onReload.push([e.name,e.onReload])),i.mode.build&&w("onBuild",e)&&i.plugins.onBuild.push([e.name,e.onBuild])}async function c1(e){let t=await Xm(e.cwd);t!==null?i.config=t:w("syncify",i.pkg)&&(w("config",i.pkg.syncify)?i.config=i.pkg.syncify.config:w("stores",i.pkg.syncify)||e.setup===!1&&e.strap===null&&sf(e.cwd))}l();var No=require("enquirer");l();async function ng(e){return Xr.get("/oauth/access_scopes.json",e).then(({data:t})=>t).catch(t=>!1)}async function sg(){let e=U({type:"info"}),t={store:null,domain:null,token:null,ngrok:null,version:null,scopes:{read_content:!1,read_files:!1,read_online_store_pages:!1,read_themes:!1,write_content:!1,write_files:!1,write_online_store_pages:!1,write_themes:!1}},r=Q({},Ws,{pointer(f,p){return this.state.index===p?v.stub.trimEnd()+" ":v.trim+" "}}),n=[`Existing Setup${R}  `,`Shopify Domain${R}  `,`Admin API Token${R} `,`Ngrok API Token${R} `];if(i.env.file!==null)return A(e.Line("Environment references exist, setup can only be used for new installations.").NL.End(i.log.group).BR.toString());let{domain:s}=await(0,No.prompt)({type:"input",name:"domain",message:n[1],required:!0,format(f){return f+".myshopify.com"},validate(f){return this.state.symbols.pointer="  ",f===".myshopify.com"||f.length===0?"Enter myshopify.com domain name":!0},theme:r}),{token:o}=await(0,No.prompt)({type:"input",name:"token",required:!0,message:n[2],theme:r,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Admin API Token":!0}}),{ngrok:a}=await(0,No.prompt)({type:"input",name:"ngrok",required:!0,message:n[3],theme:r,validate(f){return this.state.symbols.pointer="  ",!f||f.length<10?"Invalid Ngrok API Token":!0}}),u=await ng({baseURL:`https://${s}.myshopify.com/admin`,headers:{"X-Shopify-Access-Token":o.trim()}});if(he(u))return A(e.NL.Wrap(`Connection failed on ${le(`${s}.myshopify.com`)}. Please check the API Access Token`,"is correct and you have set the correct scopes, then try again.",re).NL.End(i.log.group).BR.toString());for(let{handle:f}of u.access_scopes)f in t.scopes&&(t.scopes[f]=!0,e.Line(`${Gc} ${f}`));let c=0;for(let f in t.scopes)t.scopes[f]===!1&&(e.Line(`${Pr} ${f}`,re),c=c+1);if(c>0)return A(e.NL.Wrap("Syncify requires read and write access to all the above resources.","Provide access to all scopes listed in red (above) and try again.",re).NL.End(i.log.group).BR.toString());A(e.toLine()),t.store=s,t.domain=`${s}.myshopify.com`,t.token=o.trim(),t.ngrok=a.trim()}l();var ig=require("enquirer"),og=require("fs-extra");var qs=require("pathe");async function ag(){let e=(0,qs.join)(i.cwd,"node_modules","@syncify/cli","straps"),t={dawn:(0,qs.join)(e,"dawn"),dusk:(0,qs.join)(e,"dusk"),silk:(0,qs.join)(e,"silk")},r=Q({},Ws,{pointer(s,o){return this.state.index===o?v.stub.trimEnd()+" ":v.trim+" "}}),{template:n}=await(0,ig.prompt)({type:"select",name:"template",message:`Choose Strap${R}    `,required:!0,theme:r,choices:[{name:"dusk",message:"Dusk  ",hint:"Stripped theme"},{name:"dawn",message:"Dawn  ",hint:"Shopify Slop"},{name:"silk",message:"Silk  ",hint:"Custom theme"}]});(0,og.copy)(t[n],i.cwd)}l();var f1=e=>e;var p1={get dev(){return process.env.SYNCIFY_ENV==="dev"},get terse(){return i.cli.terse},get prod(){return process.env.SYNCIFY_ENV==="prod"},get watch(){return process.env.SYNCIFY_WATCH==="true"}};async function ug(e,t,r){if(_e("_",e)&&(e._=e._.slice(1)),cg.argv.slice(2).length===0||e.help==="examples"||_(e.help)&&e.help.length===0)return yd(e);if(await rg(e,t),i.mode.setup)return sg();if(i.mode.strap)return ag();if(i.mode.themes)return qm();process.stdin.on("data",hd),i.mode.hot&&await dd();try{if(i.env.ready=!0,i.mode.build&&i.mode.export===!1)return bo(r);if(i.mode.watch)return jm(r);if(i.mode.upload)return Rf(r);if(i.mode.import)return Gm(r);if(i.mode.export&&i.mode.publish===!1)return Eo(r);if(i.mode.publish)return od(r);if(i.mode.interactive)return console.log("TODO: --interactive is not yet supported");if(i.mode.metafields)return console.log("TODO: --metafields is not yet supported")}catch(n){console.log(n)}}0&&(module.exports={$,defineConfig,env,run});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

imurmurhash/imurmurhash.js:
  (**
   * @preserve
   * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
   *
   * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
   * @see http://github.com/homebrewing/brauhaus-diff
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/murmurhash-js
   * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
   * @see http://sites.google.com/site/murmurhash/
   *)
*/
